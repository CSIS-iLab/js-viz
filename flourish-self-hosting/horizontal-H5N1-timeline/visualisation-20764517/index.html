<!DOCTYPE html><html><head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="style.css">
	<title>Horizontal H5N1 timeline</title></head>
	<body>
		<!-- This empty element starts both weights of fonts to load, avoiding a transition interruption when the fontWatcher is called -->
		<p style="position: fixed; visibility: hidden; left: -10000px; top: -10000px"><strong>&nbsp;</strong></p>
	

<script>window.Flourish = {"static_prefix":".","environment":"live","is_read_only":true};</script><script>var template=function(t){"use strict";var e={layout:{screenreader_hide_primary:!1},color:{},duration:1,current_point:0,current_scroll:0,legend_container:{},legend_categorical:{},legend_filtered:[],time:null,height_mode:"auto",facet_aspect:"1",facet_aspect_custom:1,facet_aspect_breakpoint:500,facet_aspect_mobile:"1",facet_aspect_mobile_custom:1,x:{tick_label_size:1,line_visible:!1,tick_length:0,tick_label_angle:0,tick_padding:1,gridlines_visible:!0,gridlines_styling:!0,nice:!1,gridline_style:"dot",gridline_width:.15,gridline_color:"#cccccc"},y:{tick_label_size:1,line_visible:!1,tick_length:0,tick_label_angle:0,tick_padding:1,gridlines_visible:!0,nice:!1,gridline_style:"dot",gridline_width:.15,gridline_color:"#cccccc"},chart_bg:{},marker_background_color:"custom",marker_background_color_custom:null,marker_border_color:"data",marker_border_color_custom:null,marker_size:1,marker_border_width:.2,timeline_aspect:5,ticker_color:null,line_width:.4,line_cap:"butt",line_shadow_opacity:.05,line_curve:"curve",line_color:null,event_stroke:null,event_stroke_width:.25,event_opacity:.5,event_radius_highlighted:40,event_offset:1.25,navigation_step_type:"screen",navigation_screen_proportion:1,navigation_event_number:1,navigation_icon_type:"default",navigation_icon_size:3,navigation_icon_opacity:1,navigation_icon_color:null,navigation_icon_custom:"",navigation_gradient_color:null,navigation_gradient_width:7,navigation_gradient_opacity:1,content_background_color:null,content_padding:.5,content_space_between:1,content_consistent_size:!0,content_border_radius:0,individual_borders:!0,content_border_width:1,content_border_opacity:1,content_border_color:"custom",content_border_color_custom:null,content_border_top_width:4,content_border_top_opacity:1,content_border_top_color:"data",content_border_top_color_custom:null,content_border_right_width:1,content_border_right_opacity:.1,content_border_right_color:"custom",content_border_right_color_custom:null,content_border_bottom_width:1,content_border_bottom_opacity:.1,content_border_bottom_color:"custom",content_border_bottom_color_custom:null,content_border_left_width:1,content_border_left_opacity:.1,content_border_left_color:"custom",content_border_left_color_custom:null,content_title_alignment:"start",content_title_styling:!1,content_title_size:"1.2",content_title_size_custom:"1.2",content_title_weight:"bold",content_title_color:"custom",content_title_color_custom:null,content_title_opacity:1,content_title_line_height:"1.5",content_title_space_above:"0",content_title_space_above_custom:"0",content_subtitle_alignment:"start",content_subtitle_styling:!1,content_subtitle_size:"1.0",content_subtitle_size_custom:"1.0",content_subtitle_weight:"normal",content_subtitle_color:"data",content_subtitle_color_custom:null,content_subtitle_opacity:1,content_subtitle_line_height:"1.5",content_subtitle_space_above:"0",content_subtitle_space_above_custom:"0",content_text_alignment:"start",content_text_styling:!1,content_text_size:"1.0",content_text_size_custom:"1.0",content_text_weight:"normal",content_text_color:"custom",content_text_color_custom:null,content_text_opacity:1,content_text_line_height:"1.2",content_text_space_above:"0",content_text_space_above_custom:"0",link_color:"#999999",link_weight:"normal",link_underline:!0,image_location:"marker",image_sizing:"cover",image_content_sizing:"cover",image_display:"float",content_banner_depth:2,content_banner_depth_custom:0,image_zoom:200,image_content_zoom:200,image_width:5,image_aspect:1,image_margin:.75,image_opacity:1,image_float_position:"1",image_inline_position:"1",image_alignment:"start",connector_size:.1,connector_space:1,connector_color:null,connector_opacity:.1,widescreen_orientation:"horizontal",breakpoint:500,events_scale_type:"linear",background_sizing:"cover",background_zoom:200,background_opacity:.2,background_gradient_size:4,background_gradient_opacity:1,background_gradient_blur:2};var n="http://www.w3.org/1999/xhtml",r={svg:"http://www.w3.org/2000/svg",xhtml:n,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function i(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),r.hasOwnProperty(e)?{space:r[e],local:t}:t}function o(t){return function(){var e=this.ownerDocument,r=this.namespaceURI;return r===n&&e.documentElement.namespaceURI===n?e.createElement(t):e.createElementNS(r,t)}}function a(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function u(t){var e=i(t);return(e.local?a:o)(e)}function l(){}function c(t){return null==t?l:function(){return this.querySelector(t)}}function s(){return[]}function f(t){return null==t?s:function(){return this.querySelectorAll(t)}}function d(t){return function(){return function(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}function h(t){return function(){return this.matches(t)}}function p(t){return function(e){return e.matches(t)}}var g=Array.prototype.find;function _(){return this.firstElementChild}var m=Array.prototype.filter;function y(){return Array.from(this.children)}function b(t){return new Array(t.length)}function v(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function w(t,e,n,r,i,o){for(var a,u=0,l=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new v(t,o[u]);for(;u<l;++u)(a=e[u])&&(i[u]=a)}function x(t,e,n,r,i,o,a){var u,l,c,s=new Map,f=e.length,d=o.length,h=new Array(f);for(u=0;u<f;++u)(l=e[u])&&(h[u]=c=a.call(l,l.__data__,u,e)+"",s.has(c)?i[u]=l:s.set(c,l));for(u=0;u<d;++u)c=a.call(t,o[u],u,o)+"",(l=s.get(c))?(r[u]=l,l.__data__=o[u],s.delete(c)):n[u]=new v(t,o[u]);for(u=0;u<f;++u)(l=e[u])&&s.get(h[u])===l&&(i[u]=l)}function k(t){return t.__data__}function M(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function A(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function T(t){return function(){this.removeAttribute(t)}}function N(t){return function(){this.removeAttributeNS(t.space,t.local)}}function C(t,e){return function(){this.setAttribute(t,e)}}function S(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function z(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function $(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function E(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function D(t){return function(){this.style.removeProperty(t)}}function F(t,e,n){return function(){this.style.setProperty(t,e,n)}}function U(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function H(t,e){return t.style.getPropertyValue(e)||E(t).getComputedStyle(t,null).getPropertyValue(e)}function j(t){return function(){delete this[t]}}function O(t,e){return function(){this[t]=e}}function L(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function q(t){return t.trim().split(/^|\s+/)}function P(t){return t.classList||new Y(t)}function Y(t){this._node=t,this._names=q(t.getAttribute("class")||"")}function B(t,e){for(var n=P(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function R(t,e){for(var n=P(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function I(t){return function(){B(this,t)}}function W(t){return function(){R(this,t)}}function V(t,e){return function(){(e.apply(this,arguments)?B:R)(this,t)}}function X(){this.textContent=""}function Z(t){return function(){this.textContent=t}}function G(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Q(){this.innerHTML=""}function J(t){return function(){this.innerHTML=t}}function K(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function tt(){this.nextSibling&&this.parentNode.appendChild(this)}function et(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nt(){return null}function rt(){var t=this.parentNode;t&&t.removeChild(this)}function it(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ot(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function at(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ut(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function lt(t,e,n){var r=E(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ct(t,e){return function(){return lt(this,t,e)}}function st(t,e){return function(){return lt(this,t,e.apply(this,arguments))}}v.prototype={constructor:v,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ft=[null];function dt(t,e){this._groups=t,this._parents=e}function ht(){return new dt([[document.documentElement]],ft)}function pt(t){return"string"==typeof t?new dt([[document.querySelector(t)]],[document.documentElement]):new dt([[t]],ft)}function gt(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function _t(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function yt(){}dt.prototype=ht.prototype={constructor:dt,select:function(t){"function"!=typeof t&&(t=c(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],l=u.length,s=r[i]=new Array(l),f=0;f<l;++f)(o=u[f])&&(a=t.call(o,o.__data__,f,u))&&("__data__"in o&&(a.__data__=o.__data__),s[f]=a);return new dt(r,this._parents)},selectAll:function(t){t="function"==typeof t?d(t):f(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],l=u.length,c=0;c<l;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new dt(r,i)},selectChild:function(t){return this.select(null==t?_:function(t){return function(){return g.call(this.children,t)}}("function"==typeof t?t:p(t)))},selectChildren:function(t){return this.selectAll(null==t?y:function(t){return function(){return m.call(this.children,t)}}("function"==typeof t?t:p(t)))},filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new dt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,k);var n=e?x:w,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var s=r[c],f=i[c],d=f.length,h=M(t.call(s,s&&s.__data__,c,r)),p=h.length,g=u[c]=new Array(p),_=a[c]=new Array(p);n(s,f,g,_,l[c]=new Array(d),h,e);for(var m,y,b=0,v=0;b<p;++b)if(m=g[b]){for(b>=v&&(v=b+1);!(y=_[v])&&++v<p;);m._next=y||null}}return(a=new dt(a,r))._enter=u,a._exit=l,a},enter:function(){return new dt(this._enter||this._groups.map(b),this._parents)},exit:function(){return new dt(this._exit||this._groups.map(b),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),u=new Array(i),l=0;l<a;++l)for(var c,s=n[l],f=r[l],d=s.length,h=u[l]=new Array(d),p=0;p<d;++p)(c=s[p]||f[p])&&(h[p]=c);for(;l<i;++l)u[l]=n[l];return new dt(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=A);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],l=u.length,c=i[o]=new Array(l),s=0;s<l;++s)(a=u[s])&&(c[s]=a);c.sort(e)}return new dt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=i(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?N:T:"function"==typeof e?n.local?$:z:n.local?S:C)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?D:"function"==typeof e?U:F)(t,e,null==n?"":n)):H(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?j:"function"==typeof e?L:O)(t,e)):this.node()[t]},classed:function(t,e){var n=q(t+"");if(arguments.length<2){for(var r=P(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?V:e?I:W)(n,e))},text:function(t){return arguments.length?this.each(null==t?X:("function"==typeof t?G:Z)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Q:("function"==typeof t?K:J)(t)):this.node().innerHTML},raise:function(){return this.each(tt)},lower:function(){return this.each(et)},append:function(t){var e="function"==typeof t?t:u(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:u(t),r=null==e?nt:"function"==typeof e?e:c(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(rt)},clone:function(t){return this.select(t?ot:it)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?ut:at,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var l,c=0,s=u.length;c<s;++c)for(r=0,l=u[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?st:ct)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var bt=.7,vt=1/bt,wt="\\s*([+-]?\\d+)\\s*",xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",kt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Mt=/^#([0-9a-f]{3,8})$/,At=new RegExp(`^rgb\\(${wt},${wt},${wt}\\)$`),Tt=new RegExp(`^rgb\\(${kt},${kt},${kt}\\)$`),Nt=new RegExp(`^rgba\\(${wt},${wt},${wt},${xt}\\)$`),Ct=new RegExp(`^rgba\\(${kt},${kt},${kt},${xt}\\)$`),St=new RegExp(`^hsl\\(${xt},${kt},${kt}\\)$`),zt=new RegExp(`^hsla\\(${xt},${kt},${kt},${xt}\\)$`),$t={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Et(){return this.rgb().formatHex()}function Dt(){return this.rgb().formatRgb()}function Ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Mt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ut(e):3===n?new Lt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Ht(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Ht(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=At.exec(t))?new Lt(e[1],e[2],e[3],1):(e=Tt.exec(t))?new Lt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Nt.exec(t))?Ht(e[1],e[2],e[3],e[4]):(e=Ct.exec(t))?Ht(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=St.exec(t))?It(e[1],e[2]/100,e[3]/100,1):(e=zt.exec(t))?It(e[1],e[2]/100,e[3]/100,e[4]):$t.hasOwnProperty(t)?Ut($t[t]):"transparent"===t?new Lt(NaN,NaN,NaN,0):null}function Ut(t){return new Lt(t>>16&255,t>>8&255,255&t,1)}function Ht(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lt(t,e,n,r)}function jt(t){return t instanceof yt||(t=Ft(t)),t?new Lt((t=t.rgb()).r,t.g,t.b,t.opacity):new Lt}function Ot(t,e,n,r){return 1===arguments.length?jt(t):new Lt(t,e,n,null==r?1:r)}function Lt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function qt(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}`}function Pt(){const t=Yt(this.opacity);return`${1===t?"rgb(":"rgba("}${Bt(this.r)}, ${Bt(this.g)}, ${Bt(this.b)}${1===t?")":`, ${t})`}`}function Yt(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Rt(t){return((t=Bt(t))<16?"0":"")+t.toString(16)}function It(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xt(t,e,n,r)}function Wt(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof yt||(t=Ft(t)),!t)return new Xt;if(t instanceof Xt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new Xt(a,u,l,t.opacity)}function Vt(t,e,n,r){return 1===arguments.length?Wt(t):new Xt(t,e,n,null==r?1:r)}function Xt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zt(t){return(t=(t||0)%360)<0?t+360:t}function Gt(t){return Math.max(0,Math.min(1,t||0))}function Qt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}_t(yt,Ft,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Et,formatHex:Et,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Wt(this).formatHsl()},formatRgb:Dt,toString:Dt}),_t(Lt,Ot,mt(yt,{brighter(t){return t=null==t?vt:Math.pow(vt,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?bt:Math.pow(bt,t),new Lt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lt(Bt(this.r),Bt(this.g),Bt(this.b),Yt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatHex8:function(){return`#${Rt(this.r)}${Rt(this.g)}${Rt(this.b)}${Rt(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Pt,toString:Pt})),_t(Xt,Vt,mt(yt,{brighter(t){return t=null==t?vt:Math.pow(vt,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?bt:Math.pow(bt,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lt(Qt(t>=240?t-240:t+120,i,r),Qt(t,i,r),Qt(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xt(Zt(this.h),Gt(this.s),Gt(this.l),Yt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yt(this.opacity);return`${1===t?"hsl(":"hsla("}${Zt(this.h)}, ${100*Gt(this.s)}%, ${100*Gt(this.l)}%${1===t?")":`, ${t})`}`}}));const Jt=Math.PI/180,Kt=180/Math.PI,te=.96422,ee=1,ne=.82521,re=4/29,ie=6/29,oe=3*ie*ie,ae=ie*ie*ie;function ue(t){if(t instanceof le)return new le(t.l,t.a,t.b,t.opacity);if(t instanceof pe)return ge(t);t instanceof Lt||(t=jt(t));var e,n,r=de(t.r),i=de(t.g),o=de(t.b),a=ce((.2225045*r+.7168786*i+.0606169*o)/ee);return r===i&&i===o?e=n=a:(e=ce((.4360747*r+.3850649*i+.1430804*o)/te),n=ce((.0139322*r+.0971045*i+.7141733*o)/ne)),new le(116*a-16,500*(e-a),200*(a-n),t.opacity)}function le(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function ce(t){return t>ae?Math.pow(t,1/3):t/oe+re}function se(t){return t>ie?t*t*t:oe*(t-re)}function fe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function de(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof pe)return new pe(t.h,t.c,t.l,t.opacity);if(t instanceof le||(t=ue(t)),0===t.a&&0===t.b)return new pe(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Kt;return new pe(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new pe(t,e,n,null==r?1:r)}function pe(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ge(t){if(isNaN(t.h))return new le(t.l,0,0,t.opacity);var e=t.h*Jt;return new le(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}_t(le,(function(t,e,n,r){return 1===arguments.length?ue(t):new le(t,e,n,null==r?1:r)}),mt(yt,{brighter(t){return new le(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker(t){return new le(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Lt(fe(3.1338561*(e=te*se(e))-1.6168667*(t=ee*se(t))-.4906146*(n=ne*se(n))),fe(-.9787684*e+1.9161415*t+.033454*n),fe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),_t(pe,he,mt(yt,{brighter(t){return new pe(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker(t){return new pe(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb(){return ge(this).rgb()}}));var _e="$";function me(){}function ye(t,e){var n=new me;if(t instanceof me)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function be(){}me.prototype=ye.prototype={constructor:me,has:function(t){return _e+t in this},get:function(t){return this[_e+t]},set:function(t,e){return this[_e+t]=e,this},remove:function(t){var e=_e+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===_e&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===_e&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===_e&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===_e&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===_e&&++t;return t},empty:function(){for(var t in this)if(t[0]===_e)return!1;return!0},each:function(t){for(var e in this)e[0]===_e&&t(this[e],e.slice(1),this)}};var ve=ye.prototype;function we(t,e){var n=new be;if(t instanceof be)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}function xe(t,e){if("string"==typeof t&&(t=document.querySelector(t)),!t)return console.error("No valid target in createScreenshotSVG"),null;const{width:n,height:r,x:i,y:o}=t.getBoundingClientRect(),a=document.createElementNS("http://www.w3.org/2000/svg","svg");return a.id=e,a.classList.add("flourish-screenshot-svg-container"),a.style.left=i+"px",a.style.top=o+"px",a.style.width=n+"px",a.style.height=r+"px",a.style.position="absolute",t.appendChild(a),{addTextElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addTextElements"),null;for(const t of e){const{x:e,y:n,width:r}=t.getBoundingClientRect(),i=document.createElementNS("http://www.w3.org/2000/svg","text"),{color:o,"font-family":u,"font-size":l,"font-weight":c,"line-height":s,"padding-left":f,"padding-top":d}=window.getComputedStyle(t),h=`${c} ${l} ${u}`,p=Me(t.innerText,h,null,Math.ceil(r)),g=isNaN(parseFloat(s))?1.2*parseFloat(l)+"px":s,_=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity;p.forEach(((t,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.innerHTML=t,r.setAttribute("dy",0===n?parseFloat(d):g),r.setAttribute("dx",parseFloat(f)),r.setAttribute("x",e),r.setAttribute("opacity",_),i.appendChild(r)})),i.style.dominantBaseline="text-before-edge",i.setAttribute("x",e+"px"),i.setAttribute("y",n+"px"),i.setAttribute("font-family",u),i.setAttribute("font-size",l),i.setAttribute("font-weight",c),i.setAttribute("fill",o),a.appendChild(i)}return this},addCircleElements:function(e){if("string"==typeof e&&(e=t.querySelectorAll(e)),!e)return console.error("No valid els inside addCircleElements"),null;for(const t of e){const e=document.createElementNS("http://www.w3.org/2000/svg","circle"),{x:n,y:r,width:i}=t.getBoundingClientRect(),o=window.getComputedStyle(t)["background-color"],u=window.getComputedStyle(t.closest("[style*='opacity']")||t).opacity,l=i/2;e.setAttribute("cx",n+l+"px"),e.setAttribute("cy",r+l+"px"),e.setAttribute("r",l+"px"),e.setAttribute("opacity",u),e.setAttribute("fill",o),"rgba(0, 0, 0, 0)"===o&&e.setAttribute("stroke","#CCC"),a.appendChild(e)}return this},addGradient:function(e,n,r){if("string"==typeof e&&(e=t.querySelector(e)),!e)return console.error("No valid els inside addCircleElements"),null;const i=document.createElementNS("http://www.w3.org/2000/svg","g"),{x:o,y:u,width:l,height:c}=e.getBoundingClientRect(),{max:s,min:f}=r,d=s-f;for(let t=0;t<=l;t++){const e=document.createElementNS("http://www.w3.org/2000/svg","line");e.setAttribute("stroke",n(f+t*d/l)),e.setAttribute("x1",t+o),e.setAttribute("y1",u),e.setAttribute("x2",t+o),e.setAttribute("y2",c+u),i.appendChild(e)}return a.appendChild(i),this},remove:function(){a.remove()}}}be.prototype=we.prototype={constructor:be,has:ve.has,add:function(t){return this[_e+(t+="")]=t,this},remove:ve.remove,clear:ve.clear,values:ve.keys,size:ve.size,empty:ve.empty,each:ve.each};const ke=document.createElement("canvas").getContext("2d");function Me(t,e,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];"string"!=typeof t&&(t=String(t));const o=t=>ke.measureText(t).width>r,a=(t,e)=>{let n=ke.measureText(t).width;if(n<=e)return t;let r=1,i=t;do{i=t.substring(0,t.length-r)+"…",n=ke.measureText(i).width}while(n>e&&++r<t.length);return i.length<1&&(i=t.substring(0,1)+"…"),i};ke.font=e;let u=[];if(Object.defineProperty(u,"widest_line",{value:0,enumerable:!0,writable:!0}),Object.defineProperty(u,"has_truncated",{value:!1,enumerable:!0,writable:!0}),void 0===t||Number.isInteger(n)&&n<=0)return u;if(0===t.length)return u.push(""),u;if(r<=0)return t.length>0&&(u.push(t.slice(0,1)+"…"),u.widest_line=ke.measureText(u[0]).width),u;if(!t||0===t.length||0===n||r<=0)return u;const l=t.split(/\s+/g);if(!o(t))return u.push(t),u.widest_line=ke.measureText(t).width,u.has_truncated=!1,u;let c=new String(l[0]);if(c&&o(c))return i?c=a(c,r):l.length>1&&(c+="…"),u.push(c),u.widest_line=ke.measureText(c).width,u.has_truncated=!0,u;let s="",f=!1;if(l.forEach((t=>{if(!f)if(o(s+(s?" ":"")+t)){if(s){ke.measureText(s).width>r&&(s=a(s,r),f=!0),u.push(s),s=""}s=t}else s+=(s?" ":"")+t})),s&&!f&&u.push(a(s,r)),u.length>n){if(u.length>n&&Number.isInteger(n)){u.splice(n,u.length-n);let t=u[u.length-1];o(t+"…")&&(t=a(t,r-ke.measureText("…").width)),"…"!==t.slice(-1)&&(t+="…"),u[u.length-1]=t,f=!0}}return u.widest_line=Math.max(...u.map((t=>ke.measureText(t).width))),u.has_truncated=f,u}var Ae,Te,Ne;function Ce(){document.body.querySelector(".font-samples").innerHTML=""}function Se(t){Ne||(Ne=t||["normal","bold"]);var e="";["mobile_big","tablet","desktop","big_screen"].forEach((function(t){var n="@media(min-width: "+bi["breakpoint_"+t]+"px) {\n",r="html { font-size:"+bi["font_size_"+t]+"%; }";e+=n+r+"\n}\n\n"}));var n="html { \n font-size:"+bi.font_size_mobile_small+"%; \n -webkit-font-smoothing: antialiased; \n -moz-osx-font-smoothing: auto; } \n\n\n";Ae.innerHTML=n+e;var r=[bi.body_font,bi.title_font,bi.subtitle_font,bi.footer_font];r.forEach((function(t){if(t){for(var e=!1,n=document.head.querySelectorAll("link.layout-font"),r=0;r<n.length;r++){n[r].href==t.url&&(e=!0)}if(!e){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",t.url),i.className="layout-font",document.head.appendChild(i),function(t){document.body.querySelector(".font-samples")||((Te=document.createElement("div")).className="font-samples",Te.style.visibility="hidden",Te.style.overflow="hidden",Te.style.height=0,document.body.appendChild(Te)),Ne.forEach((function(e){var n=document.createElement("div");n.className="font-sample-el",n.innerText=t.name,n.style.fontFamily=t.name,n.style.fontWeight=e,Te.appendChild(n)}))}(t)}}}));for(var i=document.head.querySelectorAll("link.layout-font"),o=0;o<i.length;o++){var a=i[o],u=!1;r.forEach((function(t){t&&t.url==a.href&&(u=!0)})),u||a.parentElement.removeChild(a)}document.body.style.fontFamily=bi.body_font.name}var ze,$e,Ee,De,Fe,Ue,He,je,Oe,Le,qe=Object.freeze({"stack-default":["header","controls","legend","primary","footer"],"stack-2":["primary","header","controls","legend","footer"],"stack-3":["header","primary","controls","legend","footer"],"stack-4":["controls","primary","header","legend","footer"],"grid-1":{wrapper:{display:"grid","grid-template-rows":"min-content min-content minmax(min-content,auto) min-content","grid-template-columns":"1fr 2fr"},header:{"grid-column-start":1},legend:{"grid-column-start":1},controls:{"grid-column-start":1},primary:{"grid-column-start":2,"grid-row":"1 / -1"},footer:{"grid-column-start":"1","grid-row-start":4}}});function Pe(t){return window.innerWidth!==ze&&(ze=window.innerWidth,$e=parseFloat(getComputedStyle(document.documentElement).fontSize)),t*$e}function Ye(t){return"justify"==t?"":"left"==t?"start":"right"==t?"end":"center"==t?"center":void 0}function Be(t){return 0!==t.indexOf("http://")&&0!==t.indexOf("https://")?"http://"+t:t}function Re(){return bi.header_logo_enabled&&bi.header_logo_src}function Ie(){var t="top"==bi.header_border||"top_and_bottom"==bi.header_border,e="bottom"==bi.header_border||"top_and_bottom"==bi.header_border;Ee.style.textAlign=Ye(bi.header_align),Ee.style.margin=0,Ee.style.borderTop=t?bi.header_border_width+"px "+bi.header_border_style+" "+bi.header_border_color:null,Ee.style.borderBottom=e?bi.header_border_width+"px "+bi.header_border_style+" "+bi.header_border_color:null,Ee.style.paddingTop=t?bi.header_border_space+"rem":"",Ee.style.paddingBottom=e?bi.header_border_space+"rem":"",De.innerHTML=bi.title?bi.title:"",De.setAttribute("id","flourish-header-title"),De.style.fontFamily=bi.title_font?bi.title_font.name:"inherit",De.style.fontSize=("custom"!=bi.title_size?bi.title_size:bi.title_size_custom)+"rem",De.style.lineHeight=bi.title_line_height,De.style.fontWeight=bi.title_weight,De.style.color=bi.title_color||bi.font_color,De.style.margin=0,De.style.paddingTop=bi.title?("custom"==bi.title_space_above?bi.title_space_above_custom:bi.title_space_above)+"rem":0,Fe.innerHTML=bi.subtitle?bi.subtitle:"",Fe.setAttribute("id","flourish-header-subtitle"),Fe.style.fontFamily=bi.subtitle_font?bi.subtitle_font.name:"inherit",Fe.style.fontSize=("custom"!=bi.subtitle_size?bi.subtitle_size:bi.subtitle_size_custom)+"rem",Fe.style.lineHeight=bi.subtitle_line_height,Fe.style.fontWeight=bi.subtitle_weight,Fe.style.color=bi.subtitle_color||bi.font_color,Fe.style.margin=0,Fe.style.paddingTop=bi.subtitle?("custom"==bi.subtitle_space_above?bi.subtitle_space_above_custom:bi.subtitle_space_above)+"rem":0,Ue.innerHTML=bi.header_text?bi.header_text:"",Ue.setAttribute("id","flourish-header-text"),Ue.style.fontSize=("custom"!=bi.header_text_size?bi.header_text_size:bi.header_text_size_custom)+"rem",Ue.style.lineHeight=bi.header_text_line_height,Ue.style.fontWeight=bi.header_text_weight,Ue.style.margin=0,Ue.style.color=bi.header_text_color||bi.font_color,Ue.style.paddingTop=bi.header_text?("custom"==bi.header_text_space_above?bi.header_text_space_above_custom:bi.header_text_space_above)+"rem":0,He.style.clear="both",je.innerHTML="",Re()&&((Oe=Oe||document.createElement("img")).className="flourish-header-logo",Oe.src=Be(bi.header_logo_src),Oe.alt=bi.header_logo_alt,Oe.style.position="inside"==bi.header_logo_align?"":"fixed",Oe.style.height=bi.header_logo_height+"rem",Oe.style.top="outside"==bi.header_logo_align?0:"",Oe.style.left="outside"==bi.header_logo_align&&"left"==bi.header_logo_position_outside?0:"",Oe.style.right="outside"==bi.header_logo_align&&"right"==bi.header_logo_position_outside?0:"",Oe.style.marginTop=bi.header_logo_margin_top+"rem",Oe.style.marginBottom=bi.header_logo_margin_bottom+"rem",Oe.style.marginLeft=bi.header_logo_margin_left+"rem",Oe.style.marginRight=bi.header_logo_margin_right+"rem",Oe.style.float="top"==bi.header_logo_position_inside||"outside"==bi.header_logo_align?"":bi.header_logo_position_inside,Oe.style.width="auto",bi.header_logo_link_url?((Le=document.createElement("a")).target="_blank",Le.appendChild(Oe),je.appendChild(Le),Oe.style.cursor="pointer",Le.href=Be(bi.header_logo_link_url)):je.appendChild(Oe))}
/** @preserve
	/////    SAPC APCA - Advanced Perceptual Contrast Algorithm
	/////           Beta 0.1.9 W3 • contrast function only
	/////           DIST: W3 • Revision date: July 3, 2022
	/////    Function to parse color values and determine Lc contrast
	/////    Copyright © 2019-2022 by Andrew Somers. All Rights Reserved.
	/////    LICENSE: W3 LICENSE
	/////    CONTACT: Please use the ISSUES or DISCUSSIONS tab at:
	/////    https://github.com/Myndex/SAPC-APCA/
	/////
	///////////////////////////////////////////////////////////////////////////////
	/////
	/////    MINIMAL IMPORTS:
	/////      import { APCAcontrast, sRGBtoY, displayP3toY,
	/////               calcAPCA, fontLookupAPCA } from 'apca-w3';
	/////      import { colorParsley } from 'colorparsley';
	/////
	/////    FORWARD CONTRAST USAGE:
	/////      Lc = APCAcontrast( sRGBtoY( TEXTcolor ) , sRGBtoY( BACKGNDcolor ) );
	/////    Where the colors are sent as an rgba array [255,255,255,1]
	/////
	/////    Retrieving an array of font sizes for the contrast:
	/////      fontArray = fontLookupAPCA(Lc);
	/////
	/////    Live Demonstrator at https://www.myndex.com/APCA/
	// */
const We={mainTRC:2.4,get mainTRCencode(){return 1/this.mainTRC},sRco:.2126729,sGco:.7151522,sBco:.072175,normBG:.56,normTXT:.57,revTXT:.62,revBG:.65,blkThrs:.022,blkClmp:1.414,scaleBoW:1.14,scaleWoB:1.14,loBoWoffset:.027,loWoBoffset:.027,deltaYmin:5e-4,loClip:.1,mFactor:1.9468554433171,get mFactInv(){return 1/this.mFactor},mOffsetIn:.0387393816571401,mExpAdj:.283343396420869,get mExp(){return this.mExpAdj/this.blkClmp},mOffsetOut:.312865795870758};function Ve(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0];function e(t){return Math.pow(t/255,We.mainTRC)}return We.sRco*e(t[0])+We.sGco*e(t[1])+We.sBco*e(t[2])}function Xe(t,e){if("string"!=typeof t)return!1;var n=Ft(t);return n.opacity=void 0!==e?e:1,n}function Ze(t,e){if(!t||!e)return void console.warn("No valid color",t,e);const n=Ve(Object.values(Xe(t))),r=Ve(Object.values(Xe(e)));return Math.abs(function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;const r=[0,1.1];if(isNaN(t)||isNaN(e)||Math.min(t,e)<r[0]||Math.max(t,e)>r[1])return 0;let i=0,o=0,a="BoW";return t=t>We.blkThrs?t:t+Math.pow(We.blkThrs-t,We.blkClmp),e=e>We.blkThrs?e:e+Math.pow(We.blkThrs-e,We.blkClmp),Math.abs(e-t)<We.deltaYmin?0:(e>t?(i=(Math.pow(e,We.normBG)-Math.pow(t,We.normTXT))*We.scaleBoW,o=i<We.loClip?0:i-We.loBoWoffset):(a="WoB",i=(Math.pow(e,We.revBG)-Math.pow(t,We.revTXT))*We.scaleWoB,o=i>-We.loClip?0:i+We.loWoBoffset),n<0?100*o:0==n?Math.round(100*Math.abs(o))+"<sub>"+a+"</sub>":Number.isInteger(n)?(100*o).toFixed(n):0)}(n,r))}const Ge=new Date,Qe=new Date;function Je(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=e=>(t(e=new Date(+e)),e),i.ceil=n=>(t(n=new Date(n-1)),e(n,1),t(n),n),i.round=t=>{const e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=(t,n)=>(e(t=new Date(+t),null==n?1:Math.floor(n)),t),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let u;do{a.push(u=new Date(+n)),e(n,o),t(n)}while(u<n&&n<r);return a},i.filter=n=>Je((e=>{if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),((t,r)=>{if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})),n&&(i.count=(e,r)=>(Ge.setTime(+e),Qe.setTime(+r),t(Ge),t(Qe),Math.floor(n(Ge,Qe))),i.every=t=>(t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?e=>r(e)%t==0:e=>i.count(0,e)%t==0):i:null)),i}const Ke=6e4,tn=864e5,en=6048e5,nn=Je((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ke)/tn),(t=>t.getDate()-1));nn.range;const rn=Je((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/tn),(t=>t.getUTCDate()-1));rn.range;const on=Je((t=>{t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+e)}),((t,e)=>(e-t)/tn),(t=>Math.floor(t/tn)));function an(t){return Je((e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),((t,e)=>{t.setDate(t.getDate()+7*e)}),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ke)/en))}on.range;const un=an(0),ln=an(1),cn=an(2),sn=an(3),fn=an(4),dn=an(5),hn=an(6);function pn(t){return Je((e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCDate(t.getUTCDate()+7*e)}),((t,e)=>(e-t)/en))}un.range,ln.range,cn.range,sn.range,fn.range,dn.range,hn.range;const gn=pn(0),_n=pn(1),mn=pn(2),yn=pn(3),bn=pn(4),vn=pn(5),wn=pn(6);gn.range,_n.range,mn.range,yn.range,bn.range,vn.range,wn.range;const xn=Je((t=>{t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,e)=>{t.setFullYear(t.getFullYear()+e)}),((t,e)=>e.getFullYear()-t.getFullYear()),(t=>t.getFullYear()));xn.every=t=>isFinite(t=Math.floor(t))&&t>0?Je((e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,n)=>{e.setFullYear(e.getFullYear()+n*t)})):null,xn.range;const kn=Je((t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)}),((t,e)=>e.getUTCFullYear()-t.getUTCFullYear()),(t=>t.getUTCFullYear()));function Mn(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function An(t,e){return null==t||null==e?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Tn(t){let e,n,r;function i(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<0?i=e+1:o=e}while(i<o)}return i}return 2!==t.length?(e=Mn,n=(e,n)=>Mn(t(e),n),r=(e,n)=>t(e)-n):(e=t===Mn||t===An?t:Nn,n=t,r=t),{left:i,center:function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const o=i(t,e,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length)-1);return o>n&&r(t[o-1],e)>-r(t[o],e)?o-1:o},right:function(t,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length;if(i<o){if(0!==e(r,r))return o;do{const e=i+o>>>1;n(t[e],r)<=0?i=e+1:o=e}while(i<o)}return i}}}function Nn(){return 0}kn.every=t=>isFinite(t=Math.floor(t))&&t>0?Je((e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null,kn.range;const Cn=Tn(Mn).right;Tn((function(t){return null===t?NaN:+t})).center;var Sn=Cn;const zn=Math.sqrt(50),$n=Math.sqrt(10),En=Math.sqrt(2);function Dn(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zn?10:o>=$n?5:o>=En?2:1;let u,l,c;return i<0?(c=Math.pow(10,-i)/a,u=Math.round(t*c),l=Math.round(e*c),u/c<t&&++u,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,u=Math.round(t/c),l=Math.round(e/c),u*c<t&&++u,l*c>e&&--l),l<u&&.5<=n&&n<2?Dn(t,e,2*n):[u,l,c]}function Fn(t,e,n){return Dn(t=+t,e=+e,n=+n)[2]}function Un(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Hn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jn(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var On,Ln,qn,Pn,Yn,Bn,Rn,In={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,Vn=/^%/,Xn=/[\\^$*+?|[\]().{}]/g;function Zn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Gn(t){return t.replace(Xn,"\\$&")}function Qn(t){return new RegExp("^(?:"+t.map(Gn).join("|")+")","i")}function Jn(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Kn(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tr(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function er(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function nr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function rr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ir(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function or(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ar(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ur(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function lr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sr(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function fr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hr(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function pr(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function gr(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function _r(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function mr(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yr(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function br(t,e){return Zn(t.getDate(),e,2)}function vr(t,e){return Zn(t.getHours(),e,2)}function wr(t,e){return Zn(t.getHours()%12||12,e,2)}function xr(t,e){return Zn(1+nn.count(xn(t),t),e,3)}function kr(t,e){return Zn(t.getMilliseconds(),e,3)}function Mr(t,e){return kr(t,e)+"000"}function Ar(t,e){return Zn(t.getMonth()+1,e,2)}function Tr(t,e){return Zn(t.getMinutes(),e,2)}function Nr(t,e){return Zn(t.getSeconds(),e,2)}function Cr(t){var e=t.getDay();return 0===e?7:e}function Sr(t,e){return Zn(un.count(xn(t)-1,t),e,2)}function zr(t){var e=t.getDay();return e>=4||0===e?fn(t):fn.ceil(t)}function $r(t,e){return t=zr(t),Zn(fn.count(xn(t),t)+(4===xn(t).getDay()),e,2)}function Er(t){return t.getDay()}function Dr(t,e){return Zn(ln.count(xn(t)-1,t),e,2)}function Fr(t,e){return Zn(t.getFullYear()%100,e,2)}function Ur(t,e){return Zn((t=zr(t)).getFullYear()%100,e,2)}function Hr(t,e){return Zn(t.getFullYear()%1e4,e,4)}function jr(t,e){var n=t.getDay();return Zn((t=n>=4||0===n?fn(t):fn.ceil(t)).getFullYear()%1e4,e,4)}function Or(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zn(e/60|0,"0",2)+Zn(e%60,"0",2)}function Lr(t,e){return Zn(t.getUTCDate(),e,2)}function qr(t,e){return Zn(t.getUTCHours(),e,2)}function Pr(t,e){return Zn(t.getUTCHours()%12||12,e,2)}function Yr(t,e){return Zn(1+rn.count(kn(t),t),e,3)}function Br(t,e){return Zn(t.getUTCMilliseconds(),e,3)}function Rr(t,e){return Br(t,e)+"000"}function Ir(t,e){return Zn(t.getUTCMonth()+1,e,2)}function Wr(t,e){return Zn(t.getUTCMinutes(),e,2)}function Vr(t,e){return Zn(t.getUTCSeconds(),e,2)}function Xr(t){var e=t.getUTCDay();return 0===e?7:e}function Zr(t,e){return Zn(gn.count(kn(t)-1,t),e,2)}function Gr(t){var e=t.getUTCDay();return e>=4||0===e?bn(t):bn.ceil(t)}function Qr(t,e){return t=Gr(t),Zn(bn.count(kn(t),t)+(4===kn(t).getUTCDay()),e,2)}function Jr(t){return t.getUTCDay()}function Kr(t,e){return Zn(_n.count(kn(t)-1,t),e,2)}function ti(t,e){return Zn(t.getUTCFullYear()%100,e,2)}function ei(t,e){return Zn((t=Gr(t)).getUTCFullYear()%100,e,2)}function ni(t,e){return Zn(t.getUTCFullYear()%1e4,e,4)}function ri(t,e){var n=t.getUTCDay();return Zn((t=n>=4||0===n?bn(t):bn.ceil(t)).getUTCFullYear()%1e4,e,4)}function ii(){return"+0000"}function oi(){return"%"}function ai(t){return+t}function ui(t){return Math.floor(+t/1e3)}On=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,c=Qn(i),s=Jn(i),f=Qn(o),d=Jn(o),h=Qn(a),p=Jn(a),g=Qn(u),_=Jn(u),m=Qn(l),y=Jn(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:br,e:br,f:Mr,g:Ur,G:jr,H:vr,I:wr,j:xr,L:kr,m:Ar,M:Tr,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ai,s:ui,S:Nr,u:Cr,U:Sr,V:$r,w:Er,W:Dr,x:null,X:null,y:Fr,Y:Hr,Z:Or,"%":oi},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Lr,e:Lr,f:Rr,g:ei,G:ri,H:qr,I:Pr,j:Yr,L:Br,m:Ir,M:Wr,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ai,s:ui,S:Vr,u:Xr,U:Zr,V:Qr,w:Jr,W:Kr,x:null,X:null,y:ti,Y:ni,Z:ii,"%":oi},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:cr,e:cr,f:gr,g:or,G:ir,H:fr,I:fr,j:sr,L:pr,m:lr,M:dr,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1},q:ur,Q:mr,s:yr,S:hr,u:tr,U:er,V:nr,w:Kn,W:rr,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:or,Y:ir,Z:ar,"%":_r};function x(t,e){return function(n){var r,i,o,a=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(i=In[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function k(t,e){return function(n){var r,i,o=jn(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Hn(jn(o.y,0,1))).getUTCDay(),r=i>4||0===i?_n.ceil(r):_n(r),r=rn.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Un(jn(o.y,0,1))).getDay(),r=i>4||0===i?ln.ceil(r):ln(r),r=nn.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Hn(jn(o.y,0,1)).getUTCDay():Un(jn(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Hn(o)):Un(o)}}function M(t,e,n,r){for(var i,o,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in In?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Ln=On.format,On.parse,On.utcFormat,On.utcParse;var li=!1;function ci(){var t;return(t=document.createElement("style")).type="text/css",t.innerHTML=".flourish-footer { margin: 0; } .flourish-footer p { margin: 0; display: inline; } .flourish-footer p:empty { height: 0; } .flourish-footer a { color: inherit; }",document.head.appendChild(t),(qn=document.createElement("footer")).className="flourish-footer",(Pn=document.createElement("div")).className="flourish-footer-text",Pn.setAttribute("id","flourish-footer-text"),(Yn=document.createElement("div")).className="flourish-footer-logo-container",qn.appendChild(Pn),qn.appendChild(Yn),qn}function si(){return bi.background_color_enabled&&!function(t){if(!t)return void console.warn("No valid color",t);const e=Ze("#000000",t);return Ze("#ffffff",t)<e}(bi.background_color)}function fi(){var t=bi.footer_logo_src?bi.footer_logo_src:"";return bi.footer_logo_src_light&&si()&&(t=bi.footer_logo_src_light),t}function di(){return bi.footer_logo_enabled&&fi()}function hi(){var t=[{name:bi.source_name,url:bi.source_url},{name:bi.multiple_sources?bi.source_name_2:"",url:bi.multiple_sources?bi.source_url_2:""},{name:bi.multiple_sources?bi.source_name_3:"",url:bi.multiple_sources?bi.source_url_3:""}].filter((function(t){return t.name||t.url}));li=t.length>0||bi.footer_note||bi.footer_note_secondary||di();var e,n="top"==bi.footer_border||"top_and_bottom"==bi.footer_border,r="bottom"==bi.footer_border||"top_and_bottom"==bi.footer_border;qn.style.display="flex",qn.style.height=li?null:0,qn.style.width="100%",qn.style.paddingTop=n?bi.footer_border_space+"rem":"",qn.style.paddingBottom=r?bi.footer_border_space+"rem":"",qn.style.borderTop=n?bi.footer_border_width+"px "+bi.footer_border_style+" "+bi.footer_border_color:"",qn.style.borderBottom=r?bi.footer_border_width+"px "+bi.footer_border_style+" "+bi.footer_border_color:"",qn.style.fontFamily=bi.footer_font?bi.footer_font.name:"inherit",qn.style.fontWeight=bi.footer_text_weight,qn.style.justifyContent="justify"==(e=bi.footer_align)?"space-between":"left"==e?"flex-start":"right"==e?"flex-end":"center"==e?"center":void 0,qn.style.fontSize=bi.footer_text_size+"rem",qn.style.color=bi.footer_text_color||bi.font_color,qn.style.alignItems=bi.footer_align_vertical;var i=document.createElement("span");t.forEach((function(t,e){var n=document.createElement("p");if(e>0&&(n.innerText=", "),t.url){var r=document.createElement("a");r.innerText=t.name||t.url,r.href=Be(t.url),r.target="_blank",n.appendChild(r)}else n.innerText+=t.name||t.url;i.innerHTML+=n.innerHTML})),Pn.style.order="left"==bi.footer_logo_order?2:"",Pn.style.textAlign=Ye(bi.footer_align);const o=""!==i.innerHTML?`${bi.source_label} ${i.innerHTML}`:"",a=bi.footer_note?(""!==i.innerHTML?" • ":"")+pi("primary"):"",u=bi.footer_note_secondary?`<br /><p>${pi("secondary")}</p>`:"";Pn.innerHTML=`<p>${o}${a}</p>${u}`,Yn.innerHTML="",di()&&((Bn=Bn||document.createElement("img")).className="flourish-footer-logo",Bn.src=Be(fi()),Bn.alt=bi.footer_logo_alt,Bn.style.height=bi.footer_logo_height+"rem",Bn.style.marginRight="left"==bi.footer_logo_order?bi.footer_logo_margin+"rem":"",Bn.style.marginLeft="right"==bi.footer_logo_order?bi.footer_logo_margin+"rem":"",Bn.style.verticalAlign=bi.footer_align_vertical,Bn.style.display=di()?"":"none",bi.footer_logo_link_url?((Rn=document.createElement("a")).target="_blank",Rn.appendChild(Bn),Yn.appendChild(Rn),Bn.style.cursor="pointer",Rn.href=Be(bi.footer_logo_link_url)):Yn.appendChild(Bn))}function pi(t){const e=("primary"===t?bi.footer_note:bi.footer_note_secondary).replace(/{{([^}]+)}}/g,((t,e)=>{if("data_last_updated"===e){const t=function(t){const e="data_last_updated"===t?"last_updated":t,n=Object.keys(window.template?.data);if(n.length>0){const t=n.map((t=>window.template.data[t].timestamps?.[e]||null)).filter((t=>null!==t));if(0===t.length)return null;return Math.max(...t)}return null}(e);return function(t,e){let n="n/a";null!==t&&(n=Ln(e)(t));return n}(t,bi.footer_timestamp_format)}return""})).replace(/\n/gm,"<br />");return e}function gi(){Se(),Ie(),hi(),document.body.style.backgroundColor=bi.background_color_enabled?bi.background_color:"transparent",document.body.style.backgroundImage=bi.background_image_enabled?"url("+bi.background_image_src+")":"",document.body.style.backgroundSize=bi.background_image_size,document.body.style.backgroundRepeat="no-repeat",document.body.style.backgroundPosition=bi.background_image_position;var t=Ai.wrapper.style;t.display="flex",t.height="100vh",t.color=bi.font_color,t.maxWidth="wrapper"==bi.max_width_target?bi.max_width+"px":"",t.marginLeft="wrapper"==bi.max_width_target&&"left"!=bi.max_width_align?"auto":"",t.marginRight="wrapper"==bi.max_width_target&&"right"!=bi.max_width_align?"auto":"",t.padding=bi.margin_top+"rem "+bi.margin_right+"rem "+bi.margin_bottom+"rem "+bi.margin_left+"rem",t.borderTop=bi.border.enabled?bi.border.top.width+"px "+bi.border.top.style+" "+bi.border.top.color:"",t.borderRight=bi.border.enabled?bi.border.right.width+"px "+bi.border.right.style+" "+bi.border.right.color:"",t.borderBottom=bi.border.enabled?bi.border.bottom.width+"px "+bi.border.bottom.style+" "+bi.border.bottom.color:"",t.borderLeft=bi.border.enabled?bi.border.left.width+"px "+bi.border.left.style+" "+bi.border.left.color:"";var e=Ai.primary.outer.style,n=Ai.legend.outer.style,r=_i();if("stack"==r.mode)r.elements.forEach((function(t,e){Ai[t].outer.style.order=10*e}));else for(var i in r.elements)for(var o in r.elements[i]){var a=Ai[i].outer||Ai[i];a.style[o]=r.elements[i][o],a.style.order=""}Ai.header.outer.style.display="",Ai.footer.outer.style.display="",Ai.controls.outer.style.display="",e.display="flex",n.display="",e.flex="1 1 auto",e.height=null,Ai.primary.outer.style.maxWidth="primary"==bi.max_width_target?bi.max_width+"px":"",Ai.primary.outer.style.marginLeft="primary"==bi.max_width_target&&"left"!=bi.max_width_align?"auto":"",Ai.primary.outer.style.marginRight="primary"==bi.max_width_target&&"right"!=bi.max_width_align?"auto":"";var u=""!=bi.screenreader_text_primary.trim(),l=document.getElementById("fl-layout-primary-description");Ai.primary.outer.setAttribute("aria-label","primary visualisation container"),l.innerText=bi.screenreader_text_primary,u?Ai.primary.outer.setAttribute("aria-describedBy","fl-layout-primary-description"):Ai.primary.outer.removeAttribute("aria-describedBy"),bi.screenreader_hide_primary?Ai.primary.inner.setAttribute("aria-hidden",!0):Ai.primary.inner.removeAttribute("aria-hidden"),""!=bi.screenreader_label.trim()?Si().setAttribute("aria-label",bi.screenreader_label):Si().removeAttribute("aria-label"),Mi.map((function(t){var e=Ai[t],n=e.outer.style;return{name:t,height:Ni(e.inner),order:parseFloat(n.order),style:n}})).sort((function(t,e){return t.order-e.order})).filter((function(t){if(t.height||"primary"==t.name)return!0;t.style.paddingBottom="",t.style.paddingTop="",t.style.display="none"})).forEach((function(t,e,n){t.style.width="100%",t.style.paddingTop=e?mi("padding"):"",t.style.paddingBottom=e<n.length-1?mi("padding"):""})),Ai.wrapper.style.gridColumnGap=mi("gap"),Ai.wrapper.style.gridRowGap=mi("gap"),document.body.setAttribute("dir",bi.read_direction),Ai.wrapper.setAttribute("dir",bi.read_direction),document.getElementById("fl-layout-wrapper-outer").setAttribute("dir","ltr")}function _i(){var t=window.innerWidth<bi.breakpoint_mobile_big,e=bi.layout_order.indexOf("grid")>-1,n={id:bi.layout_order,mode:e?"grid":"stack",elements:qe[bi.layout_order]};return t&&e&&(n.id="stack-default",n.mode="stack",n.elements=qe["stack-default"]),n}function mi(t){var e,n=_i();return e="custom"==bi.space_between_sections?bi.space_between_sections_custom:bi.space_between_sections,"grid"==n.mode?"gap"==t?e+"rem":"":"gap"==t?"":e/2+"rem"}var yi=Object.freeze({body_font:{name:"Canva Sans Variable",url:"https://public.flourish.studio/resources/fonts/canva-sans.css"},title_font:null,subtitle_font:null,footer_font:null,read_direction:"ltr",border:{enabled:!1,top:{width:1,color:"#dddddd",style:"solid"},right:{width:1,color:"#dddddd",style:"solid"},bottom:{width:1,color:"#dddddd",style:"solid"},left:{width:1,color:"#dddddd",style:"solid"}},layout_order:"stack-default",margin_top:.75,margin_right:.75,margin_bottom:.75,margin_left:.75,space_between_sections:1,space_between_sections_custom:1,background_color_enabled:!0,background_color:"#ffffff",background_image_enabled:!1,background_image_src:"",background_image_size:"cover",background_image_position:"center center",max_width:600,max_width_target:"none",max_width_align:"center",breakpoint_mobile_small:0,breakpoint_mobile_big:380,breakpoint_tablet:580,breakpoint_desktop:1080,breakpoint_big_screen:1280,font_color:"#333333",font_size_mobile_small:62.5,font_size_mobile_big:75,font_size_tablet:87.5,font_size_desktop:100,font_size_big_screen:120,header_align:"left",header_border:"none",header_border_width:1,header_border_color:"#dddddd",header_border_style:"solid",header_border_space:.5,header_logo_enabled:!1,header_logo_align:"inside",header_logo_src:"",header_logo_alt:"Header logo",header_logo_link_url:"",header_logo_height:3,header_logo_position_inside:"left",header_logo_position_outside:"left",header_logo_margin_top:.25,header_logo_margin_right:.5,header_logo_margin_bottom:0,header_logo_margin_left:0,title:"",title_size:1.6,title_size_custom:1.6,title_line_height:1.2,title_color:null,title_weight:"bold",title_space_above:0,title_space_above_custom:1.5,title_styling:!1,subtitle:"",subtitle_size:1.6,subtitle_size_custom:1.6,subtitle_line_height:1.2,subtitle_color:null,subtitle_weight:"normal",subtitle_space_above:0,subtitle_space_above_custom:1.5,subtitle_styling:!1,header_text:"",header_text_size:1.2,header_text_size_custom:1.2,header_text_line_height:1.2,header_text_color:null,header_text_weight:"normal",header_text_space_above:.5,header_text_space_above_custom:1.5,source_label:"Source: ",source_name:"",source_url:"",source_name_2:"",source_url_2:"",source_name_3:"",source_url_3:"",footer_note:"",footer_note_secondary:"",footer_text_size:1,footer_text_color:null,footer_styling:!1,footer_text_weight:"normal",footer_align:"justify",footer_align_vertical:"center",footer_border:"none",footer_border_width:1,footer_border_color:"#dddddd",footer_border_style:"solid",footer_border_space:.5,footer_logo_enabled:!1,footer_logo_src:"",footer_logo_src_light:"",footer_logo_alt:"Footer logo",footer_logo_link_url:"",footer_logo_height:1.5,footer_logo_margin:.25,footer_logo_order:"right",footer_timestamp_format:"%H:%M:%S",screenreader_hide_primary:!0,screenreader_text_primary:"",screenreader_label:""});var bi,vi="Your web browser does not support the features used by this content. Consider updating to a modern browser.";function wi(t,e,n){Se(n),t=function(t){return function(){return document.body.classList.add("fl-fonts-loaded"),t.apply(this,arguments)}}(t=t||window.template.update);var r=setTimeout(t,isNaN(e)?500:e),i=[],o=[];document.fonts&&o.push(document.fonts.ready),di()&&o.push(function(){if(di())return new Promise((function(t){var e=Be(fi());function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(Bn=Bn||document.createElement("img")).onload=function(){t()},Bn.onerror=n,Bn.oncancel=n,Bn.src=e}))}()),Re()&&o.push(function(){if(Re())return new Promise((function(t){var e=Be(bi.header_logo_src);function n(){"undefined"!=typeof Flourish&&Flourish.warn&&Flourish.warn("flourish-layout unable to load image: "+e),t()}(Oe=Oe||document.createElement("img")).onload=function(){t()},Oe.onerror=n,Oe.oncancel=n,Oe.src=e}))}()),o.length&&(document.fonts||o.push(new Promise((function(t){setTimeout(t,500)}))),Promise.all(o).then((function(e){if(document.fonts&&e[0].size){var n=function(t){for(var e=t.next(),n=[];e&&!e.done;)n.push(e.value),e=t.next();return n}(e[0].keys()).map((function(t){return xi(t)}));i=i.concat(n),clearTimeout(r),t(),Ce()}document.fonts.addEventListener("loadingdone",(function(e){var n=!1;e.fontfaces.forEach((function(t){var e=xi(t);i.includes(e)||(i.push(e),n=!0)})),n&&(clearTimeout(r),t(),Ce())}))})))}function xi(t){return[t.family,t.variant,t.weight,t.unicodeRange].join(" ")}var ki,Mi=["header","controls","legend","primary","footer"],Ai={};function Ti(t){return t.getBoundingClientRect().width}function Ni(t){return t.getBoundingClientRect().height}function Ci(t,e){var n="fl-layout-"+t,r=document.createElement("section");r.className="fl-layout-container",r.id=n+"-container",r.style.width="100%",r.style.position="relative",r.style.order=e;var i=document.createElement("div");return i.className="fl-layout-inner",i.id=n,i.style.width="100%",i.style.position="relative","primary"==t&&(r.style.display="flex",function(t){var e=document.createElement("p");e.id="fl-layout-primary-description";var n=e.style;n.border="0",n.height="1px",n.width="1px",n.margin="-1px",n.overflow="hidden",n.padding="0",n.position="absolute",n.clip="rect(0 0 0 0)",t.appendChild(e)}(r)),r.appendChild(i),Ai.wrapper.appendChild(r),{outer:r,inner:i}}function Si(){return Ai.wrapper}function zi(){return Ai.sidebar}function $i(t){return-1!==Mi.indexOf(t)?Ai[t].inner:null}function Ei(t){return Ai[t]||void 0===t?Ti("wrapper"==t||void 0===t?Ai.wrapper:Ai[t].outer):null}function Di(t){return Ai[t]||void 0===t?"wrapper"==t||void 0===t?Ti(Ai.wrapper)-Pi("horizontal")-Yi("horizontal"):Ti(Ai[t].inner):null}function Fi(t){return Ai[t]||void 0===t?Ni("wrapper"==t||void 0===t?Ai.wrapper:Ai[t].outer):null}function Ui(t){return Ai[t]||void 0===t?"wrapper"==t||void 0===t?Ni(Ai.wrapper)-Pi("vertical")-Yi("vertical"):Ni(Ai[t].inner):null}function Hi(){var t="grid"==_i().mode?0:Li(Ai.primary.outer);return Ni(Ai.primary.outer)-t}function ji(){return Ti(Ai.primary.inner)}function Oi(){return bi.screenreader_hide_primary?"hidden":"readable"}function Li(t){return"grid"==_i().mode?parseFloat(getComputedStyle(Ai.wrapper).gap)||0:(parseFloat(getComputedStyle(t).paddingTop)||0)+(parseFloat(getComputedStyle(t).paddingBottom)||0)}function qi(){var t=function(){if(Flourish.fixed_height)return window.innerHeight;var t=window.innerWidth;return t>999?650:t>599?575:400}()-Pi("vertical")-Yi("vertical"),e=function(){var t=_i(),e="grid-1"==t.id?[]:["header","controls","legend","footer"];return e.reduce((function(e,n){var r=Fi(n);return r>0&&"grid"==t.mode&&(r+=Li()),e+r}),0)}();return t-e-("grid"==_i().mode?0:Li(Ai.primary.outer))}function Pi(t){var e;return"left"==t?e=bi.margin_left:"right"==t?e=bi.margin_right:"top"==t?e=bi.margin_top:"bottom"==t?e=bi.margin_bottom:"horizontal"==t?e=bi.margin_left+bi.margin_right:"vertical"==t&&(e=bi.margin_top+bi.margin_bottom),Pe(e)}function Yi(t){return bi.border.enabled?"vertical"==t?bi.border.top.width+bi.border.bottom.width:"horizontal"==t?bi.border.left.width+bi.border.right.width:null:0}function Bi(t){var e=Ai.primary;if(Flourish.fixed_height||void 0===Flourish.fixed_height)e.inner.style.height="";else{var n=null===t,r=n?qi():t;r+Li(Ai.primary.outer)!==parseFloat(e.outer.style.height)&&(Ai.wrapper.style.height="",e.outer.style.flex="",e.inner.style.height=r+"px",Flourish.setHeight(n?null:Fi()))}}function Ri(t){var e=ki.querySelector(".fl-layout-overlay-message");if(t){ki.style.display="block";var n="string"==typeof t?t:vi;e.innerHTML=n}else e.textContent="",ki.style.display="none"}function Ii(){return ki}let Wi;function Vi(){Wi&&Xi(),Wi=xe(this.getWrapper(),"fl-layout-svg-screenshot-container"),Wi.addTextElements("#fl-layout-header-container h2"),Wi.addTextElements("#fl-layout-header-container h3"),Wi.addTextElements("#fl-layout-header-container p"),Wi.addTextElements("#fl-layout-footer .flourish-footer-text")}function Xi(){Wi.remove(),Wi=null}var Zi=Object.freeze({categorical_type:"palette",categorical_palette:["#4328E7","#9654E5","#FF6283","#FF8800","#FFC502","#007D8E","#1AA7EE","#29DAE4","#88E99A","#019C00","#C11F1F","#730000"],categorical_extend:!0,categorical_custom_palette:"",numeric_type:"sequential",sequential_palette:"Blues",sequential_custom_min:"#F7F7F7",sequential_custom_max:"#FF6283",sequential_color_space:"rgb",sequential_reverse:!1,sequential_custom_domain:!1,sequential_domain_min:0,sequential_domain_max:1,diverging_palette:"RdBu",diverging_custom_min:"#1AA7EE",diverging_custom_mid:"#F7F7F7",diverging_custom_max:"#FF6283",diverging_color_space:"rgb",diverging_reverse:!1,diverging_custom_domain:!1,diverging_domain_min:0,diverging_domain_mid:.5,diverging_domain_max:1,binning:!1,bin_count:4,bin_mode:"fixed",bin_thresholds:""}),Gi=360/((1+Math.sqrt(5))/2),Qi="#FF0000";function Ji(t,e,n){return function(r,i){Array.isArray(r)||(r=r?[r]:[Qi]),i=void 0!==i?i:Gi;var o=r.map((function(e){return t(e)})).filter((function(t){return!isNaN(t[e])&&!isNaN(t[n])}));o.length||(o=[t(Qi)]);var a,u=o.length,l=o.reduce((function(t,n){return t+n[e]}),0)/u,c=o.reduce((function(t,e){return t+e[n]}),0)/u,s=u;do{a=o[--s].h}while(isNaN(a)&&s>0);var f=0;return function(){var e=++f*i;return Ft(t((a+e)%360,l,c)).hex()}}}var Ki={hcl:Ji(he,"c","l"),hsl:Ji(Vt,"s","l")};function to(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var eo,no,ro=(1===(eo=to).length&&(no=eo,eo=function(t,e){return to(no(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;eo(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;eo(t[i],e)>0?r=i:n=i+1}return n}}),io=ro.right;function oo(t){return null===t?NaN:+t}function ao(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var uo=Math.sqrt(50),lo=Math.sqrt(10),co=Math.sqrt(2);function so(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=uo?10:o>=lo?5:o>=co?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=uo?10:o>=lo?5:o>=co?2:1)}function fo(t,e,n){if(null==n&&(n=oo),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function ho(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function po(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var go=Array.prototype,_o=go.map,mo=go.slice;function yo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function vo(){}var wo=.7,xo=1/wo,ko="\\s*([+-]?\\d+)\\s*",Mo="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ao="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",To=/^#([0-9a-f]{3,8})$/,No=new RegExp("^rgb\\("+[ko,ko,ko]+"\\)$"),Co=new RegExp("^rgb\\("+[Ao,Ao,Ao]+"\\)$"),So=new RegExp("^rgba\\("+[ko,ko,ko,Mo]+"\\)$"),zo=new RegExp("^rgba\\("+[Ao,Ao,Ao,Mo]+"\\)$"),$o=new RegExp("^hsl\\("+[Mo,Ao,Ao]+"\\)$"),Eo=new RegExp("^hsla\\("+[Mo,Ao,Ao,Mo]+"\\)$"),Do={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fo(){return this.rgb().formatHex()}function Uo(){return this.rgb().formatRgb()}function Ho(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=To.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?jo(e):3===n?new Po(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Oo(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Oo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=No.exec(t))?new Po(e[1],e[2],e[3],1):(e=Co.exec(t))?new Po(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=So.exec(t))?Oo(e[1],e[2],e[3],e[4]):(e=zo.exec(t))?Oo(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$o.exec(t))?Io(e[1],e[2]/100,e[3]/100,1):(e=Eo.exec(t))?Io(e[1],e[2]/100,e[3]/100,e[4]):Do.hasOwnProperty(t)?jo(Do[t]):"transparent"===t?new Po(NaN,NaN,NaN,0):null}function jo(t){return new Po(t>>16&255,t>>8&255,255&t,1)}function Oo(t,e,n,r){return r<=0&&(t=e=n=NaN),new Po(t,e,n,r)}function Lo(t){return t instanceof vo||(t=Ho(t)),t?new Po((t=t.rgb()).r,t.g,t.b,t.opacity):new Po}function qo(t,e,n,r){return 1===arguments.length?Lo(t):new Po(t,e,n,null==r?1:r)}function Po(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Yo(){return"#"+Ro(this.r)+Ro(this.g)+Ro(this.b)}function Bo(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ro(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Io(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xo(t,e,n,r)}function Wo(t){if(t instanceof Xo)return new Xo(t.h,t.s,t.l,t.opacity);if(t instanceof vo||(t=Ho(t)),!t)return new Xo;if(t instanceof Xo)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new Xo(a,u,l,t.opacity)}function Vo(t,e,n,r){return 1===arguments.length?Wo(t):new Xo(t,e,n,null==r?1:r)}function Xo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zo(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}yo(vo,Ho,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Fo,formatHex:Fo,formatHsl:function(){return Wo(this).formatHsl()},formatRgb:Uo,toString:Uo}),yo(Po,qo,bo(vo,{brighter:function(t){return t=null==t?xo:Math.pow(xo,t),new Po(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?wo:Math.pow(wo,t),new Po(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Yo,formatHex:Yo,formatRgb:Bo,toString:Bo})),yo(Xo,Vo,bo(vo,{brighter:function(t){return t=null==t?xo:Math.pow(xo,t),new Xo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?wo:Math.pow(wo,t),new Xo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Po(Zo(t>=240?t-240:t+120,i,r),Zo(t,i,r),Zo(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Go=Math.PI/180,Qo=180/Math.PI,Jo=.96422,Ko=1,ta=.82521,ea=4/29,na=6/29,ra=3*na*na,ia=na*na*na;function oa(t){if(t instanceof ua)return new ua(t.l,t.a,t.b,t.opacity);if(t instanceof ha)return pa(t);t instanceof Po||(t=Lo(t));var e,n,r=fa(t.r),i=fa(t.g),o=fa(t.b),a=la((.2225045*r+.7168786*i+.0606169*o)/Ko);return r===i&&i===o?e=n=a:(e=la((.4360747*r+.3850649*i+.1430804*o)/Jo),n=la((.0139322*r+.0971045*i+.7141733*o)/ta)),new ua(116*a-16,500*(e-a),200*(a-n),t.opacity)}function aa(t,e,n,r){return 1===arguments.length?oa(t):new ua(t,e,n,null==r?1:r)}function ua(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function la(t){return t>ia?Math.pow(t,1/3):t/ra+ea}function ca(t){return t>na?t*t*t:ra*(t-ea)}function sa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fa(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function da(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof ha)return new ha(t.h,t.c,t.l,t.opacity);if(t instanceof ua||(t=oa(t)),0===t.a&&0===t.b)return new ha(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Qo;return new ha(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new ha(t,e,n,null==r?1:r)}function ha(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function pa(t){if(isNaN(t.h))return new ua(t.l,0,0,t.opacity);var e=t.h*Go;return new ua(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}yo(ua,aa,bo(vo,{brighter:function(t){return new ua(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ua(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Po(sa(3.1338561*(e=Jo*ca(e))-1.6168667*(t=Ko*ca(t))-.4906146*(n=ta*ca(n))),sa(-.9787684*e+1.9161415*t+.033454*n),sa(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),yo(ha,da,bo(vo,{brighter:function(t){return new ha(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new ha(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return pa(this).rgb()}}));var ga=-.14861,_a=1.78277,ma=-.29227,ya=-.90649,ba=1.97294,va=ba*ya,wa=ba*_a,xa=_a*ma-ya*ga;function ka(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ma)return new Ma(t.h,t.s,t.l,t.opacity);t instanceof Po||(t=Lo(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(xa*r+va*e-wa*n)/(xa+va-wa),o=r-i,a=(ba*(n-i)-ma*o)/ya,u=Math.sqrt(a*a+o*o)/(ba*i*(1-i)),l=u?Math.atan2(a,o)*Qo-120:NaN;return new Ma(l<0?l+360:l,u,i,t.opacity)}(t):new Ma(t,e,n,null==r?1:r)}function Ma(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Aa(t){return function(){return t}}function Ta(t,e){return function(n){return t+n*e}}function Na(t,e){var n=e-t;return n?Ta(t,n>180||n<-180?n-360*Math.round(n/360):n):Aa(isNaN(t)?e:t)}function Ca(t){return 1==(t=+t)?Sa:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Aa(isNaN(e)?n:e)}}function Sa(t,e){var n=e-t;return n?Ta(t,n):Aa(isNaN(t)?e:t)}yo(Ma,ka,bo(vo,{brighter:function(t){return t=null==t?xo:Math.pow(xo,t),new Ma(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?wo:Math.pow(wo,t),new Ma(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Go,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Po(255*(e+n*(ga*r+_a*i)),255*(e+n*(ma*r+ya*i)),255*(e+n*(ba*r)),this.opacity)}}));var za=function t(e){var n=Ca(e);function r(t,e){var r=n((t=qo(t)).r,(e=qo(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Sa(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);var $a,Ea=($a=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,u=r<e-1?t[r+2]:2*o-i;return function(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}((n-r/e)*e,a,i,o,u)}},function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=qo(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=$a(i),o=$a(o),a=$a(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}});function Da(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Fa(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Pa(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Ua(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ha(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ja(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Pa(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Oa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,La=new RegExp(Oa.source,"g");function qa(t,e){var n,r,i,o=Oa.lastIndex=La.lastIndex=0,a=-1,u=[],l=[];for(t+="",e+="";(n=Oa.exec(t))&&(r=La.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:Ha(n,r)})),o=La.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)u[(n=l[r]).i]=n.x(t);return u.join("")})}function Pa(t,e){var n,r=typeof e;return null==e||"boolean"===r?Aa(e):("number"===r?Ha:"string"===r?(n=Ho(e))?(e=n,za):qa:e instanceof Ho?za:e instanceof Date?Ua:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Da:Array.isArray(e)?Fa:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ja:Ha)(t,e)}function Ya(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ba,Ra,Ia,Wa,Va=180/Math.PI,Xa={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Za(t,e,n,r,i,o){var a,u,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Va,skewX:Math.atan(l)*Va,scaleX:a,scaleY:u}}function Ga(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var u=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,u){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);u.push({i:l-4,x:Ha(t,i)},{i:l-2,x:Ha(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,u,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Ha(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,u,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Ha(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,u,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var u=o.push(i(o)+"scale(",null,",",null,")");a.push({i:u-4,x:Ha(t,n)},{i:u-2,x:Ha(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,u,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)u[(e=l[n]).i]=e.x(t);return u.join("")}}}var Qa=Ga((function(t){return"none"===t?Xa:(Ba||(Ba=document.createElement("DIV"),Ra=document.documentElement,Ia=document.defaultView),Ba.style.transform=t,t=Ia.getComputedStyle(Ra.appendChild(Ba),null).getPropertyValue("transform"),Ra.removeChild(Ba),Za(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Ja=Ga((function(t){return null==t?Xa:(Wa||(Wa=document.createElementNS("http://www.w3.org/2000/svg","g")),Wa.setAttribute("transform",t),(t=Wa.transform.baseVal.consolidate())?Za((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Xa)}),", ",")",")");var Ka=function(t){return function(e,n){var r=t((e=Vo(e)).h,(n=Vo(n)).h),i=Sa(e.s,n.s),o=Sa(e.l,n.l),a=Sa(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(Na);function tu(t,e){var n=Sa((t=aa(t)).l,(e=aa(e)).l),r=Sa(t.a,e.a),i=Sa(t.b,e.b),o=Sa(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}var eu=function(t){return function(e,n){var r=t((e=da(e)).h,(n=da(n)).h),i=Sa(e.c,n.c),o=Sa(e.l,n.l),a=Sa(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}(Na);function nu(t){return function e(n){function r(e,r){var i=t((e=ka(e)).h,(r=ka(r)).h),o=Sa(e.s,r.s),a=Sa(e.l,r.l),u=Sa(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=u(t),e+""}}return n=+n,r.gamma=e,r}(1)}nu(Na);var ru=nu(Sa);function iu(t){return+t}var ou=[0,1];function au(t){return t}function uu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function lu(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function cu(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=uu(i,r),o=n(a,o)):(r=uu(r,i),o=n(o,a)),function(t){return o(r(t))}}function su(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=uu(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=io(t,e,1,r)-1;return o[n](i[n](e))}}function fu(t,e){return function(){var t,e,n,r,i,o,a=ou,u=ou,l=Pa,c=au;function s(){return r=Math.min(a.length,u.length)>2?su:cu,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(u,a.map(t),Ha)))(n)))},f.domain=function(t){return arguments.length?(a=_o.call(t,iu),c===au||(c=lu(a)),s()):a.slice()},f.range=function(t){return arguments.length?(u=mo.call(t),s()):u.slice()},f.rangeRound=function(t){return u=mo.call(t),l=Ya,s()},f.clamp=function(t){return arguments.length?(c=t?lu(a):au,f):c!==au},f.interpolate=function(t){return arguments.length?(l=t,s()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}()(t,e)}function du(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function hu(t){return(t=du(Math.abs(t)))?t[1]:NaN}var pu,gu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _u(t){if(!(e=gu.exec(t)))throw new Error("invalid format: "+t);var e;return new mu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function mu(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function yu(t,e){var n=du(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}_u.prototype=mu.prototype,mu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var bu={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return yu(100*t,e)},r:yu,s:function(t,e){var n=du(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(pu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+du(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function vu(t){return t}var wu,xu,ku,Mu=Array.prototype.map,Au=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Tu(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?vu:(e=Mu.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],l=0;i>0&&u>0&&(l+u+1>r&&(u=Math.max(1,r-l)),o.push(t.substring(i-=u,i+u)),!((l+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?vu:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Mu.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function f(t){var e=(t=_u(t)).fill,n=t.align,f=t.sign,d=t.symbol,h=t.zero,p=t.width,g=t.comma,_=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):bu[y]||(void 0===_&&(_=12),m=!0,y="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",v="$"===d?o:/[%p]/.test(y)?l:"",w=bu[y],x=/[defgprs%]/.test(y);function k(t){var i,o,l,d=b,k=v;if("c"===y)k=w(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:w(Math.abs(t),_),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),d=(M?"("===f?f:c:"-"===f||"("===f?"":f)+d,k=("s"===y?Au[8+pu/3]:"")+k+(M&&"("===f?")":""),x)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var A=d.length+t.length+k.length,T=A<p?new Array(p-A+1).join(e):"";switch(g&&h&&(t=r(T+t,T.length?p-k.length:1/0),T=""),n){case"<":t=d+t+k+T;break;case"=":t=d+T+t+k;break;case"^":t=T.slice(0,A=T.length>>1)+d+t+k+T.slice(A);break;default:t=T+d+t+k}return u(t)}return _=void 0===_?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,e){var n=f(((t=_u(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(hu(e)/3))),i=Math.pow(10,-r),o=Au[8+r/3];return function(t){return n(i*t)+o}}}}function Nu(t){return Math.max(0,-hu(Math.abs(t)))}function Cu(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(hu(e)/3)))-hu(Math.abs(t)))}function Su(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,hu(e)-hu(t))+1}function zu(t,e,n,r){var i,o=function(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=uo?i*=10:o>=lo?i*=5:o>=co&&(i*=2),e<t?-i:i}(t,e,n);switch((r=_u(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Cu(o,a))||(r.precision=i),ku(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Su(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Nu(o))||(r.precision=i-2*("%"===r.type))}return xu(r)}function $u(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=so(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++u<i;)o[u]=(t-u)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return zu(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,u=i[o],l=i[a];return l<u&&(r=u,u=l,l=r,r=o,o=a,a=r),(r=so(u,l,n))>0?r=so(u=Math.floor(u/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=so(u=Math.ceil(u*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(u/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(u*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}function Eu(){var t=fu(au,au);return t.copy=function(){return e=t,Eu().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},ho.apply(t,arguments),$u(t)}function Du(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=fo(e,t/i);return o}function o(e){return isNaN(e=+e)?t:n[io(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(to),i()},o.range=function(t){return arguments.length?(n=mo.call(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Du().domain(e).range(n).unknown(t)},ho.apply(o,arguments)}function Fu(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[io(i,e,0,r)]:t}function u(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],u()):[e,n]},a.range=function(t){return arguments.length?(r=(o=mo.call(t)).length-1,u()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Fu().domain([e,n]).range(o).unknown(t)},ho.apply($u(a),arguments)}function Uu(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[io(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=mo.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=mo.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Uu().domain(e).range(n).unknown(t)},ho.apply(i,arguments)}!function(t){wu=Tu(t),xu=wu.format,ku=wu.formatPrefix}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});var Hu=new Date,ju=new Date;function Ou(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return Ou((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Hu.setTime(+e),ju.setTime(+r),t(Hu),t(ju),Math.floor(n(Hu,ju))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Lu=Ou((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Lu.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ou((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Lu:null};var qu=Lu;Lu.range;var Pu=6e4,Yu=36e5,Bu=864e5,Ru=6048e5,Iu=Ou((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Wu=Iu;Iu.range;var Vu=Ou((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pu)/Bu}),(function(t){return t.getDate()-1})),Xu=Vu;function Zu(t){return Ou((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pu)/Ru}))}Vu.range;var Gu=Zu(0),Qu=Zu(1),Ju=Zu(2),Ku=Zu(3),tl=Zu(4),el=Zu(5),nl=Zu(6);Gu.range,Qu.range,Ju.range,Ku.range,tl.range,el.range,nl.range;var rl=Ou((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));rl.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ou((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var il=rl;rl.range;var ol=Ou((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*Pu)}),(function(t,e){return(e-t)/Pu}),(function(t){return t.getUTCMinutes()})),al=ol;ol.range;var ul=Ou((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*Yu)}),(function(t,e){return(e-t)/Yu}),(function(t){return t.getUTCHours()})),ll=ul;ul.range;var cl=Ou((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/Bu}),(function(t){return t.getUTCDate()-1})),sl=cl;function fl(t){return Ou((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Ru}))}cl.range;var dl=fl(0),hl=fl(1),pl=fl(2),gl=fl(3),_l=fl(4),ml=fl(5),yl=fl(6);dl.range,hl.range,pl.range,gl.range,_l.range,ml.range,yl.range;var bl=Ou((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),vl=bl;bl.range;var wl=Ou((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));wl.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ou((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var xl=wl;function kl(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ml(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Al(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}wl.range;var Tl,Nl,Cl,Sl={"-":"",_:" ",0:"0"},zl=/^\s*\d+/,$l=/^%/,El=/[\\^$*+?|[\]().{}]/g;function Dl(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Fl(t){return t.replace(El,"\\$&")}function Ul(t){return new RegExp("^(?:"+t.map(Fl).join("|")+")","i")}function Hl(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function jl(t,e,n){var r=zl.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ol(t,e,n){var r=zl.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ll(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ql(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Pl(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Yl(t,e,n){var r=zl.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bl(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rl(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Il(t,e,n){var r=zl.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Wl(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Vl(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Xl(t,e,n){var r=zl.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Zl(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Gl(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ql(t,e,n){var r=zl.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Jl(t,e,n){var r=zl.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Kl(t,e,n){var r=zl.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function tc(t,e,n){var r=$l.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ec(t,e,n){var r=zl.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nc(t,e,n){var r=zl.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function rc(t,e){return Dl(t.getDate(),e,2)}function ic(t,e){return Dl(t.getHours(),e,2)}function oc(t,e){return Dl(t.getHours()%12||12,e,2)}function ac(t,e){return Dl(1+Xu.count(il(t),t),e,3)}function uc(t,e){return Dl(t.getMilliseconds(),e,3)}function lc(t,e){return uc(t,e)+"000"}function cc(t,e){return Dl(t.getMonth()+1,e,2)}function sc(t,e){return Dl(t.getMinutes(),e,2)}function fc(t,e){return Dl(t.getSeconds(),e,2)}function dc(t){var e=t.getDay();return 0===e?7:e}function hc(t,e){return Dl(Gu.count(il(t)-1,t),e,2)}function pc(t){var e=t.getDay();return e>=4||0===e?tl(t):tl.ceil(t)}function gc(t,e){return t=pc(t),Dl(tl.count(il(t),t)+(4===il(t).getDay()),e,2)}function _c(t){return t.getDay()}function mc(t,e){return Dl(Qu.count(il(t)-1,t),e,2)}function yc(t,e){return Dl(t.getFullYear()%100,e,2)}function bc(t,e){return Dl((t=pc(t)).getFullYear()%100,e,2)}function vc(t,e){return Dl(t.getFullYear()%1e4,e,4)}function wc(t,e){var n=t.getDay();return Dl((t=n>=4||0===n?tl(t):tl.ceil(t)).getFullYear()%1e4,e,4)}function xc(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dl(e/60|0,"0",2)+Dl(e%60,"0",2)}function kc(t,e){return Dl(t.getUTCDate(),e,2)}function Mc(t,e){return Dl(t.getUTCHours(),e,2)}function Ac(t,e){return Dl(t.getUTCHours()%12||12,e,2)}function Tc(t,e){return Dl(1+sl.count(xl(t),t),e,3)}function Nc(t,e){return Dl(t.getUTCMilliseconds(),e,3)}function Cc(t,e){return Nc(t,e)+"000"}function Sc(t,e){return Dl(t.getUTCMonth()+1,e,2)}function zc(t,e){return Dl(t.getUTCMinutes(),e,2)}function $c(t,e){return Dl(t.getUTCSeconds(),e,2)}function Ec(t){var e=t.getUTCDay();return 0===e?7:e}function Dc(t,e){return Dl(dl.count(xl(t)-1,t),e,2)}function Fc(t){var e=t.getUTCDay();return e>=4||0===e?_l(t):_l.ceil(t)}function Uc(t,e){return t=Fc(t),Dl(_l.count(xl(t),t)+(4===xl(t).getUTCDay()),e,2)}function Hc(t){return t.getUTCDay()}function jc(t,e){return Dl(hl.count(xl(t)-1,t),e,2)}function Oc(t,e){return Dl(t.getUTCFullYear()%100,e,2)}function Lc(t,e){return Dl((t=Fc(t)).getUTCFullYear()%100,e,2)}function qc(t,e){return Dl(t.getUTCFullYear()%1e4,e,4)}function Pc(t,e){var n=t.getUTCDay();return Dl((t=n>=4||0===n?_l(t):_l.ceil(t)).getUTCFullYear()%1e4,e,4)}function Yc(){return"+0000"}function Bc(){return"%"}function Rc(t){return+t}function Ic(t){return Math.floor(+t/1e3)}function Wc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Vc(){var t=$u(function(){var t,e,n,r,i,o=0,a=1,u=au,l=!1;function c(e){return isNaN(e=+e)?i:u(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(u=t,c):u},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}()(au));return t.copy=function(){return Wc(t,Vc())},po.apply(t,arguments)}function Xc(){var t=$u(function(){var t,e,n,r,i,o,a,u=0,l=.5,c=1,s=au,f=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),s(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=o(u=+a[0]),e=o(l=+a[1]),n=o(c=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[u,l,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(s=t,d):s},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(u),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}()(au));return t.copy=function(){return Wc(t,Xc())},po.apply(t,arguments)}function Zc(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}function Gc(t){return Ea(t[t.length-1])}!function(t){Tl=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,c=Ul(i),s=Hl(i),f=Ul(o),d=Hl(o),h=Ul(a),p=Hl(a),g=Ul(u),_=Hl(u),m=Ul(l),y=Hl(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:rc,e:rc,f:lc,g:bc,G:wc,H:ic,I:oc,j:ac,L:uc,m:cc,M:sc,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Rc,s:Ic,S:fc,u:dc,U:hc,V:gc,w:_c,W:mc,x:null,X:null,y:yc,Y:vc,Z:xc,"%":Bc},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:kc,e:kc,f:Cc,g:Lc,G:Pc,H:Mc,I:Ac,j:Tc,L:Nc,m:Sc,M:zc,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Rc,s:Ic,S:$c,u:Ec,U:Dc,V:Uc,w:Hc,W:jc,x:null,X:null,y:Oc,Y:qc,Z:Yc,"%":Bc},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:Vl,e:Vl,f:Kl,g:Bl,G:Yl,H:Zl,I:Zl,j:Xl,L:Jl,m:Wl,M:Gl,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s[r[0].toLowerCase()],n+r[0].length):-1},q:Il,Q:ec,s:nc,S:Ql,u:Ol,U:Ll,V:ql,w:jl,W:Pl,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:Bl,Y:Yl,Z:Rl,"%":tc};function x(t,e){return function(n){var r,i,o,a=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(i=Sl[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function k(t,e){return function(n){var r,i,o=Al(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Ml(Al(o.y,0,1))).getUTCDay(),r=i>4||0===i?hl.ceil(r):hl(r),r=sl.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=kl(Al(o.y,0,1))).getDay(),r=i>4||0===i?Qu.ceil(r):Qu(r),r=Xu.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Ml(Al(o.y,0,1)).getUTCDay():kl(Al(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Ml(o)):kl(o)}}function M(t,e,n,r){for(var i,o,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in Sl?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),Tl.format,Tl.parse,Nl=Tl.utcFormat,Cl=Tl.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Qc=Gc(new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Zc)),Jc=Gc(new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Zc)),Kc=Gc(new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Zc)),ts=Gc(new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Zc)),es=Gc(new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Zc)),ns=Gc(new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Zc)),rs=Gc(new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Zc)),is=Gc(new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Zc)),os=Gc(new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Zc)),as=Gc(new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Zc)),us=Gc(new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Zc)),ls=Gc(new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Zc)),cs=Gc(new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Zc)),ss=Gc(new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Zc)),fs=Gc(new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Zc)),ds=Gc(new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Zc)),hs=Gc(new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Zc)),ps=Gc(new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Zc)),gs=Gc(new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Zc)),_s=Gc(new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Zc)),ms=Gc(new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Zc)),ys=Gc(new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Zc)),bs=Gc(new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Zc)),vs=Gc(new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Zc)),ws=Gc(new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Zc)),xs=Gc(new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Zc)),ks=Gc(new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Zc)),Ms=ru(ka(300,.5,0),ka(-240,.5,1)),As=ru(ka(-100,.75,.35),ka(80,1.5,.8)),Ts=ru(ka(260,.75,.35),ka(80,1.5,.8));function Ns(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}ka();var Cs=Ns(Zc("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Ss=Ns(Zc("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),zs=Ns(Zc("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),$s=Ns(Zc("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Es(t,e){return t-e}function Ds(t,e){var n=e[0],r=e[e.length-1],i=Fu().domain([n,r]),o=Math.floor(t.bin_count);return i.range(ao(o)),i.thresholds()}function Fs(t,e,n){var r;return r="fixed"==t.bin_mode?Ds(t,e):"quantile"==t.bin_mode?function(t,e,n){var r=Du().domain(n),i=Math.floor(t.bin_count);return r.range(ao(i)),r.quantiles()}(t,0,n):function(t){return t.bin_thresholds.split(";").map(parseFloat).filter((function(t){return!isNaN(t)&&null!==t})).sort(Es)}(t),r}function Us(t,e,n,r,i){for(var o=1+e;o<=t+e;o++)i.push(r(n(o)))}function Hs(t,e,n){var r=e.length,i=Eu(),o=[];if(1===r)o.push(n(.5));else if(2===t.length)i.domain([1,r]).range([0,1]),Us(r,0,i,n,o);else if(2===r)o.push(n(0)),o.push(n(1));else{var a,u,l=t[1],c=function(t,e){var n;return t.forEach((function(t,r){Math.abs(t-e)<.001&&(n=r)})),n}(e,l);c?(a=c,u=r-c-1,i.domain([1,a+1]).range([0,.5]),Us(a,0,i,n,o),o.push(n(.5)),i.domain([1,u+1]).range([.5,1]),Us(u,1,i,n,o)):(a=function(t,e){var n=0;return t.forEach((function(t){t<e&&n++})),n}(e,l),u=r-a,i.domain([1,a+1]).range([0,.5]),Us(a,0,i,n,o),i.domain([1,u+1]).range([.5,1]),Us(u,1,i,n,o))}return o}function js(t,e,n,r){var i,o=Fs(t,e,n),a=function(t,e,n){var r=[];if(0===e.length)return[.5*(t+n)];r.push(.5*(t+e[0]));for(var i=0;i<e.length-1;i++)r.push(.5*(e[i]+e[i+1]));return r.push(.5*(n+e[e.length-1])),r}(e[0],o,e[e.length-1]),u=Hs(e,a,r);(i="quantile"==t.bin_mode?Du().domain(n):Uu().domain(o)).range(u);var l=function(t){return isNaN(t)||null===t?null:i(t)};return l.domain=Object.freeze(e),l.thresholds=Object.freeze(o),l.centers=Object.freeze(a),l}function Os(t){var e=Array.isArray(t)?function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}(t):[0,1];return e}var Ls=Object.freeze(["#efeca4","#e9e28f","#dccf64","#e3b23c","#e49547","#e37746","#dc5b36","#cb4144","#bb2244","#972545","#6a2c4f"]),qs=Object.freeze({Blues:ys,BuGn:as,BuPu:us,Carrots:Ea(Ls),Cool:Ts,CubehelixDefault:Ms,GnBu:ls,Greens:bs,Greys:vs,Inferno:zs,Magma:Ss,Oranges:ks,OrRd:cs,Plasma:$s,PuBu:fs,PuBuGn:ss,PuRd:ds,Purples:ws,RdPu:hs,Reds:xs,Viridis:Cs,Warm:As,YlGn:gs,YlGnBu:ps,YlOrBr:_s,YlOrRd:ms}),Ps={hcl:eu,hsl:Ka,lab:tu,rgb:za};function Ys(t,e){var n=t.sequential_custom_domain?[t.sequential_domain_min,t.sequential_domain_max]:Os(e),r=function(e){var n=qs[t.sequential_palette]||function(t){var e=t.sequential_color_space,n=t.sequential_custom_min,r=t.sequential_custom_max;return Ps[e](n,r)}(t);return t.sequential_reverse?n(1-e):n(e)};if(t.binning)return js(t,n,e,r);var i=Vc(r).domain(n),o=function(t){return isNaN(t)||null===t?null:i(t)};return o.domain=Object.freeze(n),o}var Bs=Object.freeze({BrBG:Qc,PiYG:Kc,PRGn:Jc,PuOr:ts,RdBu:es,RdGy:ns,RdYlBu:rs,RdYlGn:is,Spectral:os}),Rs={hcl:eu,hsl:Ka,lab:tu,rgb:za};function Is(t){var e=t.diverging_color_space,n=t.diverging_custom_min,r=t.diverging_custom_mid,i=t.diverging_custom_max;return function(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}(Rs[e],[n,r,i])}function Ws(t,e){return Object.keys(e).forEach((function(n){void 0===t[n]&&(t[n]=e[n])})),t}var Vs=Object.freeze({axis_position:"bottom",y_axis_position:"",numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"auto",tick_number:5,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:1,tick_label_color:"#4A4A4A",tick_label_angle:"45",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!1,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_color:"#4A4A4A",title_size:1.1,title_weight:"bold",title_padding:.6}),Xs=Object.freeze({axis_visible:!0,numeric_scale_type:"linear",nice:!0,flip:!1,zero_axis:"auto",linear_min:null,linear_max:null,log_min:null,log_max:null,datetime_min:"",datetime_max:"",line_visible:!0,line_and_tick_color:"#eeeeee",line_and_tick_width:.1,tick_side:"out",tick_mode:"number",tick_number:4,tick_custom:"",tick_length:.5,tick_padding:.25,edge_padding:50,tick_label_position:"default",tick_label_size:1,tick_label_color:"#4A4A4A",tick_label_angle:"0",tick_label_weight:"normal",tick_label_space_mode:"auto",tick_label_space:10,tick_label_max_lines:2,tick_label_line_height:1.1,gridlines_visible:!0,gridline_color:"#eeeeee",gridline_width:.1,gridline_style:"solid",gridline_category_dividers:!1,gridline_category_dividers_extend:!1,title_mode:"auto",title:"",title_position:"end",title_color:"#4A4A4A",title_size:1.1,title_weight:"bold",title_padding:.6}),Zs=Object.freeze(Ws({axis_visible:!1},Xs)),Gs=Object.freeze({background_color_enabled:!1,background_color:"#f5f5f5",background_image_enabled:!1,background_image_src:"",background_image_size:"stretch",background_image_position:"xMidYMid"});function Qs(t,e,n){t[e]||(t[e]={}),Ws(t[e],n)}function Js(t){t=t||{};var e=Qs.bind(null,t);return e("x",Vs),e("y",Xs),e("y2",Zs),e("background",Gs),t}var Ks="http://www.w3.org/1999/xhtml",tf={svg:"http://www.w3.org/2000/svg",xhtml:Ks,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ef(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),tf.hasOwnProperty(e)?{space:tf[e],local:t}:t}function nf(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ks&&e.documentElement.namespaceURI===Ks?e.createElement(t):e.createElementNS(n,t)}}function rf(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function of(t){var e=ef(t);return(e.local?rf:nf)(e)}function af(){}function uf(t){return null==t?af:function(){return this.querySelector(t)}}function lf(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function cf(){return[]}function sf(t){return null==t?cf:function(){return this.querySelectorAll(t)}}function ff(t){return function(){return this.matches(t)}}function df(t){return function(e){return e.matches(t)}}var hf=Array.prototype.find;function pf(){return this.firstElementChild}var gf=Array.prototype.filter;function _f(){return this.children}function mf(t){return new Array(t.length)}function yf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function bf(t,e,n,r,i,o){for(var a,u=0,l=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new yf(t,o[u]);for(;u<l;++u)(a=e[u])&&(i[u]=a)}function vf(t,e,n,r,i,o,a){var u,l,c,s=new Map,f=e.length,d=o.length,h=new Array(f);for(u=0;u<f;++u)(l=e[u])&&(h[u]=c=a.call(l,l.__data__,u,e)+"",s.has(c)?i[u]=l:s.set(c,l));for(u=0;u<d;++u)c=a.call(t,o[u],u,o)+"",(l=s.get(c))?(r[u]=l,l.__data__=o[u],s.delete(c)):n[u]=new yf(t,o[u]);for(u=0;u<f;++u)(l=e[u])&&s.get(h[u])===l&&(i[u]=l)}function wf(t){return t.__data__}function xf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function kf(t){return function(){this.removeAttribute(t)}}function Mf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Af(t,e){return function(){this.setAttribute(t,e)}}function Tf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Nf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Cf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Sf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function zf(t){return function(){this.style.removeProperty(t)}}function $f(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ef(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Df(t,e){return t.style.getPropertyValue(e)||Sf(t).getComputedStyle(t,null).getPropertyValue(e)}function Ff(t){return function(){delete this[t]}}function Uf(t,e){return function(){this[t]=e}}function Hf(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function jf(t){return t.trim().split(/^|\s+/)}function Of(t){return t.classList||new Lf(t)}function Lf(t){this._node=t,this._names=jf(t.getAttribute("class")||"")}function qf(t,e){for(var n=Of(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Pf(t,e){for(var n=Of(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Yf(t){return function(){qf(this,t)}}function Bf(t){return function(){Pf(this,t)}}function Rf(t,e){return function(){(e.apply(this,arguments)?qf:Pf)(this,t)}}function If(){this.textContent=""}function Wf(t){return function(){this.textContent=t}}function Vf(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Xf(){this.innerHTML=""}function Zf(t){return function(){this.innerHTML=t}}function Gf(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Qf(){this.nextSibling&&this.parentNode.appendChild(this)}function Jf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Kf(){return null}function td(){var t=this.parentNode;t&&t.removeChild(this)}function ed(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rd(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function id(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function od(t,e,n){var r=Sf(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ad(t,e){return function(){return od(this,t,e)}}function ud(t,e){return function(){return od(this,t,e.apply(this,arguments))}}yf.prototype={constructor:yf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Lf.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ld=[null];function cd(t,e){this._groups=t,this._parents=e}function sd(){return new cd([[document.documentElement]],ld)}function fd(t){return"string"==typeof t?new cd([[document.querySelector(t)]],[document.documentElement]):new cd([[t]],ld)}function dd(t){return"svg"===t.tagName.toLowerCase()}cd.prototype=sd.prototype={constructor:cd,select:function(t){"function"!=typeof t&&(t=uf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],l=u.length,c=r[i]=new Array(l),s=0;s<l;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),c[s]=a);return new cd(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:lf(e)}}(t):sf(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],l=u.length,c=0;c<l;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new cd(r,i)},selectChild:function(t){return this.select(null==t?pf:function(t){return function(){return hf.call(this.children,t)}}("function"==typeof t?t:df(t)))},selectChildren:function(t){return this.selectAll(null==t?_f:function(t){return function(){return gf.call(this.children,t)}}("function"==typeof t?t:df(t)))},filter:function(t){"function"!=typeof t&&(t=ff(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new cd(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,wf);var n=e?vf:bf,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var s=r[c],f=i[c],d=f.length,h=lf(t.call(s,s&&s.__data__,c,r)),p=h.length,g=u[c]=new Array(p),_=a[c]=new Array(p);n(s,f,g,_,l[c]=new Array(d),h,e);for(var m,y,b=0,v=0;b<p;++b)if(m=g[b]){for(b>=v&&(v=b+1);!(y=_[v])&&++v<p;);m._next=y||null}}return(a=new cd(a,r))._enter=u,a._exit=l,a},enter:function(){return new cd(this._enter||this._groups.map(mf),this._parents)},exit:function(){return new cd(this._exit||this._groups.map(mf),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof cd))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l,c=e[u],s=n[u],f=c.length,d=a[u]=new Array(f),h=0;h<f;++h)(l=c[h]||s[h])&&(d[h]=l);for(;u<r;++u)a[u]=e[u];return new cd(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=xf);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],l=u.length,c=i[o]=new Array(l),s=0;s<l;++s)(a=u[s])&&(c[s]=a);c.sort(e)}return new cd(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=ef(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Mf:kf:"function"==typeof e?n.local?Cf:Nf:n.local?Tf:Af)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?zf:"function"==typeof e?Ef:$f)(t,e,null==n?"":n)):Df(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Ff:"function"==typeof e?Hf:Uf)(t,e)):this.node()[t]},classed:function(t,e){var n=jf(t+"");if(arguments.length<2){for(var r=Of(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Rf:e?Yf:Bf)(n,e))},text:function(t){return arguments.length?this.each(null==t?If:("function"==typeof t?Vf:Wf)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Xf:("function"==typeof t?Gf:Zf)(t)):this.node().innerHTML},raise:function(){return this.each(Qf)},lower:function(){return this.each(Jf)},append:function(t){var e="function"==typeof t?t:of(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:of(t),r=null==e?Kf:"function"==typeof e?e:uf(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(td)},clone:function(t){return this.select(t?nd:ed)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?id:rd,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var l,c=0,s=u.length;c<s;++c)for(r=0,l=u[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?ud:ad)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};var hd=0;var pd=Object.freeze({left:!0,top:!0,right:!0,bottom:!0}),gd=Object.freeze({left:!1,top:!1,right:!1,bottom:!1});var _d={value:function(){}};function md(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new yd(r)}function yd(t){this._=t}function bd(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function vd(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=_d,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}yd.prototype=md.prototype={constructor:yd,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<u;)if(n=(t=o[a]).type)i[n]=vd(i[n],t.name,e);else if(null==e)for(n in i)i[n]=vd(i[n],t.name,null);return this}for(;++a<u;)if((n=(t=o[a]).type)&&(n=bd(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new yd(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var wd,xd,kd=0,Md=0,Ad=0,Td=1e3,Nd=0,Cd=0,Sd=0,zd="object"==typeof performance&&performance.now?performance:Date,$d="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ed(){return Cd||($d(Dd),Cd=zd.now()+Sd)}function Dd(){Cd=0}function Fd(){this._call=this._time=this._next=null}function Ud(t,e,n){var r=new Fd;return r.restart(t,e,n),r}function Hd(){Cd=(Nd=zd.now())+Sd,kd=Md=0;try{!function(){Ed(),++kd;for(var t,e=wd;e;)(t=Cd-e._time)>=0&&e._call.call(null,t),e=e._next;--kd}()}finally{kd=0,function(){var t,e,n=wd,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:wd=e);xd=t,Od(r)}(),Cd=0}}function jd(){var t=zd.now(),e=t-Nd;e>Td&&(Sd-=e,Nd=t)}function Od(t){kd||(Md&&(Md=clearTimeout(Md)),t-Cd>24?(t<1/0&&(Md=setTimeout(Hd,t-zd.now()-Sd)),Ad&&(Ad=clearInterval(Ad))):(Ad||(Nd=zd.now(),Ad=setInterval(jd,Td)),kd=1,$d(Hd)))}function Ld(t,e,n){var r=new Fd;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Fd.prototype=Ud.prototype={constructor:Fd,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ed():+n)+(null==e?0:+e),this._next||xd===this||(xd?xd._next=this:wd=this,xd=this),this._call=t,this._time=n,Od()},stop:function(){this._call&&(this._call=null,this._time=1/0,Od())}};var qd=md("start","end","cancel","interrupt"),Pd=[],Yd=0,Bd=1,Rd=2,Id=3,Wd=4,Vd=5,Xd=6;function Zd(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=Bd,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,s,f,d;if(n.state!==Bd)return l();for(c in i)if((d=i[c]).name===n.name){if(d.state===Id)return Ld(a);d.state===Wd?(d.state=Xd,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=Xd,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Ld((function(){n.state===Id&&(n.state=Wd,n.timer.restart(u,n.delay,n.time),u(o))})),n.state=Rd,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Rd){for(n.state=Id,r=new Array(f=n.tween.length),c=0,s=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function u(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=Vd,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===Vd&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Xd,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ud(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:qd,tween:Pd,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Yd})}function Gd(t,e){var n=Jd(t,e);if(n.state>Yd)throw new Error("too late; already scheduled");return n}function Qd(t,e){var n=Jd(t,e);if(n.state>Id)throw new Error("too late; already running");return n}function Jd(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Kd(t,e){var n,r;return function(){var i=Qd(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function th(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Qd(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=u;break}l===c&&i.push(u)}o.tween=i}}function eh(t,e,n){var r=t._id;return t.each((function(){var t=Qd(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Jd(t,r).value[e]}}function nh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rh(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ih(){}var oh=.7,ah=1/oh,uh="\\s*([+-]?\\d+)\\s*",lh="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ch="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sh=/^#([0-9a-f]{3,8})$/,fh=new RegExp("^rgb\\("+[uh,uh,uh]+"\\)$"),dh=new RegExp("^rgb\\("+[ch,ch,ch]+"\\)$"),hh=new RegExp("^rgba\\("+[uh,uh,uh,lh]+"\\)$"),ph=new RegExp("^rgba\\("+[ch,ch,ch,lh]+"\\)$"),gh=new RegExp("^hsl\\("+[lh,ch,ch]+"\\)$"),_h=new RegExp("^hsla\\("+[lh,ch,ch,lh]+"\\)$"),mh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yh(){return this.rgb().formatHex()}function bh(){return this.rgb().formatRgb()}function vh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=sh.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?wh(e):3===n?new kh(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?xh(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?xh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=fh.exec(t))?new kh(e[1],e[2],e[3],1):(e=dh.exec(t))?new kh(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=hh.exec(t))?xh(e[1],e[2],e[3],e[4]):(e=ph.exec(t))?xh(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=gh.exec(t))?Nh(e[1],e[2]/100,e[3]/100,1):(e=_h.exec(t))?Nh(e[1],e[2]/100,e[3]/100,e[4]):mh.hasOwnProperty(t)?wh(mh[t]):"transparent"===t?new kh(NaN,NaN,NaN,0):null}function wh(t){return new kh(t>>16&255,t>>8&255,255&t,1)}function xh(t,e,n,r){return r<=0&&(t=e=n=NaN),new kh(t,e,n,r)}function kh(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Mh(){return"#"+Th(this.r)+Th(this.g)+Th(this.b)}function Ah(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Th(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Nh(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Sh(t,e,n,r)}function Ch(t){if(t instanceof Sh)return new Sh(t.h,t.s,t.l,t.opacity);if(t instanceof ih||(t=vh(t)),!t)return new Sh;if(t instanceof Sh)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,l=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=l<.5?o+i:2-o-i,a*=60):u=l>0&&l<1?0:a,new Sh(a,u,l,t.opacity)}function Sh(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function zh(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function $h(t,e){var n;return("number"==typeof e?Ha:e instanceof vh?za:(n=vh(e))?(e=n,za):qa)(t,e)}function Eh(t){return function(){this.removeAttribute(t)}}function Dh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Fh(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Uh(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Hh(t,e,n){var r,i,o;return function(){var a,u,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,l));this.removeAttribute(t)}}function jh(t,e,n){var r,i,o;return function(){var a,u,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Oh(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Lh(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function qh(t,e){return function(){Gd(this,t).delay=+e.apply(this,arguments)}}function Ph(t,e){return e=+e,function(){Gd(this,t).delay=e}}function Yh(t,e){return function(){Qd(this,t).duration=+e.apply(this,arguments)}}function Bh(t,e){return e=+e,function(){Qd(this,t).duration=e}}nh(ih,vh,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:yh,formatHex:yh,formatHsl:function(){return Ch(this).formatHsl()},formatRgb:bh,toString:bh}),nh(kh,(function(t,e,n,r){return 1===arguments.length?((i=t)instanceof ih||(i=vh(i)),i?new kh((i=i.rgb()).r,i.g,i.b,i.opacity):new kh):new kh(t,e,n,null==r?1:r);var i}),rh(ih,{brighter:function(t){return t=null==t?ah:Math.pow(ah,t),new kh(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?oh:Math.pow(oh,t),new kh(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mh,formatHex:Mh,formatRgb:Ah,toString:Ah})),nh(Sh,(function(t,e,n,r){return 1===arguments.length?Ch(t):new Sh(t,e,n,null==r?1:r)}),rh(ih,{brighter:function(t){return t=null==t?ah:Math.pow(ah,t),new Sh(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?oh:Math.pow(oh,t),new Sh(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kh(zh(t>=240?t-240:t+120,i,r),zh(t,i,r),zh(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Rh=sd.prototype.constructor;function Ih(t){return function(){this.style.removeProperty(t)}}var Wh=0;function Vh(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Xh(){return++Wh}var Zh=sd.prototype;Vh.prototype={constructor:Vh,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=uf(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,l,c=r[a],s=c.length,f=o[a]=new Array(s),d=0;d<s;++d)(u=c[d])&&(l=t.call(u,u.__data__,d,c))&&("__data__"in u&&(l.__data__=u.__data__),f[d]=l,Zd(f[d],e,n,d,f,Jd(u,n)));return new Vh(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=sf(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l,c=r[u],s=c.length,f=0;f<s;++f)if(l=c[f]){for(var d,h=t.call(l,l.__data__,f,c),p=Jd(l,n),g=0,_=h.length;g<_;++g)(d=h[g])&&Zd(d,e,n,g,h,p);o.push(h),a.push(l)}return new Vh(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=ff(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Vh(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l,c=e[u],s=n[u],f=c.length,d=a[u]=new Array(f),h=0;h<f;++h)(l=c[h]||s[h])&&(d[h]=l);for(;u<r;++u)a[u]=e[u];return new Vh(a,this._parents,this._name,this._id)},selection:function(){return new Rh(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Xh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,c=0;c<l;++c)if(a=u[c]){var s=Jd(a,e);Zd(a,t,n,c,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Vh(r,this._parents,t,n)},call:Zh.call,nodes:Zh.nodes,node:Zh.node,size:Zh.size,empty:Zh.empty,each:Zh.each,on:function(t,e){var n=this._id;return arguments.length<2?Jd(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Gd:Qd;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=ef(t),r="transform"===n?Ja:$h;return this.attrTween(t,"function"==typeof e?(n.local?jh:Hh)(n,r,eh(this,"attr."+t,e)):null==e?(n.local?Dh:Eh)(n):(n.local?Uh:Fh)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ef(t);return this.tween(n,(r.local?Oh:Lh)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Qa:$h;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Df(this,t),a=(this.style.removeProperty(t),Df(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Ih(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Df(this,t),u=n(this),l=u+"";return null==u&&(this.style.removeProperty(t),l=u=Df(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u))}}(t,r,eh(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var l=Qd(this,t),c=l.on,s=null==l.value[a]?o||(o=Ih(e)):void 0;c===n&&i===s||(r=(n=c).copy()).on(u,i=s),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Df(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(eh(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Jd(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Kd:th)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?qh:Ph)(e,t)):Jd(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Yh:Bh)(e,t)):Jd(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Qd(this,t).ease=e}}(e,t)):Jd(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Qd(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=Qd(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Zh[Symbol.iterator]};var Gh={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Qh(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Jh(t){return""+t}function Kh(t){var e=Jh;return function(n){return void 0===n?e||Jh:(e=n,t)}}function tp(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ep(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function np(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}sd.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Rd&&n.state<Vd,n.state=Xd,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},sd.prototype.transition=function(t){var e,n;t instanceof Vh?(e=t._id,t=t._name):(e=Xh(),(n=Gh).time=Ed(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,c=0;c<l;++c)(a=u[c])&&Zd(a,t,e,c,u,n||Qh(a,e));return new Vh(r,this._parents,t,e)};var rp,ip,op={"-":"",_:" ",0:"0"},ap=/^\s*\d+/,up=/^%/,lp=/[\\^$*+?|[\]().{}]/g;function cp(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function sp(t){return t.replace(lp,"\\$&")}function fp(t){return new RegExp("^(?:"+t.map(sp).join("|")+")","i")}function dp(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function hp(t,e,n){var r=ap.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function pp(t,e,n){var r=ap.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function gp(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function _p(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mp(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function yp(t,e,n){var r=ap.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function bp(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function vp(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function wp(t,e,n){var r=ap.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function xp(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kp(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Mp(t,e,n){var r=ap.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ap(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tp(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Np(t,e,n){var r=ap.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Cp(t,e,n){var r=ap.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Sp(t,e,n){var r=ap.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zp(t,e,n){var r=up.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $p(t,e,n){var r=ap.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ep(t,e,n){var r=ap.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Dp(t,e){return cp(t.getDate(),e,2)}function Fp(t,e){return cp(t.getHours(),e,2)}function Up(t,e){return cp(t.getHours()%12||12,e,2)}function Hp(t,e){return cp(1+Xu.count(il(t),t),e,3)}function jp(t,e){return cp(t.getMilliseconds(),e,3)}function Op(t,e){return jp(t,e)+"000"}function Lp(t,e){return cp(t.getMonth()+1,e,2)}function qp(t,e){return cp(t.getMinutes(),e,2)}function Pp(t,e){return cp(t.getSeconds(),e,2)}function Yp(t){var e=t.getDay();return 0===e?7:e}function Bp(t,e){return cp(Gu.count(il(t)-1,t),e,2)}function Rp(t){var e=t.getDay();return e>=4||0===e?tl(t):tl.ceil(t)}function Ip(t,e){return t=Rp(t),cp(tl.count(il(t),t)+(4===il(t).getDay()),e,2)}function Wp(t){return t.getDay()}function Vp(t,e){return cp(Qu.count(il(t)-1,t),e,2)}function Xp(t,e){return cp(t.getFullYear()%100,e,2)}function Zp(t,e){return cp((t=Rp(t)).getFullYear()%100,e,2)}function Gp(t,e){return cp(t.getFullYear()%1e4,e,4)}function Qp(t,e){var n=t.getDay();return cp((t=n>=4||0===n?tl(t):tl.ceil(t)).getFullYear()%1e4,e,4)}function Jp(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+cp(e/60|0,"0",2)+cp(e%60,"0",2)}function Kp(t,e){return cp(t.getUTCDate(),e,2)}function tg(t,e){return cp(t.getUTCHours(),e,2)}function eg(t,e){return cp(t.getUTCHours()%12||12,e,2)}function ng(t,e){return cp(1+sl.count(xl(t),t),e,3)}function rg(t,e){return cp(t.getUTCMilliseconds(),e,3)}function ig(t,e){return rg(t,e)+"000"}function og(t,e){return cp(t.getUTCMonth()+1,e,2)}function ag(t,e){return cp(t.getUTCMinutes(),e,2)}function ug(t,e){return cp(t.getUTCSeconds(),e,2)}function lg(t){var e=t.getUTCDay();return 0===e?7:e}function cg(t,e){return cp(dl.count(xl(t)-1,t),e,2)}function sg(t){var e=t.getUTCDay();return e>=4||0===e?_l(t):_l.ceil(t)}function fg(t,e){return t=sg(t),cp(_l.count(xl(t),t)+(4===xl(t).getUTCDay()),e,2)}function dg(t){return t.getUTCDay()}function hg(t,e){return cp(hl.count(xl(t)-1,t),e,2)}function pg(t,e){return cp(t.getUTCFullYear()%100,e,2)}function gg(t,e){return cp((t=sg(t)).getUTCFullYear()%100,e,2)}function _g(t,e){return cp(t.getUTCFullYear()%1e4,e,4)}function mg(t,e){var n=t.getUTCDay();return cp((t=n>=4||0===n?_l(t):_l.ceil(t)).getUTCFullYear()%1e4,e,4)}function yg(){return"+0000"}function bg(){return"%"}function vg(t){return+t}function wg(t){return Math.floor(+t/1e3)}!function(t){rp=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,l=t.shortMonths,c=fp(i),s=dp(i),f=fp(o),d=dp(o),h=fp(a),p=dp(a),g=fp(u),_=dp(u),m=fp(l),y=dp(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Dp,e:Dp,f:Op,g:Zp,G:Qp,H:Fp,I:Up,j:Hp,L:jp,m:Lp,M:qp,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:vg,s:wg,S:Pp,u:Yp,U:Bp,V:Ip,w:Wp,W:Vp,x:null,X:null,y:Xp,Y:Gp,Z:Jp,"%":bg},v={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:Kp,e:Kp,f:ig,g:gg,G:mg,H:tg,I:eg,j:ng,L:rg,m:og,M:ag,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:vg,s:wg,S:ug,u:lg,U:cg,V:fg,w:dg,W:hg,x:null,X:null,y:pg,Y:_g,Z:yg,"%":bg},w={a:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return M(t,e,n,r)},d:kp,e:kp,f:Sp,g:bp,G:yp,H:Ap,I:Ap,j:Mp,L:Cp,m:xp,M:Tp,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=s.get(r[0].toLowerCase()),n+r[0].length):-1},q:wp,Q:$p,s:Ep,S:Np,u:pp,U:gp,V:_p,w:hp,W:mp,x:function(t,e,r){return M(t,n,e,r)},X:function(t,e,n){return M(t,r,e,n)},y:bp,Y:yp,Z:vp,"%":zp};function x(t,e){return function(n){var r,i,o,a=[],u=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++u<c;)37===t.charCodeAt(u)&&(a.push(t.slice(l,u)),null!=(i=op[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=u+1);return a.push(t.slice(l,u)),a.join("")}}function k(t,e){return function(n){var r,i,o=np(1900,void 0,1);if(M(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ep(np(o.y,0,1))).getUTCDay(),r=i>4||0===i?hl.ceil(r):hl(r),r=sl.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=tp(np(o.y,0,1))).getDay(),r=i>4||0===i?Qu.ceil(r):Qu(r),r=Xu.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ep(np(o.y,0,1)).getUTCDay():tp(np(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ep(o)):tp(o)}}function M(t,e,n,r){for(var i,o,a=0,u=e.length,l=n.length;a<u;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in op?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),v.x=x(n,v),v.X=x(r,v),v.c=x(e,v),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",v);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}(t),rp.format,ip=rp.parse,rp.utcFormat,rp.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var xg=parseFloat,kg=ip("%Y-%m-%d");function Mg(t){var e=xg;return function(n){return void 0===n?e||xg:(e=n,t)}}function Ag(t){var e=kg;return function(n){return void 0===n?e||kg:(e=n,t)}}function Tg(t){var e=[],n={};return t.forEach((function(t){n[t]||(e.push(t),n[t]=!0)})),e}var Ng=Array.isArray;function Cg(t){return t}function Sg(t){return{prop:function(e,n){Object.defineProperty(t,e,{value:n,enumerable:!0})},getter:function(e,n){Object.defineProperty(t,e,{get:n,enumerable:!0})},method:function(e,n){Object.defineProperty(t,e,{value:n})}}}function zg(t,e){var n=1;return t[e?"reduce":"reduceRight"]((function(t,e){return t[e]||(t[e]=n),n+=1,t}),{})}function $g(t,e){var n=1;return t[e?"reduce":"reduceRight"]((function(t,e){return t[e]=n++,t}),{})}function Eg(t,e,n,r){var i;i="dense"===r?function(t,e){var n=1;return t[e?"reduce":"reduceRight"]((function(t,e){return t[e]||(t[e]=n++),t}),{})}(e,n):"fractional"===r?function(t,e){var n=zg(t,e),r=$g(t,e);return Object.keys(n).reduce((function(t,e){return t[e]=(n[e]+r[e])/2,t}),{})}(e,n):"worst"===r?$g(e,n):zg(e,n);var o=function(t){return i[t]};return"ordinal"===r&&(o=function(t){return i[t]++}),t.map(o)}function Dg(t){return t=t||Math.random,function(e,n){var r=n-e+1;return Math.floor(t()*r)+e}}function Fg(t,e){return t[Dg(e)(0,t.length-1)]}function Ug(t,e,n,r){var i,o=t.length;if(n=void 0!==e&&n,e=void 0!==e?Math.floor(e):o,!o||e<1)return[];var a=Dg(r);if(n||1===e){i=[];for(var u=0;u<e;u++)i.push(t[a(0,o-1)]);return i}i=t.slice();var l=Math.min(o,e);for(u=0;u<l;u++){var c=a(u,o-1);if(c!==u){var s=i[c],f=i[u];i[u]=s,i[c]=f}}return i.length=l,i}function Hg(t,e,n){if(!e.length)return t.slice();for(var r=0,i=t.reduce((function(t,i){for(;t.length===e[r];)t.push(n),r++;return t.push(i),t}),[]);e[r++];)i.push(n);return i}function jg(t,e){return Ng(e)?e.map((function(e){return fo(t,e)})):fo(t,e)}function Og(t){t.getter("variance",(function(){return function(t,e){var n,r,i=t.length,o=0,a=-1,u=0,l=0;if(null==e)for(;++a<i;)isNaN(n=oo(t[a]))||(l+=(r=n-u)*(n-(u+=r/++o)));else for(;++a<i;)isNaN(n=oo(e(t[a],a,t)))||(l+=(r=n-u)*(n-(u+=r/++o)));if(o>1)return l/(o-1)}(this.values)})),t.getter("sd",(function(){return Math.sqrt(this.variance)})),t.getter("median",(function(){return jg(this.sorted_values,.5)})),t.getter("iqr",(function(){var t=jg(this.sorted_values,[.25,.75]);return t[1]-t[0]})),t.method("quantiles",(function(t){return jg(this.sorted_values,t)})),t.method("quartiles",(function(){return jg(this.sorted_values,[.25,.5,.75])}))}function Lg(t){return t>=-90&&t<=90}function qg(t){return t>=-180&&t<=180}function Pg(t,e,n){return t.length?n?e(t.min)&&e(t.max)?1:0:t.values.reduce((function(t,n){return t+e(n)}),0)/t.length:null}var Yg=function(){var t={},e=Sg(t);return function(t){t.method("unsorted",(function(){return this.values.slice()})),t.method("ascending",(function(){return this.sorted_values.slice()})),t.method("descending",(function(){return this.sorted_values.slice().reverse()})),t.method("unique",(function(){return Tg(this.values)})),t.method("uniqueAscending",(function(){return Tg(this.sorted_values)})),t.method("uniqueDescending",(function(){return Tg(this.sorted_values).reverse()}))}(e),Og(e),function(t){t.method("random",(function(t){return Fg(this.values,t)})),t.method("sample",(function(t,e,n){return Ug(this.values,t,e,n)}))}(e),function(t){t.method("rank",(function(t,e){return Eg(this.values,this.sorted_values,t,e)}))}(e),function(t){t.method("unclean",(function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Hg(t=t||this.values,this.dropped_indexes,NaN)}))}(e),function(t){t.method("latitudeScore",(function(t){return Pg(this,Lg,t)})),t.method("longitudeScore",(function(t){return Pg(this,qg,t)}))}(e),t}();function Bg(t,e){var n=Object.create(Yg);return function(t,e,n){n=n||Cg;var r=1/0,i=-1/0,o=null,a=0,u=[],l=Object.freeze(e.reduce((function(t,e,o){var l=n(e);return"number"!=typeof l||isNaN(l)?u.push(o):(t.push(l),r=Math.min(r,l),i=Math.max(i,l),a+=l),t}),[])),c=Sg(t);c.prop("enhanced_array",!0),c.prop("numeric_array",!0),c.prop("values",l),c.prop("min",l.length?r:null),c.prop("max",l.length?i:null),c.prop("sum",a),c.prop("mean",l.length?a/l.length:null),c.prop("range",l.length?i-r:null),c.prop("length",l.length),c.prop("dropped_indexes",Object.freeze(u)),c.method("extent",(function(){return[this.min,this.max]})),c.getter("sorted_values",(function(){var t;return o||(t=-1/0,l.every((function(e){if(e>=t)return t=e,!0}))&&(o=l),o=function(t){var e=1/0;return t.every((function(t){if(t<=e)return e=t,!0}))}(l)?Object.freeze(l.slice().reverse()):Object.freeze(l.slice().sort(to))),o}))}(n,t,e),n}var Rg=Object.freeze(["min","max","mean"]),Ig=Object.freeze(["extent","random","sample","unsorted","ascending","descending","unique","uniqueAscending","uniqueDescending","quartiles","quantiles","unclean"]);function Wg(t){return"number"!=typeof t?null:new Date(t)}function Vg(t,e){return function(){var n=t[e].apply(t,arguments);return Array.isArray(n)?n.map(Wg):Wg(n)}}function Xg(t,e,n){n=n||Cg;var r=Bg(e.map((function(t){var e,r=n(t);return e=r,"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime())?null:r.getTime()}))),i=Sg(t);i.prop("enhanced_array",!0),i.prop("datetime_array",!0),i.getter("values",(function(){return Object.freeze(r.values.map(Wg))})),i.getter("sorted_values",(function(){return Object.freeze(r.sorted_values.map(Wg))})),i.getter("median",(function(){return Wg(r.median)})),i.prop("length",r.values.length),i.prop("dropped_indexes",r.dropped_indexes),i.method("rank",(function(){return r.rank(arguments)}));var o=Vg.bind(null,r);return Rg.forEach((function(t){i.prop(t,Wg(r[t]))})),Ig.forEach((function(t){i.method(t,o(t))})),t}function Zg(t,e){var n={};return Xg(n,t,e),n}var Gg,Qg=function(){var t={},e=Sg(t);return function(t){t.method("unsorted",(function(){return this.values.slice()})),t.method("ascending",(function(){return this.sorted_values.slice()})),t.method("descending",(function(){return this.sorted_values.slice().reverse()})),t.method("unique",(function(){return Tg(this.values)})),t.method("uniqueAscending",(function(){return Tg(this.sorted_values)})),t.method("uniqueDescending",(function(){return Tg(this.sorted_values).reverse()}))}(e),function(t){t.method("random",(function(t){return Fg(this.values,t)})),t.method("sample",(function(t,e,n){return Ug(this.values,t,e,n)}))}(e),function(t){t.method("rank",(function(t,e){return Eg(this.values,this.sorted_values,t,e)}))}(e),function(t){t.method("unclean",(function(t){if(t&&t.length<this.values.length)throw new RangeError("dataset is too short");if(t&&t.length>this.values.length)throw new RangeError("dataset is too long");return Hg(t=t||this.values,this.dropped_indexes)}))}(e),t}();function Jg(t,e){var n=Object.create(Qg);return function(t,e,n){n=n||Cg;for(var r=null,i=[],o=0,a=null,u=0;null===a&&u<e.length;){var l=n(e[u++]);"string"==typeof l&&(a=l)}var c=a,s=Object.freeze(e.reduce((function(t,e,r){var u=n(e);return"string"==typeof u?(t.push(u),a=u<a?u:a,c=u>c?u:c,u||o++):i.push(r),t}),[])),f=Sg(t);f.prop("enhanced_array",!0),f.prop("string_array",!0),f.prop("values",s),f.prop("min",a),f.prop("max",c),f.prop("length",s.length),f.prop("dropped_indexes",Object.freeze(i)),f.prop("n_empty",o),f.method("extent",(function(){return[this.min,this.max]})),f.getter("sorted_values",(function(){return r||(function(t){if(t.length<2)return!0;var e=t[0];return t.every((function(t){if(t>=e)return e=t,!0}))}(s)&&(r=s),r=function(t){if(t.length<2)return!0;var e=t[0];return t.every((function(t){if(t<=e)return e=t,!0}))}(s)?Object.freeze(s.slice().reverse()):Object.freeze(s.slice().sort())),r}))}(n,t,e),n}function Kg(t,e,n){var r=getComputedStyle(t.node()).fontFamily;return(n?n+" ":"")+(Gg(e)+"px ")+r}function t_(t,e){return"translate("+t+","+e+")"}function e_(t,e,n){return"rotate("+t+","+(e=e||0)+","+(n=n||0)+")"}var n_=Math.log10||function(t){return Math.log(t)*Math.LOG10E};function r_(t){return Math.floor(n_(Math.abs(t)))}function i_(t){if(0===t)return 0;for(var e=Math.abs(String(t).replace(".",""));0!==e&&e%10==0;)e/=10;return r_(e)+1}function o_(t,e){var n=t[0][0],r=t[1][0],i=e[0][0],o=e[1][0],a=t[0][1],u=t[1][1],l=e[0][1],c=e[1][1],s=(n-r)*(l-c)-(i-o)*(a-u);if(!s)return!(n<i&&n<o&&r<i&&r<o||n>i&&n>o&&r>i&&r>o||a<l&&a<c&&u<l&&u<c||a>l&&a>c&&u>l&&u>c);var f=((n-i)*(l-c)-(a-l)*(i-o))/s;if(f<0||f>1)return!1;var d=-((n-r)*(a-l)-(a-u)*(n-i))/s;return!(d<0||d>1)}function a_(t){return t&&"number"==typeof t?t>0?1:-1:0}function u_(t){var e=t.type;(t=t.copy()).type=e;var n=function(n){var r=t(n);if(isNaN(r)||Math.abs(r)===1/0){var i,o=t.range();if("numeric"!==e)i=o[0]>o[1];else{var a=t.domain();i=a_(a[1]-a[0])!==a_(o[1]-o[0])}r=-1e6*(i?-1:1)}return r};return["domain","range"].forEach((function(e){n[e]=function(){var r=t[e].apply(t,arguments);return r===t?n:r}})),n.copy=function(){return u_(t)},n.type=t.type,n.step=t.step,n}function l_(t){return"[object Date]"===Object.prototype.toString.call(t)}function c_(t){return t.split("\n").filter(Boolean).map((function(t){return t.trim()}))}var s_="Input data must be an array or Flourish array";function f_(t,e){if(!t)throw new TypeError(s_);if(t.enhanced_array)return t;if(!Array.isArray(t))throw new TypeError(s_);for(var n=e||function(t){return t},r=0;r<t.length;r++){var i=n(t[r]),o=typeof i;if("number"===o)return Bg(t,e);if("string"===o)return Jg(t,e);if(l_(i))return Zg(t,e)}return Bg(t,e)}function d_(t){var e=f_([]);return function(n,r){return void 0===n?e:(e=f_(n,r),t)}}var h_="Testing";function p_(t){return t*(Math.PI/180)}function g_(t,e){var n;return t.filter((function(t){var r=e(t);if(r!==n)return n=r,!0}))}function __(t){var e=void 0!==t.max_space?t.max_space:100,n=void 0!==t.text_height?t.text_height:Gg(1),r=t.max_lines,i=t.angle||0,o=document.createElement("canvas").getContext("2d");o.font=t.font;var a,u=p_(i);return a=(e-n*Math.sin(u))/Math.cos(u),function(t){"number"==typeof t&&(t=t.toString()),t||(t="");var e=[],n=0,i=o.measureText(t).width;if(i<=a)e.push(t),n=i;else{for(var u=t.trim().split(/\s+/g),l="",c=0;c<u.length;c++){var s=u[c],f=l+(l?" ":"")+s,d=o.measureText(f).width;if(!(d<=a)){if(!(e.length+1==r)&&l)if(e.push(l),o.measureText(s).width<=a){l=s;continue}var h=1,p=f;do{p=f.substring(0,f.length-h)+"…",d=o.measureText(p).width}while(d>a&&++h<f.length);n=Math.max(n,d),l=p;break}l=f,n=Math.max(n,d)}e.push(l)}return{lines:e,text_width:n}}}function m_(t,e,n){var r=["px","rem","fraction"];e=e||"width",n="number"==typeof n?n:50;var i=.5,o="fraction";return function(a,u){return void 0===a?(c=t[e](),"px"===o?l=i:"rem"===o?l=Gg(i):"fraction"===o&&(l=Math.max(n,i*c)),{px:l,rem:"rem"===o?i:l/Gg(1),fraction:"fraction"===o?i:l/c,unit:o}):(i=Math.max(a,0),o=-1!==r.indexOf(u)?u:"px",t);var l,c}}function y_(t,e,n){var r=e[n],i=n+"Data",o=n+"Format",a=n+"Ticks",u=Object.freeze([]),l=t.chart.select(".fl-y-axes"),c=function(){return u};return c._update=function(e){var n,c=t[i]().string_array?"string":"numeric",s=Kg(fd(".fl-y-axes"),r.tick_label_size,r.tick_label_weight),f="default"===r.tick_label_position?+r.tick_label_angle:0,d=0,h=t[o]();l.append("text").style("opacity",0).style("font",s).each((function(){var t=fd(this).text(h_).node().getBoundingClientRect();n=t.height})).remove(),"object"==typeof e[0]&&(e=g_(e,h));var p=Gg(r.tick_label_space);"auto"===r.tick_label_space_mode&&(p=t[a].autoLabelSpace().px);var g=__({text_height:n,max_space:p,font:s,angle:f,max_lines:f?1:r.tick_label_max_lines});return u=e.map((function(t,e){var i,o,a,u,l,s,p=g(h(t)),_=p.lines,m=p.text_width,y=0,b=n*_.length+(_.length-1)*r.tick_label_line_height;if(0===f||90===f)a=i=f?b:m,u=i,l=s=(o=f?m+Gg(.5):b)/2,0===f&&(y=_.length<2?0:(_.length-1)/2*(n*r.tick_label_line_height));else{var v=p_(f),w=Math.sin(v),x=Math.cos(v);i=(a=b*w)+(u=m*x),o=(l=b*x)+(s=m*w)}d=Math.max(d,i);var k="numeric"===c?i_(t):null,M="numeric"===c?r_(t):null;return Object.freeze({index:e,value:t,lines:_,type:c,significant_digits:k,exponent:M,text_width:m,text_height:n,box_width:i,box_height:o,box_width_above:a,box_width_below:u,box_height_above:l,box_height_below:s,multiline_offset:y})})),u.type=c,u.max_box_width="fixed"===r.tick_label_space_mode?Gg(r.tick_label_space):d,Object.freeze(u),t},c.autoLabelSpace=m_(t),c}function b_(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=()=>t[e+"Scale"]({domain_only:!0}).ticks();let r=n;return function(e){return void 0===e?r:(r=null===e?n:e,t)}}function v_(t){var e="";return function(n){return void 0===n?e:(e=n,t)}}function w_(t,e){var n=e.y,r=t.yTitle();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-left-axis .fl-axis-title"),o=Kg(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),u=a.node().getBoundingClientRect().height;return a.remove(),u+2*Gg(n.title_padding)}function x_(t,e){var n=e.y2,r=t.y2Title();if(!n.axis_visible||!r)return 0;var i=t.chart.select(".fl-right-axis .fl-axis-title"),o=Kg(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),u=a.node().getBoundingClientRect().height;return a.remove(),u+2*Gg(n.title_padding)}function k_(t,e){var n=e.x,r=n.axis_position;if("off"===r)return 0;var i=0,o=0,a=0;if("top"===r||"bottom"==r){var u=t.xTicks();i=u.length&&"out"===n.tick_side&&"default"===n.tick_label_position?Gg(n.tick_length):0,a=u.max_box_height||0,o=u.length?Gg(n.tick_padding):0}var l=function(t,e){var n=e.x,r=t.xTitle();if("off"===n.axis_visible||!r)return 0;var i=t.chart.select(".fl-x-axis .fl-axis-title"),o=Kg(i,n.title_size,n.title_weight),a=i.append("text").text(r).style("opacity",0).style("font",o),u=a.node().getBoundingClientRect().height;return a.remove(),u+2*Gg(n.title_padding)}(t,e);return i+o+a+l}function M_(t,e){var n,r,i,o,a,u,l,c;a=u=l=c=0;var s=function(t,e){return"function"==typeof t&&(t=t(e)),void 0===t?e:t},f=function(){return{top:a,right:u,bottom:l,left:c}};return f._calculated=function(){return{top:n,right:r,bottom:i,left:o}},f._update=function(f){f=f||{},n=function(t,e){var n=e.x,r=0,i=["top","float-above"].includes(n.axis_position);!t.xHide()&&i&&(r=k_(t,e));var o=0,a=0,u=t.yHide()?[]:t.yTicks();if(u.length){var l=u[u.length-1];"default"==e.y.tick_label_position?o=.9*l.box_height_above:"above"==e.y.tick_label_position&&(o+=l.box_height)}"end"!==e.y.title_position||i||(o+=w_(t,e));var c=t.y2Hide()?[]:t.y2Ticks();if(c.length){var s=c[c.length-1];"default"==e.y2.tick_label_position?a=.9*s.box_height_above:"above"==e.y2.tick_label_position&&(a+=s.box_height)}"end"!==e.y2.title_position||i||(a+=x_(t,e));var f=Math.max(Gg(.25),o,a);return Math.max(r,f)}(t,e),r=function(t,e){var n=e.y2,r=0;if(n.axis_visible){var i=t.y2Hide()?[]:t.y2Ticks();r=(i.length&&"out"===n.tick_side&&"default"===n.tick_label_position?Gg(n.tick_length):0)+(i.length?Gg(n.tick_padding):0)+(i.max_box_width||0)+(t.y2Hide()||"side"!==n.title_position?0:x_(t,e))}var o=Gg(.25),a=0,u=t.xHide()?[]:t.xTicks();if(u.length){var l=u[u.length-1];"default"==e.x.tick_label_position?a=.9*l.box_width_right:"right"==e.x.tick_label_position&&(a=l.box_width),o=Math.max(o,a)}return Math.max(r,o)}(t,e),i=function(t,e){var n=e.x,r=0,i=["bottom","float-below"].includes(n.axis_position);!t.xHide()&&i&&(r=k_(t,e));var o=0,a=0,u=t.yHide()?[]:t.yTicks();if(u.length){var l=u[0];"default"==e.y.tick_label_position?o=.9*l.box_height_below:"below"==e.y.tick_label_position&&(o+=l.box_height)}"end"!==e.y.title_position||i||"off"===n.axis_position||(o+=w_(t,e));var c=t.y2Hide()?[]:t.y2Ticks();if(c.length){var s=c[0];"default"==e.y2.tick_label_position?a=.9*s.box_height_below:"below"==e.y2.tick_label_position&&(a+=s.box_height)}"end"!==e.y2.title_position||i||"off"===n.axis_position||(a+=x_(t,e));var f=Math.max(Gg(.25),o,a);return Math.max(r,f)}(t,e),o=function(t,e){var n=e.y,r=0;if(n.axis_visible){var i=t.yHide()?[]:t.yTicks();r=(i.length&&"out"===n.tick_side&&"default"===n.tick_label_position?Gg(n.tick_length):0)+(i.length?Gg(n.tick_padding):0)+(i.max_box_width||0)+(t.yHide()||"side"!==n.title_position?0:w_(t,e))}var o=Gg(.25),a=0,u=t.xHide()?[]:t.xTicks();if(u.length){var l=u[0];"default"==e.x.tick_label_position?a=.9*l.box_width_left:"left"==e.x.tick_label_position&&(a=l.box_width),o=Math.max(o,a)}return Math.max(r,o)}(t,e),a=s(f.top,n),u=s(f.right,r),l=s(f.bottom,i),c=s(f.left,o)},Object.defineProperty(f,"top",{get:function(){return a}}),Object.defineProperty(f,"right",{get:function(){return u}}),Object.defineProperty(f,"bottom",{get:function(){return l}}),Object.defineProperty(f,"left",{get:function(){return c}}),f}function A_(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function T_(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>A_(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const N_=T_(A_).right;T_((function(t){return null===t?NaN:+t})).center;var C_=N_,S_=Math.sqrt(50),z_=Math.sqrt(10),$_=Math.sqrt(2);function E_(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=D_(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++u<i;)o[u]=(n+u)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++u<i;)o[u]=(n+u)/a}return r&&o.reverse(),o}function D_(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=S_?10:o>=z_?5:o>=$_?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=S_?10:o>=z_?5:o>=$_?2:1)}function F_(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=S_?i*=10:o>=z_?i*=5:o>=$_&&(i*=2),e<t?-i:i}function U_(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const H_=Symbol("implicit");function j_(){var t=new Map,e=[],n=[],r=H_;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==H_)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return j_(e,n).unknown(r)},U_.apply(i,arguments),i}function O_(){var t,e,n=j_().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,u=!1,l=0,c=0,s=.5;function f(){var n=r().length,f=a<o,d=f?a:o,h=f?o:a;t=(h-d)/Math.max(1,n-l+2*c),u&&(t=Math.floor(t)),d+=(h-d-t*(n-l))*s,e=t*(1-l),u&&(d=Math.round(d),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map((function(e){return d+t*e}));return i(f?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(u=!!t,f()):u},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),f()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),f()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},n.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),f()):s},n.copy=function(){return O_(r(),[o,a]).round(u).paddingInner(l).paddingOuter(c).align(s)},U_.apply(f(),arguments)}function L_(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return L_(e())},t}function q_(){return L_(O_.apply(null,arguments).paddingInner(1))}function P_(t){return+t}var Y_=[0,1];function B_(t){return t}function R_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function I_(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=R_(i,r),o=n(a,o)):(r=R_(r,i),o=n(o,a)),function(t){return o(r(t))}}function W_(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=R_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=C_(t,e,1,r)-1;return o[n](i[n](e))}}function V_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function X_(){var t,e,n,r,i,o,a=Y_,u=Y_,l=Pa,c=B_;function s(){var t,e,n,l=Math.min(a.length,u.length);return c!==B_&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?W_:I_,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(u,a.map(t),Ha)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,P_),s()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),s()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),l=Ya,s()},f.clamp=function(t){return arguments.length?(c=!!t||B_,s()):c!==B_},f.interpolate=function(t){return arguments.length?(l=t,s()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}function Z_(){return X_()(B_,B_)}function G_(t){var e=t.domain;return t.ticks=function(t){var n=e();return E_(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=F_(t,e,n);switch((r=_u(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Cu(o,a))||(r.precision=i),ku(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Su(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Nu(o))||(r.precision=i-2*("%"===r.type))}return xu(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,l=o[a],c=o[u],s=10;for(c<l&&(i=l,l=c,c=i,i=a,a=u,u=i);s-- >0;){if((i=D_(l,c,n))===r)return o[a]=l,o[u]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Q_(){var t=Z_();return t.copy=function(){return V_(t,Q_())},U_.apply(t,arguments),G_(t)}function J_(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function K_(t){return Math.log(t)}function tm(t){return Math.exp(t)}function em(t){return-Math.log(-t)}function nm(t){return-Math.exp(-t)}function rm(t){return isFinite(t)?+("1e"+t):t<0?0:t}function im(t){return function(e){return-t(-e)}}function om(t){var e,n,r=t(K_,tm),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?rm:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=im(e),n=im(n),t(em,nm)):t(K_,tm),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),u=a[0],l=a[a.length-1];(r=l<u)&&(d=u,u=l,l=d);var c,s,f,d=e(u),h=e(l),p=null==t?10:+t,g=[];if(!(o%1)&&h-d<p){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(s=1,c=n(d);s<o;++s)if(!((f=c*s)<u)){if(f>l)break;g.push(f)}}else for(;d<=h;++d)for(s=o-1,c=n(d);s>=1;--s)if(!((f=c*s)<u)){if(f>l)break;g.push(f)}2*g.length<p&&(g=E_(u,l,p))}else g=E_(d,h,Math.min(h-d,p)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=xu(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(J_(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function am(){var t=om(X_()).domain([1,10]);return t.copy=function(){return V_(t,am()).base(t.base())},U_.apply(t,arguments),t}var um=1e3,lm=60*um,cm=60*lm,sm=24*cm,fm=7*sm,dm=30*sm,hm=365*sm;function pm(t){return new Date(t)}function gm(t){return t instanceof Date?+t:+new Date(+t)}function _m(t,e,n,r,i,o,a,u,l){var c=Z_(),s=c.invert,f=c.domain,d=l(".%L"),h=l(":%S"),p=l("%I:%M"),g=l("%I %p"),_=l("%a %d"),m=l("%b %d"),y=l("%B"),b=l("%Y"),v=[[a,1,um],[a,5,5*um],[a,15,15*um],[a,30,30*um],[o,1,lm],[o,5,5*lm],[o,15,15*lm],[o,30,30*lm],[i,1,cm],[i,3,3*cm],[i,6,6*cm],[i,12,12*cm],[r,1,sm],[r,2,2*sm],[n,1,fm],[e,1,dm],[e,3,3*dm],[t,1,hm]];function w(u){return(a(u)<u?d:o(u)<u?h:i(u)<u?p:r(u)<u?g:e(u)<u?n(u)<u?_:m:t(u)<u?y:b)(u)}function x(e,n,r){if(null==e&&(e=10),"number"==typeof e){var i,o=Math.abs(r-n)/e,a=T_((function(t){return t[2]})).right(v,o);return a===v.length?(i=F_(n/hm,r/hm,e),e=t):a?(i=(a=v[o/v[a-1][2]<v[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(F_(n,r,e),1),e=u),e.every(i)}return e}return c.invert=function(t){return new Date(s(t))},c.domain=function(t){return arguments.length?f(Array.from(t,gm)):f().map(pm)},c.ticks=function(t){var e,n=f(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=x(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},c.tickFormat=function(t,e){return null==e?w:l(e)},c.nice=function(t){var e=f();return(t=x(t,e[0],e[e.length-1]))?f(J_(e,t)):c},c.copy=function(){return V_(c,_m(t,e,n,r,i,o,a,u,l))},c}function mm(){return U_.apply(_m(xl,vl,dl,sl,ll,al,Wu,qu,Nl).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}var ym=1e3;function bm(t,e){let{edge_padding:n,flip:r}=e;var i=r?t.unique().reverse():t.unique(),o=q_().domain(i).padding(n/100);return o.type="ordinal",o}function vm(t,e){var n=function(t,e){let{min:n,max:r,include_zero:i,nice:o,flip:a}=e;const u=100;if(n===r&&(n=r=null),null!==n&&null!==r)return a?[r,n]:[n,r];let l;if(t.range)l=t.extent(),o&&(l=Q_().domain(l).nice().domain()),i&&(l[0]>=0?l[0]=0:l[1]<0&&(l[1]=0),l=Q_().domain(l).nice().domain());else if(t.length){var c=t.min;l=c>0?[0,2*c]:c<0?[2*c,0]:[-50,50]}else l=[0,u];return null!==n?(l[0]=n,l[0]===l[1]&&(l[1]=n+(t.range||u))):null!==r&&(l[1]=r,l[0]===l[1]&&(l[0]=r-(t.range||u))),a?l.reverse():l}(t,e),r=Q_().domain(n);return r.type="numeric",r}function wm(t,e){let{min:n,max:r,nice:i,flip:o}=e;const a=t.extent();a[0]<=0&&(a[1]>0?a[0]=Math.min(1,a[1]/ym):a[0]=1),a[1]<=a[0]&&(a[1]=ym*a[0]);const u=am().domain(a);i&&u.nice();const l=u.domain();return n===r&&(n=r=null),n>0&&(l[0]=n),r>0&&(l[1]=r),u.domain(o?l.reverse():l),u.type="numeric",u}function xm(t,e){let{min:n,max:r,format:i,nice:o,flip:a}=e;const u=t.extent(),l=mm().domain(u);o&&l.nice(),i&&l.tickFormat(null,i);const c=l.domain();return n===r&&(n=r=null),n&&(c[0]=i(n)),r&&(c[1]=i(r)),l.domain(a?c.reverse():c),l.type="datetime",l}function km(t,e){if(e.step)return e.step();const n=t.uniqueAscending().map((t=>e(t))),r=n.length;if(r<2)return 0;let i=1/0;for(let t=1;t<r;t++){const e=Math.abs(n[t]-n[t-1]);i=Math.min(i,e)}return i}function Mm(t,e){const n=e.x;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.xData(),i={nice:n.nice,flip:t.xFlipAxis()!==n.flip};let o;r.string_array?(o=bm,i.edge_padding=n.edge_padding):r.datetime_array?(o=xm,i.min=n.datetime_min,i.max=n.datetime_max,i.format=t.xDatetimeParse()):"log"===n.numeric_scale_type?(o=wm,i.min=n.log_min,i.max=n.log_max):(o=vm,i.min=n.linear_min,i.max=n.linear_max,i.include_zero="off"!==n.zero_axis&&("on"===n.zero_axis||t.xZeroAxis()));const a=o(r,i);if(e.domain_only)return a;const u=t.inner_width,l=t.margins.left+t.inner_margins.left,{left:c,right:s}=function(t,e,n){const r={left:0,right:0},i=t.xData();if(i.string_array)return r;const{left:o,right:a,unit:u}=t.xPadding();if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==u)return r;if("px"===u||!o&&!a)return{left:o,right:a};const l=i.uniqueAscending(),c=l.length;if(c<2)return r;let s=1/0;for(let t=1;t<c;t++){const e=Math.abs(l[t]-l[t-1]);s=Math.min(s,e)}const f=(Math.max(...n)-Math.min(...n)+(o+a)*s)/s,d=t.inner_width/f;return{left:o*d,right:a*d}}(t,n,a.domain()),f=l+c;let d=[f,f+(u-(c+s))];const h=e.global&&t.offsetLeft();return h&&(d=d.map((function(t){return t+h}))),a.range(d)}}function Am(t,e){const n=e.y;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=t.yData();const i={nice:n.nice,flip:t.yFlipAxis()!==n.flip};let o;r.string_array?(o=bm,i.edge_padding=n.edge_padding):r.datetime_array?(o=xm,i.min=n.datetime_min,i.max=n.datetime_max,i.format=t.yDatetimeParse()):"log"===n.numeric_scale_type?(o=wm,i.min=n.log_min,i.max=n.log_max):(o=vm,i.min=n.linear_min,i.max=n.linear_max,i.include_zero="off"!==n.zero_axis&&("on"===n.zero_axis||t.yZeroAxis()));const a=o(r,i);if(e.domain_only)return a;const u=t.inner_height,l=t.margins.top+t.inner_margins.top,{bottom:c,top:s}=function(t,e,n){const r={bottom:0,top:0},i=t.yData();if(i.string_array)return r;const{bottom:o,top:a,unit:u}=t.yPadding();if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==u)return r;if("px"===u||!o&&!a)return{bottom:o,top:a};const l=i.uniqueAscending(),c=l.length;if(c<2)return r;let s=1/0;for(let t=1;t<c;t++){const e=Math.abs(l[t]-l[t-1]);s=Math.min(s,e)}const f=(Math.max(...n)-Math.min(...n)+(o+a)*s)/s,d=t.inner_height/f;return{bottom:o*d,top:a*d}}(t,n,a.domain()),f=u-(c+s),d=e.global&&t.offsetTop(),h=l+s;let p=[h+f,h];return d&&(p=p.map((function(t){return t+d}))),a.range(p)}}function Tm(t,e){const n=e.y2;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var r=t.y2Data();const i={nice:n.nice,flip:t.y2FlipAxis()!==n.flip};let o;r.string_array?(o=bm,i.edge_padding=n.edge_padding):r.datetime_array?(o=xm,i.min=n.datetime_min,i.max=n.datetime_max,i.format=t.y2DatetimeParse()):"log"===n.numeric_scale_type?(o=wm,i.min=n.log_min,i.max=n.log_max):(o=vm,i.min=n.linear_min,i.max=n.linear_max,i.include_zero="off"!==n.zero_axis&&("on"===n.zero_axis||t.y2ZeroAxis()));const a=o(r,i);if(e.domain_only)return a;const u=t.inner_height,l=t.margins.top+t.inner_margins.top,{bottom:c,top:s}=function(t,e,n){const r={bottom:0,top:0},i=t.y2Data();if(i.string_array)return r;const{bottom:o,top:a,unit:u}=t.y2Padding();if(i.numeric_array&&"linear"!==e.numeric_scale_type&&"px"!==u)return r;if("px"===u||!o&&!a)return{bottom:o,top:a};const l=i.uniqueAscending(),c=l.length;if(c<2)return r;let s=1/0;for(let t=1;t<c;t++){const e=Math.abs(l[t]-l[t-1]);s=Math.min(s,e)}const f=(Math.max(...n)-Math.min(...n)+(o+a)*s)/s,d=t.inner_width/f;return{bottom:o*d,top:a*d}}(t,n,a.domain()),f=u-(c+s),d=e.global&&t.offsetTop(),h=l+s;let p=[h+f,h];return d&&(p=p.map((function(t){return t+d}))),a.range(p)}}function Nm(t){var e=!1;return function(n){return void 0===n?e:(e=!!n,t)}}function Cm(t){let e=!1;return function(n){return void 0===n?e:(e=!!n,t)}}function Sm(t){var e=!1,n=!1;return function(r){return void 0===r?!!e&&{keep_gridlines:n}:(e=!!r,n=!(!r||"object"!=typeof r||!r.keep_gridlines),t)}}function zm(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=e[n],i=t[n+"Scale"]({domain_only:!0}),o=t[n+"Data"]();let a;if("x"===n?"off"===r.axis_position:!r.axis_visible)a=[];else if(o.string_array){let t=i.domain();if("custom"!==r.tick_mode)a=t;else{a=c_(r.tick_custom.replace("{{FIRST}}",t[0]).replace("{{LAST}}",t[t.length-1])).filter((t=>i.domain().indexOf(t)>-1))}}else if("number"===r.tick_mode)a=i.ticks(r.tick_number);else{const e=o.datetime_array,l=i.domain(),c=Math.min(...l),s=Math.max(...l);if("custom"===r.tick_mode){const i=t[n+(e?"Datetime":"Number")+"Parse"]();a=c_(r.tick_custom).map((t=>"{{FIRST}}"===t?l[0]:"{{LAST}}"===t?l[l.length-1]:i(t)))}else{const e=t[n+"AutoTicks"]();a=Array.isArray(e)?e:e()}a=e?a.filter((t=>{return l_(e=t)&&!isNaN(e.getTime())&&t>=c&&t<=s;var e})):a.filter((t=>!isNaN(t)&&t>=c&&t<=s)),a=(u=a).length?l_(u[0])?Array.from(new Set(u.map((t=>t.getTime())))).map((t=>new Date(t))):Array.from(new Set(u)):u.slice()}var u;return a}function $m(t,e){return function(){t.xTicks._update(zm(t,e,"x")),t.yTicks._update(zm(t,e,"y")),t.y2Ticks._update(zm(t,e,"y2"))}}function Em(t,e){var n=t.significant_digits-e.significant_digits;return n||((n=e.exponent-t.exponent)||(n=Math.abs(e.value)-Math.abs(t.value))?n:n=e.value-t.value)}function Dm(t){t.style("user-select","none").style("-moz-user-select","none").style("-webkit-user-select","none").style("-ms-user-select","none").style("cursor","default")}function Fm(){return document.body.getAttribute("dir")}function Um(t,e){var n,r,i,o,a,u,l,c,s,f,d,h,p,g,_,m,y,b,v,w,x=e.x;var k,M,A,T,N,C=(M=t.chart.select("g.fl-bottom-axis"),A=M.select("g.fl-axis-line"),T=M.select("g.fl-axis-ticks"),N=M.select("g.fl-axis-title"),function(){var y=x.axis_position,M={pos:y},C=!t.xHide()&&-1!==["bottom","float-below"].indexOf(y),S=C?t.xTicks():[],z=t.y_bottom;void 0===k&&(k=z);var $=z+Gg(x.title_padding);function E(t,e){return void 0===t||isNaN(t)?e:t}"bottom"===y&&($+=s+S.max_box_height,M.extended_gridline=z+s+S.max_box_height);var D=k,F=z;"float-below"===y&&(D=E((w||r)(x.y_axis_position),k),F=E(r(x.y_axis_position),z));var U=A.selectAll("line").data(C&&x.line_visible?[n.domain()]:[]);U.exit().style("stroke",o).style("stroke-width",a).transition().duration(i).attr("x1",h).attr("x2",g).attr("y1",F).attr("y2",F).style("opacity",0).remove();var H=U.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",a).attr("x1",_).attr("x2",m).attr("y1",D).attr("y2",D).style("opacity",0);U.merge(H).style("stroke",o).style("stroke-width",a).transition().duration(i).attr("x1",h).attr("x2",g).attr("y1",F).attr("y2",F).style("opacity",1);var j=C?S:[];"numeric"===S.type&&"custom"!==x.tick_mode&&(j=S.slice().sort(Em));var O=function(t){var e="default"==x.tick_label_position?-x.tick_label_angle:-90,n=e_(e,0,0);if("default"!==x.tick_label_position){var r="left"===x.tick_label_position?-.3:1;return t_(0,s)+" "+n+" "+t_(0,c*r)}return 0===e?t_(t.text_width/2,s+.66*c):-90===e?t_(0,s)+" "+n+" "+t_(0,.33*c-t.multiline_offset):t_(0,s)+" "+n+" "+t_(0,.66*c)},L=T.selectAll("g").data(j,(function(t){return t.type+"-"+t.value})),q=L.exit();q.transition().duration(i).attr("transform",(function(t){return t_(v(t.value),F)})).style("opacity",0).remove(),q.each((function(){var t=fd(this);t.select("line").style("stroke",o).style("stroke-width",a).transition().duration(i).attr("y2",l),t.select("text").style("fill",u).style("font-size",c+"px").style("font-weight",x.tick_label_weight).attr("transform",O).transition().duration(i)}));var P=L.enter().append("g").style("opacity",0);P.attr("transform",(function(t){return t_(b(t.value),D)})),P.each((function(){var t=fd(this);t.append("line").attr("y2",l),t.append("text").attr("text-anchor","middle").attr("transform",O).call(Dm)}));var Y=L.merge(P);Y.transition().duration(i).style("opacity",1).attr("transform",(function(t){return t_(n(t.value),F)}));var B,R,I=(B=[],R=F+s,function(t){var r=n(t.value);if("float-below"===y){var i=n.range();if(e.y.axis_visible&&r-t.box_width_left<i[0])return 0;if(e.y2.axis_visible&&r+t.box_width_right>i[1])return 0}for(var o=[r,R],a=[o,[r+t.box_width_right,R+t.box_height_right]],u=[o,[r-t.box_width_left,R+t.box_height_left]],l=0;l<B.length;l++){var c=B[l];if(r<=c.x_anchor){if(o_(a,c.q))return 0}else if(o_(c.p,u))return 0}return B.push({x_anchor:r,p:a,q:u}),1});const W=Fm();Y.each((function(){var t=fd(this);t.select("line").style("stroke",o).style("stroke-width",a).transition().duration(i).attr("y2",l),t.select("text").each((function(){var t=fd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?x.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).attr("text-anchor","rtl"===W?"start":"end").style("fill",u).style("font-size",c+"px").style("font-weight",x.tick_label_weight).transition().duration(i).style("opacity",I).attr("transform",O)}));var V=N.selectAll("text").data(C&&d?[d]:[]);return V.exit().remove(),V.enter().append("text").attr("text-anchor","middle").style("font-size",f+"px").style("fill",x.title_color).style("font-weight",x.title_weight).call(Dm).transition().duration(0).delay(i).text((function(t){return t})).attr("x",p).attr("y",$).attr("dy",f),V.text((function(t){return t})).style("fill",x.title_color).style("font-size",f+"px").style("font-weight",x.title_weight).transition().duration(i).attr("x",p).attr("y",$).attr("dy",f),k=z,"bottom"==y?M:null}),S=function(){var m,y=t.chart.select("g.fl-top-axis"),k=y.select("g.fl-axis-line"),M=y.select("g.fl-axis-ticks"),A=y.select("g.fl-axis-title");return function(){var y=x.axis_position,T={pos:y},N=!t.xHide()&&-1!==["top","float-above"].indexOf(y),C=N?t.xTicks():[],S=t.y_top;void 0===m&&(m=S);var z=S-Gg(x.title_padding);"top"===y&&(z-=s+C.max_box_height,T.extended_gridline=S-(s+C.max_box_height));var $="float-above"===y?(w||r)(x.y_axis_position):m,E="float-above"===y?r(x.y_axis_position):S,D=k.selectAll("line").data(N&&x.line_visible?[n.domain()]:[]);D.exit().style("stroke",o).style("stroke-width",a).transition().duration(i).attr("x1",h).attr("x2",g).attr("y1",E).attr("y2",E).style("opacity",0).remove();var F=D.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",a).attr("x1",_).attr("x2",_).attr("y1",$).attr("y2",$).style("opacity",0);D.merge(F).style("stroke",o).style("stroke-width",a).transition().duration(i).attr("x1",h).attr("x2",g).attr("y1",E).attr("y2",E).style("opacity",1);var U=[];N&&(U="numeric"===C.type?C.slice().sort(Em):C);var H=function(t){var e="default"==x.tick_label_position?-x.tick_label_angle:-90,n=e_(e,0,0);if("default"!==x.tick_label_position){var r="left"===x.tick_label_position?-.3:1;return t_(0,-s)+" "+n+" "+t_(0,c*r)}return 0===e?t_(-t.text_width/2,-(s+.33*c)):-90===e?t_(0,-s)+" "+n+" "+t_(0,.33*c-t.multiline_offset):t_(0,-s)+" "+n+t_(0,-t.multiline_offset)},j=M.selectAll("g").data(U,(function(t){return t.type+"-"+t.value})),O=j.exit();O.transition().duration(i).attr("transform",(function(t){return t_(v(t.value),E)})).style("opacity",0).remove(),O.each((function(){var t=fd(this);t.select("line").style("stroke",o).style("stroke-width",a).transition().duration(i).attr("y2",-l),t.select("text").style("fill",u).style("font-size",c+"px").style("font-weight",x.tick_label_weight).attr("transform",H).transition().duration(i)}));var L=j.enter().append("g").style("opacity",0);L.attr("transform",(function(t){return t_(b(t.value),$)})),L.each((function(){var t=fd(this);t.append("line").attr("y2",-l),t.append("text").attr("text-anchor","middle").attr("transform",H).call(Dm)}));var q=j.merge(L);q.transition().duration(i).style("opacity",1).attr("transform",(function(t){return t_(n(t.value),E)}));var P,Y,B=(P=[],Y=E+s,function(t){var r=n(t.value);if("float-above"===y){var i=n.range();if(e.y.axis_visible&&r-t.box_width_left<i[0])return 0;if(e.y2.axis_visible&&r+t.box_width_right>i[1])return 0}for(var o=[r,Y],a=[o,[r-t.box_width_left,Y-t.box_height_left]],u=[o,[r+t.box_width_right,Y-t.box_height_right]],l=0;l<P.length;l++){var c=P[l];if(r<=c.x_anchor){if(o_(u,c.p))return 0}else if(o_(a,c.q))return 0}return P.push({x_anchor:r,p:a,q:u}),1});const R=Fm();q.each((function(){var t=fd(this);t.select("line").style("stroke",o).style("stroke-width",a).transition().duration(i).attr("y2",-l),t.select("text").each((function(){var t=fd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?x.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).attr("text-anchor","rtl"===R?"end":"start").style("fill",u).style("font-size",c+"px").style("font-weight",x.tick_label_weight).transition().duration(i).style("opacity",B).attr("transform",H)}));var I=A.selectAll("text").data(N&&d?[d]:[]);return I.exit().remove(),I.enter().append("text").attr("text-anchor","middle").style("font-size",f+"px").style("fill",x.title_color).style("font-weight",x.title_weight).call(Dm).transition().duration(0).delay(i).text((function(t){return t})).attr("x",p).attr("y",z).attr("dy",-.33*f),I.text((function(t){return t})).style("fill",x.title_color).style("font-size",f+"px").style("font-weight",x.title_weight).transition().duration(i).attr("x",p).attr("y",z).attr("dy",-.33*f),m=S,"top"==y?T:null}}();return function(){!function(){n=u_(t.xScale()),r=u_(t.yScale()),i=y?t.animationDuration():0,h=t.x_left,g=t.x_right,p=(h+g)/2,void 0===_&&(_=h),y||(y=n),b=y.type===n.type&&"ordinal"!==n.type?y:n,v=y.type===n.type&&"ordinal"!==y.type?n:y,o=x.line_and_tick_color,a=Gg(x.line_and_tick_width,!0),u=x.tick_label_color;var e="default"===x.tick_label_position,m=t.xTicks(),w=m.max_box_height,k=m.length?Gg(x.tick_padding):0;"top"!=x.axis_position&&"bottom"!=x.axis_position||(w+=k);var M="out"===x.tick_side;l=e?Gg(x.tick_length)*(M?1:-1):w,c=Gg(x.tick_label_size),s=(M&&e?l:0)+k,f=Gg(x.title_size),d=t.xTitle()}();var e=C(),k=S();return y=n,w=r,_=h,m=g,e||k}}function Hm(t,e){var n=Um(t,e),r=function(t,e){var n,r,i,o,a,u=t.chart.select("g.fl-left-axis"),l=u.select("g.fl-axis-line"),c=u.select("g.fl-axis-ticks"),s=u.select("g.fl-axis-title"),f=e.y;return function(){var u={},d=f.axis_visible&&!t.yHide(),h=u_(t.xScale()),p=u_(t.yScale()),g=d?t.yTicks():[],_=n?t.animationDuration():0;n||(n=h),r||(r=p);var m=r.type===p.type&&"ordinal"!==p.type?r:p,y=r.type===p.type&&"ordinal"!==r.type?p:r,b=t.y_bottom,v=t.y_top;void 0===i&&(i=b),void 0===o&&(o=v);var w=t.x_left;void 0===a&&(a=w);var x=f.line_and_tick_color,k=Gg(f.line_and_tick_width,!0),M=f.tick_label_color,A="default"===f.tick_label_position,T="out"===f.tick_side,N=Gg(f.tick_padding),C=t.yTicks().max_box_width+N,S=A?Gg(f.tick_length)*(T?1:-1):C,z=Gg(f.tick_label_size),$=(T&&A?S:0)+N,E=t.yTitle(),D=Gg(f.title_size),F=$+g.max_box_width+Gg(f.title_padding)+.33*D;u.extended_gridline=w-($+g.max_box_width);var U=(v+b)/2,H=l.selectAll("line").data(d&&f.line_visible?[p.domain()]:[]);H.exit().style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x1",w).attr("x2",w).attr("y1",b).attr("y2",v).style("opacity",0).remove();var j=H.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",k).attr("x1",a).attr("x2",a).attr("y1",i).attr("y2",o).style("opacity",0);H.merge(j).style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x1",w).attr("x2",w).attr("y1",b).attr("y2",v).style("opacity",1);var O=d?g:[];function L(t){if("default"!==f.tick_label_position)return t_(-$-(g.max_box_width-t.box_width),("above"===f.tick_label_position?-.3:1)*z);var e=-f.tick_label_angle;if(0===e)return t_(-$,.33*z-t.multiline_offset);var n=t_(-$,0)+" "+e_(e);return-90===e&&(n+=" "+t_(t.text_width/2,0)),n}"numeric"===g.type&&"custom"!==f.tick_mode&&(O=g.slice().sort(Em));var q=c.selectAll("g").data(O,(function(t){return t.type+"-"+t.value})),P=q.exit();P.transition().duration(_).attr("transform",(function(t){return t_(w,y(t.value))})).style("opacity",0).remove(),P.each((function(){var t=fd(this);t.select("line").style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x2",-S),t.select("text").style("fill",M).style("font-size",z+"px").style("font-weight",f.tick_label_weight).attr("transform",L).transition().duration(_)}));var Y=q.enter().append("g").style("opacity",0);Y.attr("transform",(function(t){return t_(a,m(t.value))}));const B="rtl"===Fm()?"start":"end";Y.each((function(){var t=fd(this);t.append("line").attr("x2",-S),t.append("text").attr("text-anchor",B).attr("transform",L).call(Dm)}));var R=q.merge(Y);R.transition().duration(_).style("opacity",1).attr("transform",(function(t){return t_(w,p(t.value))}));var I,W,V=(I=[],W=w-$,function(t){for(var e=p(t.value),n=[W,e],r=[n,[W-t.box_width_above,e-t.box_height_above]],i=[n,[W-t.box_width_below,e+t.box_height_below]],o=0;o<I.length;o++){var a=I[o];if(e>=a.y_anchor){if(o_(r,a.q))return 0}else if(o_(a.p,i))return 0}return I.push({y_anchor:e,p:r,q:i}),1});R.each((function(){var t=fd(this);t.select("line").style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x2",-S),t.select("text").each((function(){var t=fd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?f.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).style("fill",M).style("font-size",z+"px").style("font-weight",f.tick_label_weight).attr("text-anchor",B).transition().duration(_).style("opacity",V).attr("transform",L)}));var X=s.selectAll("text").data(d&&E?[E]:[]);X.exit().remove();var Z=function(){if("side"===f.title_position)return t_(w,U)+" "+e_(-90)+" "+t_(0,-F);const n=w-t.margins._calculated().left,r=["top","float-above"].includes(e.x.axis_position),i=Gg(f.title_padding);let o;if(r){const t=g[0].box_height_below,e=Gg(.66*f.title_size);o=b+(t+i+e)}else{const t=g[g.length-1].box_height_above;o=v-(t+i)}return t_(n,o)};return X.enter().append("text").attr("text-anchor","side"===f.title_position?"middle":"start").style("font-size",D+"px").style("fill",f.title_color).style("font-weight",f.title_weight).call(Dm).transition().duration(0).delay(_).text((function(t){return t})).attr("transform",Z),X.text((function(t){return t})).attr("text-anchor","side"===f.title_position?"middle":"start").style("fill",f.title_color).style("font-size",D+"px").style("font-weight",f.title_weight).transition().duration(_).attr("transform",Z),n=h,r=p,i=b,o=v,a=w,u}}(t,e),i=function(t,e){var n,r,i,o,a,u=t.chart.select("g.fl-right-axis"),l=u.select("g.fl-axis-line"),c=u.select("g.fl-axis-ticks"),s=u.select("g.fl-axis-title"),f=e.y2;return function(){var u={},d=f.axis_visible&&!t.y2Hide(),h=u_(t.xScale()),p=u_(t.y2Scale()),g=d?t.y2Ticks():[],_=n?t.animationDuration():0;n||(n=h),r||(r=p);var m=r.type===p.type&&"ordinal"!==p.type?r:p,y=r.type===p.type&&"ordinal"!==r.type?p:r,b=t.y_bottom,v=t.y_top;void 0===i&&(i=b),void 0===o&&(o=v);var w=t.x_right;void 0===a&&(a=w);var x=f.line_and_tick_color,k=Gg(f.line_and_tick_width,!0),M=f.tick_label_color,A="default"===f.tick_label_position,T="out"===f.tick_side,N=Gg(f.tick_padding),C=t.y2Ticks().max_box_width+N,S=A?Gg(f.tick_length)*(T?1:-1):C,z=Gg(f.tick_label_size),$=(T&&A?S:0)+N,E=t.y2Title(),D=Gg(f.title_size),F=$+g.max_box_width+Gg(f.title_padding)+.85*D;u.extended_gridline=w+$+g.max_box_width;var U=(b+v)/2,H=l.selectAll("line").data(d&&f.line_visible?[p.domain()]:[]);H.exit().style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x1",w).attr("x2",w).attr("y1",b).attr("y2",v).style("opacity",0).remove();var j=H.enter().append("line").style("shape-rendering","crispEdges").style("stroke-linecap","square").style("stroke-width",k).attr("x1",a).attr("x2",a).attr("y1",i).attr("y2",o).style("opacity",0);H.merge(j).style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x1",w).attr("x2",w).attr("y1",b).attr("y2",v).style("opacity",1);var O="numeric"===g.type?g.slice().sort(Em):g;function L(t){if("default"!==f.tick_label_position)return t_($+(g.max_box_width-t.box_width),("above"===f.tick_label_position?-.3:1)*z);var e=-f.tick_label_angle;if(0===e)return t_($,.33*z-t.multiline_offset);var n=t_($,0)+" "+e_(e);return-90===e&&(n+=" "+t_(t.text_width/2,0)),n}var q=c.selectAll("g").data(O,(function(t){return t.type+"-"+t.value})),P=q.exit();P.transition().duration(_).attr("transform",(function(t){return t_(w,y(t.value))})).style("opacity",0).remove(),P.each((function(){var t=fd(this);t.select("line").style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x2",-S),t.select("text").style("fill",M).style("font-size",z+"px").style("font-weight",f.tick_label_weight).attr("transform",L).transition().duration(_)}));var Y=q.enter().append("g").style("opacity",0);Y.attr("transform",(function(t){return t_(a,m(t.value))}));const B=Fm();Y.each((function(){var t=fd(this);t.append("line").attr("x2",S),t.append("text").attr("transform",L).call(Dm)}));var R=q.merge(Y);R.transition().duration(_).style("opacity",1).attr("transform",(function(t){return t_(w,p(t.value))})).attr("text-anchor","rtl"===B?"end":"start");var I,W,V=(I=[],W=w+$,function(t){for(var e=p(t.value),n=[W,e],r=[n,[W-t.box_width_above,e-t.box_height_above]],i=[n,[W-t.box_width_below,e+t.box_height_below]],o=0;o<I.length;o++){var a=I[o];if(e>=a.y_anchor){if(o_(r,a.q))return 0}else if(o_(a.p,i))return 0}return I.push({y_anchor:e,p:r,q:i}),1});R.each((function(){var t=fd(this);t.select("line").style("stroke",x).style("stroke-width",k).transition().duration(_).attr("x2",S),t.select("text").each((function(){var t=fd(this).selectAll("tspan").data((function(t){return t.lines}));t.merge(t.enter().append("tspan")).attr("x",0).attr("dy",(function(t,e){return e?f.tick_label_line_height+"em":0})).text((function(t){return"number"==typeof t&&isNaN(t)?"":t})),t.exit().remove()})).style("fill",M).style("font-size",z+"px").style("font-weight",f.tick_label_weight).transition().duration(_).style("opacity",V).attr("transform",L)}));var X=s.selectAll("text").data(d&&E?[E]:[]);X.exit().remove();var Z=function(){if("side"===f.title_position)return t_(w,U)+" "+e_(-90)+" "+t_(0,F);const n=w+t.margins._calculated().right,r=["top","float-above"].includes(e.x.axis_position),i=Gg(f.title_padding);let o;if(r){const t=g[0].box_height_below,e=Gg(.66*f.title_size);o=b+(t+i+e)}else{const t=g[g.length-1].box_height_above;o=v-(t+i)}return t_(n,o)};return X.enter().append("text").attr("text-anchor","side"===f.title_position?"middle":"end").style("font-size",D+"px").style("fill",f.title_color).style("font-weight",f.title_weight).call(Dm).transition().duration(0).delay(_).text((function(t){return t})).attr("transform",Z),X.text((function(t){return t})).attr("text-anchor","side"===f.title_position?"middle":"end").style("fill",f.title_color).style("font-size",D+"px").style("font-weight",f.title_weight).transition().duration(_).attr("transform",Z),n=h,r=p,i=b,o=v,a=w,u}}(t,e);return function(){return{x:n(),y:r(),y2:i()}}}var jm={solid:null,dash:[4,1],dot:[1,1],dot_dash:[4,1,1,1]};function Om(t){if("solid"===t)return null;var e=Gg(1)/4;return jm[t].map((function(t){return t*e})).join(" ")}function Lm(t,e){var n=function(t){let e=t.chart.select("rect.fl-chart-debug-rectangle");return function(){e.attr("width",t.width()).attr("height",t.height()).style("stroke",t.debugColor()).style("display",t.debug()?null:"none")}}(t),r=$m(t,e),i=function(t,e){var n=t.chart.select("clipPath.fl-data-clip-path"),r=n.select("rect"),i=t.chart.select("clipPath.fl-grid-clip-path"),o=i.select("rect"),a=t.chart.select(".fl-data-background"),u=t.chart.select(".fl-data-foreground"),l=t.chart.select(".fl-gridlines");return function(){var c=t.identifier()+"-clip-path",s="url(#"+c+")";n.attr("id",c);var f=t.identifier()+"-grid-clip-path",d="url(#"+f+")";i.attr("id",f),a.attr("clip-path",s),u.attr("clip-path",s),l.attr("clip-path",d);var h=t.x_left,p=t.x_right,g=t.y_top,_=t.y_bottom,m=t.clip(),y=m.left?h:0,b=m.top?g:0,v=Math.max((m.right?p:t.width())-y,1),w=Math.max((m.bottom?_:t.height())-b,1);r.attr("x",y).attr("y",b).attr("width",v).attr("height",w);var x=Gg(e.x.gridline_width,!0),k=Gg(e.y.gridline_width,!0);o.transition().duration(t.animationDuration()).attr("x",h-x).attr("y",g-k).attr("width",p-h+2*x).attr("height",_-g+2*k)}}(t,e),o=function(t,e){var n=e.background,r=t.chart.select("rect.fl-chart-fill"),i=t.chart.select("image.fl-chart-image"),o=t.chart.select("rect.fl-chart-interaction");return function(){var e=t.x_left,a=t.y_top,u=Math.max(t.plot_width,1),l=Math.max(t.plot_height,1);r.attr("x",e).attr("y",a).attr("width",u).attr("height",l).attr("fill",n.background_color_enabled?n.background_color:"none"),i.attr("x",e).attr("y",a).attr("width",u).attr("height",l).attr("xlink:href",n.background_image_enabled?n.background_image_src:null).attr("preserveAspectRatio",(function(){return"stretch"==n.background_image_size?"none":n.background_image_position+" "+n.background_image_size})),o.attr("x",e).attr("y",a).attr("width",u).attr("height",l)}}(t,e),a=Hm(t,e),u=function(t,e){var n,r,i,o,a,u,l,c=e.x,s=e.y,f=e.y2,d=t.chart.select("g.fl-gridlines-vertical"),h=t.chart.select("g.fl-gridlines-horizontal");return function(p){var g=u_(t.xScale()),_=u_(t.yScale()),m=u_(t.y2Scale()),y=t.x_left,b=t.x_right;void 0===o&&(o=y),void 0===a&&(a=b);var v=t.y_bottom,w=t.y_top;void 0===u&&(u=v),void 0===l&&(l=w),r=r||_,i=i||m;var x=(n=n||g).type===g.type&&"ordinal"!==g.type?n:g,k=n.type===g.type&&"ordinal"!==n.type?g:n,M=r.type===_.type&&"ordinal"!==_.type?r:_,A=r.type===_.type&&"ordinal"!==r.type?_:r,T=i.type===m.type&&"ordinal"!==i.type?i:m,N=i.type===m.type&&"ordinal"!==i.type?m:i,C=n?t.animationDuration():0,S=function(n){if("x"===n&&"off"===e.x.axis_position)return[];if("x"!==n&&!e[n].axis_visible)return[];if(!e[n].gridlines_visible)return[];var r=t[n+"Hide"]();return r&&!r.keep_gridlines?[]:t[n+"Ticks"]()},z=S("x"),$=S("y"),E=S("y2"),D=z.map((function(t){return{type:t.type,value:t.value,dasharray:Om(c.gridline_style),stroke:c.gridline_color,width:Gg(c.gridline_width,!0),x_enter:x(t.value),x:g(t.value)}}));if(c.gridline_category_dividers&&g.step){var F=g.step();D.pop(),D.forEach((function(t){if(t.x_enter+=F/2,t.x+=F/2,c.gridline_category_dividers_extend){var e=p.x&&"top"==p.x.pos,n=p.x&&"bottom"==p.x.pos;e?t.y2=p.x.extended_gridline:n&&(t.y1=p.x.extended_gridline)}}))}var U=$.map((function(t){return{axis:"y",type:t.type,value:t.value,dasharray:Om(s.gridline_style),stroke:s.gridline_color,width:Gg(s.gridline_width,!0),y_enter:M(t.value),y:_(t.value)}}));if(s.gridline_category_dividers&&_.step){var H=_.step();U.pop(),U.forEach((function(t){t.y_enter-=H/2,t.y-=H/2,s.gridline_category_dividers_extend&&(t.x1=p.y.extended_gridline)}))}var j=E.map((function(t){return{axis:"y2",type:t.type,value:t.value,dasharray:Om(f.gridline_style),stroke:f.gridline_color,width:Gg(f.gridline_width),y_enter:T(t.value),y:m(t.value)}}));if(f.gridline_category_dividers&&m.step){var O=m.step();j.pop(),j.forEach((function(t){t.y_enter-=O/2,t.y-=O/2,f.gridline_category_dividers_extend&&(t.x2=p.y2.extended_gridline)}))}var L=U.concat(j),q=d.selectAll("line").data(D,(function(t){return t.type+"-"+t.value}));q.exit().attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(C).attr("x1",(function(t){return k(t.value)})).attr("x2",(function(t){return k(t.value)})).attr("y1",v).attr("y2",w).style("opacity",0).remove();var P=q.enter().append("line").style("shape-rendering","crispEdges").attr("x1",(function(t){return t.x_enter})).attr("x2",(function(t){return t.x_enter})).attr("y1",u).attr("y2",l).style("opacity",0);q.merge(P).attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(C).attr("x1",(function(t){return t.x})).attr("x2",(function(t){return t.x})).attr("y1",v).attr("y2",w).style("opacity",1);var Y=h.selectAll("line").data(L,(function(t){return t.axis+"-"+t.type+"-"+t.value}));Y.exit().attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(C).attr("x1",y).attr("x2",b).attr("y1",(function(t){return"y"===t.axis?A(t.value):N(t.value)})).attr("y2",(function(t){return"y"===t.axis?A(t.value):N(t.value)})).style("opacity",0).remove();var B=Y.enter().append("line").style("shape-rendering","crispEdges").attr("x1",o).attr("x2",a).attr("y1",(function(t){return t.y_enter})).attr("y2",(function(t){return t.y_enter})).style("opacity",0);Y.merge(B).attr("stroke-dasharray",(function(t){return t.dasharray})).style("stroke",(function(t){return t.stroke})).style("stroke-width",(function(t){return t.width})).transition().duration(C).attr("x1",y).attr("x2",b).attr("y1",(function(t){return t.y})).attr("y2",(function(t){return t.y})).style("opacity",1),n=g,r=_,i=m,o=y,a=b}}(t,e);return function(e){var l,c,s,f;if(e=e||{},l=parseFloat(getComputedStyle(document.documentElement).fontSize),c=window.devicePixelRatio,Gg=function(t,e){return t?e?Math.max(Math.round(t*l*c),1)/c:t*l:0},s=null,(t.offsetLeft()||t.offsetTop())&&(s="translate("+t.offsetLeft()+","+t.offsetTop()+")"),t.chart.attr("transform",s),n(),r(),f=e.margins,t.margins._update(f),function(e){t.inner_margins._update(e)}(e.inner_margins),e.skip_rendering)return t;i(),o();var d=a();return u(d),t}}function qm(t,e){e=Js(e);var n={},r=function(t){var e,n=(e=t&&t.select&&t.selectAll?fd(t.node()):fd(t)).node();if(!n)throw new Error("Chart layout instance must have a target");var r=dd(n);return{container:e,getSvg:function(){if(r)return e;for(var t=n.parentNode;t&&!dd(t);)t=t.parentNode;if(!dd(t))throw new Error("target must be an SVG or a descendant of an SVG");return fd(t)}}}(t);Object.defineProperty(n,"svg",{get:r.getSvg}),n.container=r.container,n.chart=function(t){var e=t.container.append("g").attr("class","fl-chart");return function(t){t.append("rect").attr("class","fl-chart-debug-rectangle").attr("x",0).attr("y",0).style("stroke-width","1px").style("fill","none").style("display","none")}(e),e.append("clipPath").attr("class","fl-data-clip-path").append("rect"),e.append("clipPath").attr("class","fl-grid-clip-path").append("rect"),function(t){var e=t.append("g").attr("class","fl-chart-background");e.append("rect").attr("class","fl-chart-fill"),e.append("image").attr("class","fl-chart-image"),e.append("rect").attr("class","fl-chart-interaction").style("opacity",0)}(e),e.append("g").attr("class","fl-data-background"),function(t){var e=t.append("g").attr("class","fl-gridlines").style("pointer-events","none");e.append("g").attr("class","fl-gridlines-vertical"),e.append("g").attr("class","fl-gridlines-horizontal")}(e),function(t){var e=t.append("g").attr("class","fl-axes").attr("aria-hidden",!0),n=e.append("g").attr("class","fl-x-axes"),r=e.append("g").attr("class","fl-y-axes"),i=n.append("g").attr("class","fl-axis fl-x-axis fl-bottom-axis");i.append("g").attr("class","fl-axis-line"),i.append("g").attr("class","fl-axis-ticks"),i.append("g").attr("class","fl-axis-title");var o=n.append("g").attr("class","fl-axis fl-x-axis fl-top-axis");o.append("g").attr("class","fl-axis-line"),o.append("g").attr("class","fl-axis-ticks"),o.append("g").attr("class","fl-axis-title");var a=r.append("g").attr("class","fl-axis fl-y-axis fl-left-axis");a.append("g").attr("class","fl-axis-line"),a.append("g").attr("class","fl-axis-ticks"),a.append("g").attr("class","fl-axis-title");var u=r.append("g").attr("class","fl-axis fl-y-axis fl-right-axis");u.append("g").attr("class","fl-axis-line"),u.append("g").attr("class","fl-axis-ticks"),u.append("g").attr("class","fl-axis-title")}(e),e.append("g").attr("class","fl-data-foreground"),e}(n),n.data_background=n.chart.select("g.fl-data-background"),n.data_foreground=n.chart.select("g.fl-data-foreground"),n.identifier=function(t){var e="fl-chart-layout-"+hd++;return function(n){return void 0===n?e:(e=n,t)}}(n),n.debug=function(t){let e=!1;return function(n){return void 0===n?e:(e=!!n,t)}}(n),n.debugColor=function(t){let e="red";return function(n){return void 0===n?e:(e=n,t)}}(n),n.clip=function(t){var e=pd;return function(n){return void 0===n?e:(e=n?"object"!=typeof n?pd:Object.freeze({left:!!n.left,top:!!n.top,right:!!n.right,bottom:!!n.bottom}):gd,t)}}(n),n.animationDuration=function(t){var e=0;return function(n){return void 0===n?e:(e=n,t)}}(n);var i=function(t){var e={},n=null,r=null,i=null;return e.width=function(e){return void 0===e?null!==n?n:t.svg.node().getBoundingClientRect().width:(n=e,t)},e.height=function(n){return void 0===n?null!==r?r:null!==i?e.plotHeight()+t.margins.top+t.margins.bottom:t.svg.node().getBoundingClientRect().height:(r=n,i=null,t)},e.plotAspect=function(n){return void 0===n?null!==i?i:e.plotWidth()/e.plotHeight():(r=null,i=n,t)},e.plotWidth=function(){return t.width()-(t.margins.right+t.margins.left)},e.plotHeight=function(){return null===i?e.height()-(t.margins.top+t.margins.bottom):e.plotWidth()/i},e.innerWidth=function(){const{inner_margins:n}=t;return Math.max(0,e.plotWidth()-(n.right+n.left))},e.innerHeight=function(){const{inner_margins:n}=t;return Math.max(0,e.plotHeight()-(n.top+n.bottom))},e.xLeft=function(){return t.margins.left},e.xRight=function(){return t.width()-t.margins.right},e.yBottom=function(){return t.height()-t.margins.bottom},e.yTop=function(){return t.margins.top},e}(n);return n.width=i.width,n.height=i.height,n.plotAspect=i.plotAspect,Object.defineProperty(n,"plot_width",{get:i.plotWidth}),Object.defineProperty(n,"plot_height",{get:i.plotHeight}),Object.defineProperty(n,"inner_width",{get:i.innerWidth}),Object.defineProperty(n,"inner_height",{get:i.innerHeight}),Object.defineProperty(n,"x_left",{get:i.xLeft}),Object.defineProperty(n,"x_right",{get:i.xRight}),Object.defineProperty(n,"y_bottom",{get:i.yBottom}),Object.defineProperty(n,"y_top",{get:i.yTop}),n.offsetLeft=function(t){var e=0;return function(n){return void 0===n?e:(e=n,t)}}(n),n.offsetTop=function(t){var e=0;return function(n){return void 0===n?e:(e=n,t)}}(n),n.margins=M_(n,e),n.inner_margins=function(){var t,e,n,r;t=e=n=r=0;var i=function(){return{top:t,right:e,bottom:n,left:r}};return i._update=function(i){t=(i=i||{}).top||0,e=i.right||0,n=i.bottom||0,r=i.left||0},Object.defineProperty(i,"top",{get:function(){return t}}),Object.defineProperty(i,"right",{get:function(){return e}}),Object.defineProperty(i,"bottom",{get:function(){return n}}),Object.defineProperty(i,"left",{get:function(){return r}}),i}(),n.xData=d_(n),n.yData=d_(n),n.y2Data=d_(n),n.xFormat=Kh(n),n.yFormat=Kh(n),n.y2Format=Kh(n),n.xNumberParse=Mg(n),n.yNumberParse=Mg(n),n.y2NumberParse=Mg(n),n.xDatetimeParse=Ag(n),n.yDatetimeParse=Ag(n),n.y2DatetimeParse=Ag(n),n.xTitle=function(t,e){return t.xAutoTitle=v_(t),t.xAutoTitle("X"),function(){return("auto"===e.x.title_mode?t.xAutoTitle():e.x.title).trim()}}(n,e),n.yTitle=function(t,e){return t.yAutoTitle=v_(t),t.yAutoTitle("Y"),function(){return("auto"===e.y.title_mode?t.yAutoTitle():e.y.title).trim()}}(n,e),n.y2Title=function(t,e){return t.y2AutoTitle=v_(t),t.y2AutoTitle("Y2"),function(){return("auto"===e.y2.title_mode?t.y2AutoTitle():e.y2.title).trim()}}(n,e),n.xTicks=function(t,e){var n=e.x,r=Object.freeze([]),i=t.chart.select(".fl-x-axes"),o=function(){return r};return o._update=function(e){var o,a=t.xData().string_array?"string":"numeric",u=Kg(fd(".fl-x-axes"),n.tick_label_size,n.tick_label_weight),l="default"===n.tick_label_position?+n.tick_label_angle:90,c=0,s=t.xFormat(),f=Gg(n.tick_label_size);i.append("text").style("opacity",0).style("font",u).each((function(){var t=fd(this).text(h_).node().getBoundingClientRect();o=t.height})).remove(),"object"==typeof e[0]&&(e=g_(e,s));var d=Gg(n.tick_label_space);"auto"===n.tick_label_space_mode&&(d=t.xTicks.autoLabelSpace().px);var h=__({text_height:o,max_space:d,font:u,angle:90-l,max_lines:n.tick_label_max_lines});return r=e.map((function(t,e){var r,i,u,d,p,g,_=h(s(t)),m=_.lines,y=_.text_width,b=0,v=o*m.length+(m.length-1)*n.tick_label_line_height;if(0===l||90===l)u=d=(r=0===l?y+Gg(.5):v)/2,p=i=0===l?v:y,g=i,90===l&&(b=m.length<2?0:(m.length-1)/2*(f*n.tick_label_line_height));else{var w=p_(l),x=Math.sin(w),k=Math.cos(w);r=(u=y*k)+(d=v*x),i=(p=y*x)+(g=v*k)}if("top"===n.axis_position||"float-above"===n.axis_position){var M=u;u=d,d=M,M=p,p=g,g=M,0!==l&&90!==l&&(b=m.length<2?0:(m.length-1)*(f*n.tick_label_line_height))}c=Math.max(c,i);var A="numeric"===a?i_(t):null,T="numeric"===a?r_(t):null;return Object.freeze({index:e,value:t,lines:m,significant_digits:A,exponent:T,text_width:y,text_height:o,box_width:r,box_height:i,box_width_left:u,box_width_right:d,box_height_left:p,box_height_right:g,multiline_offset:b})})),r.type=a,r.max_box_height="fixed"===n.tick_label_space_mode?Gg(n.tick_label_space):c,Object.freeze(r),t},o.autoLabelSpace=m_(t,"height",120),o}(n,e),n.yTicks=function(t,e){return y_(t,e,"y")}(n,e),n.y2Ticks=function(t,e){return y_(t,e,"y2")}(n,e),n.xAutoTicks=function(t){const e=b_(t,"x");return t=>e(t)}(n),n.yAutoTicks=function(t){const e=b_(t,"y");return t=>e(t)}(n),n.y2AutoTicks=function(t){const e=b_(t,"y2");return t=>e(t)}(n),n.xScale=Mm(n,e),n.yScale=Am(n,e),n.y2Scale=Tm(n,e),n.xPadding=function(t){const e=["px","steps"];let n=0,r=0,i="px";return function(o){if(void 0===o)return{left:n,right:r,unit:i};const a=o.unit;if(a&&!e.includes(a))throw new Error(`Unit "${a}" not recognised`);return({left:n=n,right:r=r,unit:i=i}=o),t}}(n),n.yPadding=function(t){const e=["px","steps"];let n=0,r=0,i="px";return function(o){if(void 0===o)return{bottom:n,top:r,unit:i};const a=o.unit;if(a&&!e.includes(a))throw new Error(`Unit "${a}" not recognised`);return({bottom:n=n,top:r=r,unit:i=i}=o),t}}(n),n.y2Padding=function(t){const e=["px","steps"];let n=0,r=0,i="px";return function(o){if(void 0===o)return{bottom:n,top:r,unit:i};const a=o.unit;if(a&&!e.includes(a))throw new Error(`Unit "${a}" not recognised`);return({bottom:n=n,top:r=r,unit:i=i}=o),t}}(n),n.xMinStep=function(t){return function(){return km(t.xData(),t.xScale())}}(n),n.yMinStep=function(t){return function(){return km(t.yData(),t.yScale())}}(n),n.y2MinStep=function(t){return function(){return km(t.y2Data(),t.y2Scale())}}(n),n.xFlipAxis=Cm(n),n.yFlipAxis=Cm(n),n.y2FlipAxis=Cm(n),n.xZeroAxis=Nm(n),n.yZeroAxis=Nm(n),n.y2ZeroAxis=Nm(n),n.xHide=Sm(n),n.yHide=Sm(n),n.y2Hide=Sm(n),n.y2Hide(!0),n.update=Lm(n,e),n}var Pm="http://www.w3.org/1999/xhtml",Ym={svg:"http://www.w3.org/2000/svg",xhtml:Pm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Bm(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ym.hasOwnProperty(e)?{space:Ym[e],local:t}:t}function Rm(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Pm&&e.documentElement.namespaceURI===Pm?e.createElement(t):e.createElementNS(n,t)}}function Im(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Wm(t){var e=Bm(t);return(e.local?Im:Rm)(e)}function Vm(){}function Xm(t){return null==t?Vm:function(){return this.querySelector(t)}}function Zm(){return[]}function Gm(t){return new Array(t.length)}function Qm(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Qm.prototype={constructor:Qm,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Jm="$";function Km(t,e,n,r,i,o){for(var a,u=0,l=e.length,c=o.length;u<c;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new Qm(t,o[u]);for(;u<l;++u)(a=e[u])&&(i[u]=a)}function ty(t,e,n,r,i,o,a){var u,l,c,s={},f=e.length,d=o.length,h=new Array(f);for(u=0;u<f;++u)(l=e[u])&&(h[u]=c=Jm+a.call(l,l.__data__,u,e),c in s?i[u]=l:s[c]=l);for(u=0;u<d;++u)(l=s[c=Jm+a.call(t,o[u],u,o)])?(r[u]=l,l.__data__=o[u],s[c]=null):n[u]=new Qm(t,o[u]);for(u=0;u<f;++u)(l=e[u])&&s[h[u]]===l&&(i[u]=l)}function ey(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ny(t){return function(){this.removeAttribute(t)}}function ry(t){return function(){this.removeAttributeNS(t.space,t.local)}}function iy(t,e){return function(){this.setAttribute(t,e)}}function oy(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ay(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function uy(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ly(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function cy(t){return function(){this.style.removeProperty(t)}}function sy(t,e,n){return function(){this.style.setProperty(t,e,n)}}function fy(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function dy(t){return function(){delete this[t]}}function hy(t,e){return function(){this[t]=e}}function py(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function gy(t){return t.trim().split(/^|\s+/)}function _y(t){return t.classList||new my(t)}function my(t){this._node=t,this._names=gy(t.getAttribute("class")||"")}function yy(t,e){for(var n=_y(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function by(t,e){for(var n=_y(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function vy(t){return function(){yy(this,t)}}function wy(t){return function(){by(this,t)}}function xy(t,e){return function(){(e.apply(this,arguments)?yy:by)(this,t)}}function ky(){this.textContent=""}function My(t){return function(){this.textContent=t}}function Ay(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ty(){this.innerHTML=""}function Ny(t){return function(){this.innerHTML=t}}function Cy(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Sy(){this.nextSibling&&this.parentNode.appendChild(this)}function zy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $y(){return null}function Ey(){var t=this.parentNode;t&&t.removeChild(this)}function Dy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Fy(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}my.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Uy={},Hy=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Uy={mouseenter:"mouseover",mouseleave:"mouseout"}));function jy(t,e,n){return t=Oy(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Oy(t,e,n){return function(r){var i=Hy;Hy=r;try{t.call(this,this.__data__,e,n)}finally{Hy=i}}}function Ly(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function qy(t,e,n){var r=Uy.hasOwnProperty(t.type)?jy:Oy;return function(i,o,a){var u,l=this.__on,c=r(e,o,a);if(l)for(var s=0,f=l.length;s<f;++s)if((u=l[s]).type===t.type&&u.name===t.name)return this.removeEventListener(u.type,u.listener,u.capture),this.addEventListener(u.type,u.listener=c,u.capture=n),void(u.value=e);this.addEventListener(t.type,c,n),u={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(u):this.__on=[u]}}function Py(t,e,n){var r=ly(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Yy(t,e){return function(){return Py(this,t,e)}}function By(t,e){return function(){return Py(this,t,e.apply(this,arguments))}}var Ry=[null];function Iy(t,e){this._groups=t,this._parents=e}function Wy(t){return"string"==typeof t?new Iy([[document.querySelector(t)]],[document.documentElement]):new Iy([[t]],Ry)}function Vy(){return this.declarations=[],this}function Xy(t){return this.selector=t,this.styles=[],this}Iy.prototype={constructor:Iy,select:function(t){"function"!=typeof t&&(t=Xm(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],l=u.length,c=r[i]=new Array(l),s=0;s<l;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),c[s]=a);return new Iy(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=function(t){return null==t?Zm:function(){return this.querySelectorAll(t)}}(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],l=u.length,c=0;c<l;++c)(a=u[c])&&(r.push(t.call(a,a.__data__,c,u)),i.push(a));return new Iy(r,i)},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Iy(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),c=-1,this.each((function(t){h[++c]=t})),h;var n=e?ty:Km,r=this._parents,i=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var s=r[c],f=i[c],d=f.length,h=t.call(s,s&&s.__data__,c,r),p=h.length,g=u[c]=new Array(p),_=a[c]=new Array(p);n(s,f,g,_,l[c]=new Array(d),h,e);for(var m,y,b=0,v=0;b<p;++b)if(m=g[b]){for(b>=v&&(v=b+1);!(y=_[v])&&++v<p;);m._next=y||null}}return(a=new Iy(a,r))._enter=u,a._exit=l,a},enter:function(){return new Iy(this._enter||this._groups.map(Gm),this._parents)},exit:function(){return new Iy(this._exit||this._groups.map(Gm),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l,c=e[u],s=n[u],f=c.length,d=a[u]=new Array(f),h=0;h<f;++h)(l=c[h]||s[h])&&(d[h]=l);for(;u<r;++u)a[u]=e[u];return new Iy(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ey);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],l=u.length,c=i[o]=new Array(l),s=0;s<l;++s)(a=u[s])&&(c[s]=a);c.sort(e)}return new Iy(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Bm(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ry:ny:"function"==typeof e?n.local?uy:ay:n.local?oy:iy)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?cy:"function"==typeof e?fy:sy)(t,e,null==n?"":n)):function(t,e){return t.style.getPropertyValue(e)||ly(t).getComputedStyle(t,null).getPropertyValue(e)}(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?dy:"function"==typeof e?py:hy)(t,e)):this.node()[t]},classed:function(t,e){var n=gy(t+"");if(arguments.length<2){for(var r=_y(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?xy:e?vy:wy)(n,e))},text:function(t){return arguments.length?this.each(null==t?ky:("function"==typeof t?Ay:My)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ty:("function"==typeof t?Cy:Ny)(t)):this.node().innerHTML},raise:function(){return this.each(Sy)},lower:function(){return this.each(zy)},append:function(t){var e="function"==typeof t?t:Wm(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Wm(t),r=null==e?$y:"function"==typeof e?e:Xm(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ey)},clone:function(t){return this.select(t?Fy:Dy)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?qy:Ly,null==n&&(n=!1),r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var l,c=0,s=u.length;c<s;++c)for(r=0,l=u[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?By:Yy)(t,e))}},Vy.prototype.select=function(t){if(!t)return this;var e=new Xy(t);return e.parent=this,this.addDeclaration(e),e},Vy.prototype.addDeclaration=function(t){return this.declarations.push(t),this},Vy.prototype.print=function(){var t="";return this.declarations.forEach((function(e){t+=e.selector+" {\n",e.styles.forEach((function(e){t+="\t"+e[0]+": "+e[1]+";\n"})),t+="}\n\n"})),t},Vy.prototype.clear=function(){return this.declarations=[],this},Xy.prototype.style=function(t,e){var n="function"==typeof value_?e():e;return""!==n&&null!=n&&this.styles.push([t,n]),this},Xy.prototype.select=function(t){return this.parent.select(this.selector+" "+t)};var Zy="0.2em";function Gy(t){return t*parseFloat(getComputedStyle(document.documentElement).fontSize)}var Qy=0,Jy=Object.freeze({show_legend:!0,title_mode:"auto",title:"",max_width:100,swatch_width:.75,swatch_height:1,swatch_radius:3,swatch_outline:!1,swatch_outline_color:null,legend_items_padding:.5,icon_height:1,icon_color:"#777777",icon_fill_opacity:1,icon_stroke_opacity:1,order_override:"",orientation:"horizontal"});function Ky(t){for(var e in this._state=t,Jy)void 0===this._state[e]&&(this._state[e]=Jy[e]);return this._colorFunction=void 0,this._formatFunction=void 0,this._legend_items=[],this._filtered_items=[],this._eventListeners=[],this._id="fl-legend-discrete-color-"+Qy,this._visible=!0,this._auto_title="",this._container=Wy(document.createElement("div")).attr("class","fl-legend-container").attr("id",this._id),this._container.append("p").attr("class","fl-legend-title"),Qy++,this}Ky.prototype.appendTo=function(t){if(t.appendChild(this._container.node()),!document.querySelector("#legend-styles")){var e=document.createElement("style"),n=new Vy;n.select(".fl-legend-container.interactive .fl-legend-item:hover").style("opacity",.75).style("cursor","pointer"),e.id="legend-styles",e.type="text/css",e.innerHTML=n.print(),document.head.appendChild(e)}return this},Ky.prototype.format=function(t){return this._formatFunction=t,this},Ky.prototype.getContainer=function(){return this._container},Ky.prototype.visible=function(t){return void 0===t?this._visible:(this._visible=t,this)},Ky.prototype.allowSingleEntry=function(t){return void 0===t?this._allow_single_entry:(this._allow_single_entry=t,this)},Ky.prototype.autoTitle=function(t){return void 0===t?this._auto_title:(this._auto_title=t,this)},Ky.prototype._updateTitle=function(){var t=this,e="auto"==t._state.title_mode?t.autoTitle():t._state.title;this._container.select(".fl-legend-title").text(e).style("display",(function(){return e.trim()?void 0===t._state.orientation||"horizontal"==t._state.orientation?"inline-block":"block":"none"})).style("padding-inline-start",0).style("padding-inline-end",Zy)},Ky.prototype.data=function(t,e){return this._colorFunction=e,t||e?(e?Array.isArray(t)?this._legend_items=t.slice().map((function(t,n){var r="object"==typeof t?t.label||"":t;return r?{label:r,color:e(r),index:n}:null})).filter((function(t){return null!==t})):this._legend_items=[]:this._legend_items=Array.isArray(t)?t.slice():[],this):this._legend_items.slice()},Ky.prototype.filtered=function(t){return t?(this._filtered_items=Array.isArray(t)?t.slice():[],this):this._filtered_items.slice()},Ky.prototype.on=function(t,e){return this._container?(e&&this._eventListeners.indexOf(t)<0?this._eventListeners.push(t):e||this._eventListeners.splice(this._eventListeners.indexOf[t],1),this._container.classed("interactive",this._eventListeners.length>0),e?(this._container.on(t,(function(){var t=Hy.target,n=t.parentNode,r=t.classList.contains("fl-legend-item")?t:n.classList.contains("fl-legend-item")?n:null;if(r){var i=Wy(r).datum();e.call(r,i,i.index)}})),"click"==t&&this._container.on("keydown",(function(){if("Enter"==Hy.key){var t=Hy.target,n=t.parentNode,r=t.classList.contains("fl-legend-item")?t:n.classList.contains("fl-legend-item")?n:null;if(r){var i=Wy(r).datum();e.call(r,i,i.index)}}}))):(this._container.on(t,null),"click"==t&&this._container.on("keydown",null)),this):this},Ky.prototype.update=function(){const t=this._allow_single_entry?1:2,e=this._state.show_legend&&this._visible&&this._legend_items.length>=t;return this._container.style("display",e?"":"none"),e?(this._updateTitle(),this._updateLegend(),this):this},Ky.prototype._updateLegend=function(){var t,e=this,n=this._formatFunction;this._container.style("max-width",Gy(this._state.max_width)+"px").style("display","inline-flex").style("flex-wrap","wrap").style("align-items","horizontal"==this._state.orientation?"center":"start").style("align-content","horizontal"==this._state.orientation?"center":null).style("flex-direction","horizontal"==this._state.orientation?null:"column").style("max-height",.5*window.innerHeight+"px").style("overflow-y","auto"),t=this._state.order_override.trim()?function(t,e){for(var n={},r=e.split(/\s*\n\s*/),i=0;i<r.length;i++)n[r[i]]=i;for(var o=[],a=0;a<t.length;a++){var u=t[a],l=n[u.label];void 0!==l&&(o[l]=u)}return o.filter((function(t){return void 0!==t}))}(this._legend_items,this._state.order_override):this._legend_items;var r=this._container.selectAll(".fl-legend-item").data(t),i=r.enter().append("div").attr("class","fl-legend-item");i.append("div").attr("class","fl-legend-swatch");let o=i.append("div").attr("class","fl-legend-icon-container");o.append("svg").attr("class","fl-legend-icon fl-ignore-svg-download").append("path"),o.append("img").attr("class","fl-legend-icon"),o.append("div").attr("class","fl-legend-icon"),i.append("p").attr("class","fl-legend-label");var a=r.merge(i),u=this._eventListeners.length>0;a.style("display","horizontal"==this._state.orientation?"inline-flex":"flex").style("flex-direction",(function(t){return t.reverse?"row-reverse":"row"})).style("opacity",(function(t){return e._filtered_items.indexOf(t.label)>-1?.2:""})).style("align-items","center").style("padding-inline-end","horizontal"==this._state.orientation?this._state.legend_items_padding+"rem":0).style("padding-inline-start",0).attr("tabindex",u?"0":null).attr("role",u?"button":null),a.select(".fl-legend-swatch").style("height",this._state.swatch_height+"rem").style("width",this._state.swatch_width+"rem").style("border-radius",this._state.swatch_radius+"px").style("background-color",(function(t){return t.color})).style("border",(()=>this._state.swatch_outline?this._state.swatch_outline_color?`1px solid ${this._state.swatch_outline_color}`:"1px solid":"none")).style("box-sizing",this._state.swatch_outline?"border-box":"content-box").style("flex-shrink","0").style("display",(function(t){return t.icon?"none":null}));const l=a.filter((t=>t.icon));return l.each((function(t){let n=Math.ceil(Gy(e._state.icon_height)),r="auto";if(t.icon.width){let n=t.icon.width,i=t.icon.height,o=t.outline?i*t.stroke_thickness:0;n+=o,i+=o;let a=n/i,u=Gy(e._state.icon_height*a);r=Math.ceil(u)}let i=.25*e._state.text_size+"rem";Wy(this).selectAll(".fl-legend-icon").attr("height",n).attr("width",r).style("margin-right",i)})),a.select(".fl-legend-icon-container").style("display",(function(t){return t.icon?null:"none"})),l.each((function(t){Wy(this).select("svg.fl-legend-icon").style("display",t.icon.path_string?"inline":"none"),Wy(this).select("img.fl-legend-icon").style("display",t.icon.url?"inline":"none"),Wy(this).select("div.fl-legend-icon").style("display",t.icon.html?"inline-block":"none")})),l.filter((t=>t.icon.url)).select("img.fl-legend-icon").attr("src",(t=>t.icon.url)),l.filter((t=>t.icon.html)).select("div.fl-legend-icon").html((t=>t.icon.html)).style("font-size",`${Math.ceil(Gy(this._state.icon_height))}px`).style("color",(function(t){return t.outline?"none":t.fill||t.color||e._state.icon_color})),l.filter((t=>t.icon.path_string)).select("svg.fl-legend-icon path").attr("d",(function(t){return t.icon?t.icon.path_string:null})).attr("transform",(function(t){if(!t.icon)return null;var n=t.icon.height,r=t.outline?n*t.stroke_thickness:0;n+=r;var i="scale("+Gy(e._state.icon_height)/n+")";return i+="translate("+.5*r+","+.5*r+")"})).style("fill",(function(t){return t.outline?"none":t.fill||t.color||e._state.icon_color})).style("fill-opacity",(function(t){return t.outline?0:t.fill_opacity||e._state.icon_fill_opacity})).style("stroke",(function(t){return t.outline||t.stroke?t.stroke||t.color||e._state.icon_color:"none"})).style("stroke-width",(function(t){if(!t.outline&&!t.stroke_width)return 0;var e=t.icon.height*t.stroke_thickness;return t.stroke_width||e})).style("stroke-opacity",(function(t){return t.outline||t.stroke_opacity?t.stroke_opacity||e._state.icon_stroke_opacity:0})),a.select(".fl-legend-label").text((function(t){return n?n(t.label):t.label})).style("margin",0).style("user-select","none").style("padding-inline-end",0).style("padding-inline-start",Zy),r.exit().remove(),this._legend_item_els=a,this},Ky.prototype.prepareScreenshotSVG=function(){this._state.show_legend&&this._visible&&this._legend_items.length&&xe("#fl-layout-wrapper",this._id+"-svg-screenshot-container").addTextElements(".fl-legend-title").addCircleElements(".fl-legend-swatch").addTextElements(".fl-legend-label")},Ky.prototype.clearScreenshotSVG=function(){const t=document.getElementById(this._id+"-svg-screenshot-container");t&&t.remove()};var tb,eb,nb,rb,ib=Object.freeze({alignment:"start",orientation:"horizontal",text_color:null,title_weight:"bold",text_weight:"normal",text_size:1});function ob(t){for(var e in this._state=t,ib)void 0===this._state[e]&&(this._state[e]=ib[e]);return this}ob.prototype.appendTo=function(t){return this._container=Wy(t).append("div").node(),this},ob.prototype.add=function(t){this._legends=Array.isArray(t)?t:[t];var e=this;return this._legends.forEach((function(t){t&&"function"==typeof t.appendTo?t.appendTo(e._container):console.warn("Please pass in valid legend instances into .add()")})),this},ob.prototype.update=function(){var t=window.template||void 0,e=t?t.state.layout:void 0;eb=this._state.text_color||t&&e&&e.font_color||"#333333",nb=e?e.body_font.name:window.getComputedStyle(document.body).fontFamily,tb=this._state.text_size,rb=this._state.text_weight;var n={family:nb,weight:rb,size:tb,color:eb};this._legends.forEach((function(t){t&&"function"==typeof t.update&&t.update(n)}));var r="horizontal"===this._state.orientation,i=this._state.alignment,o="center"==i?i:"flex-"+i;return Wy(this._container).style("justify-content",r?o:null).style("align-items",r?null:o).style("display","flex").style("flex-direction",r?"row":"column"),Wy(this._container).selectAll(".fl-legend-container").style("padding-inline-end",(function(){return r?"0.5rem":0})).style("padding-bottom",(function(){return r?0:"0.25rem"})).style("justify-content",o),Wy(this._container).selectAll(".fl-legend-title").style("color",this._state.text_color).style("font-weight",this._state.title_weight).style("font-size",tb+"rem").style("margin-right",.25*tb+"rem").style("line-height","1.25em").style("margin-top",0).style("margin-bottom",0).style("text-align",i),Wy(this._container).selectAll(".fl-legend-item").style("display","inline-flex").style("text-align",i),Wy(this._container).selectAll(".fl-legend-label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",tb+"rem"),Wy(this._container).selectAll(".label").style("color",this._state.text_color).style("font-weight",this._state.text_weight).style("font-size",tb+"rem"),this};const ab=function(t){for(var e in bi=t,yi)void 0===bi[e]&&(bi[e]=yi[e]);return(Ae=document.createElement("style")).id="flourish-page-styles",Ae.type="text/css",document.head.appendChild(Ae),Ai.wrapper=function(){var t=document.createElement("div");t.id="fl-layout-wrapper-outer",t.style.display="flex";var e=document.createElement("main");e.id="fl-layout-wrapper",e.style.display="flex",e.style.flexGrow="1",e.style.flexDirection="column",e.style.boxSizing="border-box",e.style.overflow="hidden";var n=document.createElement("aside");return n.id="fl-layout-sidebar",n.style.position="relative",Ai.sidebar=n,t.appendChild(e),t.appendChild(n),document.body.appendChild(t),e}(),Mi.forEach((function(t,e){Ai[t]=Ci(t,e)})),$i("header").appendChild(function(){(Ee=document.createElement("header")).className="flourish-header";var t=document.createElement("hgroup");return De=document.createElement("h2"),Fe=document.createElement("h3"),Ue=document.createElement("p"),(He=document.createElement("div")).className="clearfix",(je=document.createElement("div")).className="flourish-header-logo-container",Ee.appendChild(je),Ee.appendChild(t),t.appendChild(De),t.appendChild(Fe),Ee.appendChild(Ue),Ee.appendChild(He),Ee}()),$i("footer").appendChild(ci()),Ai.primary.outer.style.overflow="hidden",function(){var t=Ai.primary.outer;t.style.position="relative",(ki=document.createElement("div")).id="fl-layout-overlay";var e=ki.style;e.position="absolute",e.display="none",e.width="100%",e.height="100%",e.top=0,e.left=0,e.backgroundColor="rgb(200,200,200)",e.zIndex=999999,e.pointerEvents="none";var n=document.createElement("p");n.className="fl-layout-overlay-message",(e=n.style).color="#333333",e.fontSize="1.5rem",e.paddingLeft="15%",e.paddingRight="15%",e.width="100%",e.boxSizing="border-box",e.position="absolute",e.top="50%",e.transform="translate(0, -50%)",e.margin="0",e.textAlign="center",ki.appendChild(n),t.appendChild(ki)}(),{update:gi,getWrapper:Si,getSidebar:zi,getSection:$i,getOuterWidth:Ei,getInnerWidth:Di,getOuterHeight:Fi,getInnerHeight:Ui,getPrimaryHeight:Hi,getPrimaryWidth:ji,getDefaultPrimaryHeight:qi,getPrimaryScreenReadability:Oi,setHeight:Bi,showOverlay:Ri,remToPx:Pe,getOverlay:Ii,awaitFonts:wi,prepareScreenshotSVG:Vi,clearScreenshotSVG:Xi}}(e.layout),ub=function(t){var e=null;for(var n in Zi)void 0===t[n]&&(t[n]=Zi[n]);var r=null,i=function(t){return e&&e(t)||r};return{getColor:i,updateColorScale:function(n){return"number"!=typeof n[0]?e=function(t,e){var n={},r=we(e).values(),i=t.categorical_palette,o=i.length;if(t.categorical_extend){var a=Zi.rotation_angle,u=Ki.hcl(i,a);r.forEach((function(t,e){n[t]=e<o?i[e]:u()}))}else r.forEach((function(t,e){n[t]=i[e%o]}));t.categorical_custom_palette.split("\n").filter(Boolean).forEach((function(t){var e=t.lastIndexOf(":");if(-1!==e){var r=t.slice(0,e).trim(),i=t.slice(e+1).trim();r&&i&&(n[r]=i)}}));var l=function(t){return n[t]};return l.domain=r.slice(),l.colors=r.map((function(t){return n[t]})),l.items=r.map((function(t){return{label:t,color:n[t]}})),l}(t,n):"sequential"===t.numeric_type?e=Ys(t,n):"diverging"===t.numeric_type&&(e=function(t,e){var n=Os(e),r=n[0]<0&&n[1]>0?0:(n[0]+n[1])/2,i=[n[0],r,n[1]];t.diverging_custom_domain&&(i=[t.diverging_domain_min,t.diverging_domain_mid,t.diverging_domain_max]);var o=function(e){var n=Bs[t.diverging_palette]||Is(t);return t.diverging_reverse?n(1-e):n(e)};if(t.binning)return js(t,i,e,o);var a=Xc(o).domain(i),u=function(t){return isNaN(t)||null===t?null:a(t)};return u.domain=Object.freeze(i),u.midpoint=t.diverging_custom_domain?t.diverging_domain_mid:r,u}(t,n)),i.thresholds=e.thresholds,i.centers=e.centers,i.midpoint=e.midpoint,i.domain=e.domain,i.colors=e.colors,i.items=e.items,this},fallback:function(t){return void 0===t?r:(r="default"===t?null:t,this)}}}(e.color),lb=function(t){return new ob(t)}(e.legend_container),cb=function(t){return new Ky(t)}(e.legend_categorical);let sb;!function(){const t=pt(ab.getSection("primary")).append("div").attr("class","timeline-container").append("div").attr("class","timeline-inner").append("svg").style("overflow","visible").attr("class","timeline-svg");sb=qm(t,{x:e.x,y:e.y,background:e.chart_bg})}(),lb.appendTo(ab.getSection("legend")).add([cb]);var fb,db,hb={},pb=0,gb=0,_b=0,mb=1e3,yb=0,bb=0,vb=0,wb="object"==typeof performance&&performance.now?performance:Date,xb="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function kb(){return bb||(xb(Mb),bb=wb.now()+vb)}function Mb(){bb=0}function Ab(){this._call=this._time=this._next=null}function Tb(t,e,n){var r=new Ab;return r.restart(t,e,n),r}function Nb(){bb=(yb=wb.now())+vb,pb=gb=0;try{!function(){kb(),++pb;for(var t,e=fb;e;)(t=bb-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pb}()}finally{pb=0,function(){var t,e,n=fb,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:fb=e);db=t,Sb(r)}(),bb=0}}function Cb(){var t=wb.now(),e=t-yb;e>mb&&(vb-=e,yb=t)}function Sb(t){pb||(gb&&(gb=clearTimeout(gb)),t-bb>24?(t<1/0&&(gb=setTimeout(Nb,t-wb.now()-vb)),_b&&(_b=clearInterval(_b))):(_b||(yb=wb.now(),_b=setInterval(Cb,mb)),pb=1,xb(Nb)))}function zb(t,e,n){var r=new Ab;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Ab.prototype=Tb.prototype={constructor:Ab,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?kb():+n)+(null==e?0:+e),this._next||db===this||(db?db._next=this:fb=this,db=this),this._call=t,this._time=n,Sb()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sb())}};var $b=md("start","end","cancel","interrupt"),Eb=[],Db=0,Fb=1,Ub=2,Hb=3,jb=4,Ob=5,Lb=6;function qb(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=Fb,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var c,s,f,d;if(n.state!==Fb)return l();for(c in i)if((d=i[c]).name===n.name){if(d.state===Hb)return zb(a);d.state===jb?(d.state=Lb,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=Lb,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(zb((function(){n.state===Hb&&(n.state=jb,n.timer.restart(u,n.delay,n.time),u(o))})),n.state=Ub,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ub){for(n.state=Hb,r=new Array(f=n.tween.length),c=0,s=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++s]=d);r.length=s+1}}function u(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(l),n.state=Ob,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===Ob&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){for(var r in n.state=Lb,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Tb(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:$b,tween:Eb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Db})}function Pb(t,e){var n=Bb(t,e);if(n.state>Db)throw new Error("too late; already scheduled");return n}function Yb(t,e){var n=Bb(t,e);if(n.state>Hb)throw new Error("too late; already running");return n}function Bb(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Rb(t,e){var n,r;return function(){var i=Yb(this,t),o=i.tween;if(o!==n)for(var a=0,u=(r=n=o).length;a<u;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Ib(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Yb(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var u={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=u;break}l===c&&i.push(u)}o.tween=i}}function Wb(t,e,n){var r=t._id;return t.each((function(){var t=Yb(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Bb(t,r).value[e]}}function Vb(t,e){var n;return("number"==typeof e?Ha:e instanceof Ft?za:(n=Ft(e))?(e=n,za):qa)(t,e)}function Xb(t){return function(){this.removeAttribute(t)}}function Zb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Gb(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Qb(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Jb(t,e,n){var r,i,o;return function(){var a,u,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,l));this.removeAttribute(t)}}function Kb(t,e,n){var r,i,o;return function(){var a,u,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(u=l+"")?null:a===r&&u===i?o:(i=u,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function tv(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function ev(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function nv(t,e){return function(){Pb(this,t).delay=+e.apply(this,arguments)}}function rv(t,e){return e=+e,function(){Pb(this,t).delay=e}}function iv(t,e){return function(){Yb(this,t).duration=+e.apply(this,arguments)}}function ov(t,e){return e=+e,function(){Yb(this,t).duration=e}}var av=ht.prototype.constructor;function uv(t){return function(){this.style.removeProperty(t)}}var lv=0;function cv(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function sv(){return++lv}var fv=ht.prototype;cv.prototype={constructor:cv,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=c(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,l,s=r[a],f=s.length,d=o[a]=new Array(f),h=0;h<f;++h)(u=s[h])&&(l=t.call(u,u.__data__,h,s))&&("__data__"in u&&(l.__data__=u.__data__),d[h]=l,qb(d[h],e,n,h,d,Bb(u,n)));return new cv(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=f(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var l,c=r[u],s=c.length,d=0;d<s;++d)if(l=c[d]){for(var h,p=t.call(l,l.__data__,d,c),g=Bb(l,n),_=0,m=p.length;_<m;++_)(h=p[_])&&qb(h,e,n,_,p,g);o.push(p),a.push(l)}return new cv(o,a,e,n)},selectChild:fv.selectChild,selectChildren:fv.selectChildren,filter:function(t){"function"!=typeof t&&(t=h(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,l=r[i]=[],c=0;c<u;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new cv(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var l,c=e[u],s=n[u],f=c.length,d=a[u]=new Array(f),h=0;h<f;++h)(l=c[h]||s[h])&&(d[h]=l);for(;u<r;++u)a[u]=e[u];return new cv(a,this._parents,this._name,this._id)},selection:function(){return new av(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=sv(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,c=0;c<l;++c)if(a=u[c]){var s=Bb(a,e);qb(a,t,n,c,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new cv(r,this._parents,t,n)},call:fv.call,nodes:fv.nodes,node:fv.node,size:fv.size,empty:fv.empty,each:fv.each,on:function(t,e){var n=this._id;return arguments.length<2?Bb(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Pb:Yb;return function(){var a=o(this,t),u=a.on;u!==r&&(i=(r=u).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=i(t),r="transform"===n?Ja:Vb;return this.attrTween(t,"function"==typeof e?(n.local?Kb:Jb)(n,r,Wb(this,"attr."+t,e)):null==e?(n.local?Zb:Xb)(n):(n.local?Qb:Gb)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=i(t);return this.tween(n,(r.local?tv:ev)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Qa:Vb;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=H(this,t),a=(this.style.removeProperty(t),H(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,uv(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=H(this,t),u=n(this),l=u+"";return null==u&&(this.style.removeProperty(t),l=u=H(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,u))}}(t,r,Wb(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,u="end."+a;return function(){var l=Yb(this,t),c=l.on,s=null==l.value[a]?o||(o=uv(e)):void 0;c===n&&i===s||(r=(n=c).copy()).on(u,i=s),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=H(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Wb(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Bb(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Rb:Ib)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?nv:rv)(e,t)):Bb(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?iv:ov)(e,t)):Bb(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Yb(this,t).ease=e}}(e,t)):Bb(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Yb(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var u={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=Yb(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(u),e._.interrupt.push(u),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:fv[Symbol.iterator]};var dv={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function hv(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function pv(t){throw new TypeError("Expected a value of type string but got a value of type "+typeof t)}function gv(t){return function(e){return"string"!=typeof e&&pv(e),(e=e.trim())?t(e):null}}ht.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Ub&&n.state<Ob,n.state=Lb,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},ht.prototype.transition=function(t){var e,n;t instanceof cv?(e=t._id,t=t._name):(e=sv(),(n=dv).time=kb(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],l=u.length,c=0;c<l;++c)(a=u[c])&&qb(a,t,e,c,u,n||hv(a,e));return new cv(r,this._parents,t,e)};var _v=new Date(1972,3,27,19,45,5),mv={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(t){return new Date(null,5,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(t){return new Date(null,6,t.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(t){return new Date(null,8,t.split(/\s/)[0])}}]};function yv(t){return function(e){var n=null;return t.forEach((function(t){e.match(t.regex)&&(n=t.toDate(e))})),n}}function bv(t,e){var n,r=Cl(t),i=Nl(t);return n=gv("function"==typeof e?function(t){return e(t,null!==r(t))}:function(t){return null!==r(t)}),Object.freeze({test:n,parse:gv((function(e){return r(e)||(mv[t]?yv(mv[t])(e):null)})),format:function(t){return i(t)},type:"datetime",description:t,id:"datetime$"+t,example:i(_v)})}var vv=Object.freeze([bv("%Y-%m-%dT%H:%M:%S.%LZ"),bv("%Y-%m-%d %H:%M:%S"),bv("%Y-%m-%dT%H:%M:%S"),bv("%Y-%m-%dT%H:%M:%SZ"),bv("%d/%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),bv("%d/%m/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),bv("%d/%m/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),bv("%m/%d/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),bv("%m/%d/%Y %H:%M",(function(t,e){if(!e)return!1;var n=t.split(/[/ :]/).map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3&&n[3]>=0&&n[3]<24&&n[4]>=0&&n[4]<60})),bv("%m/%d/%y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),bv("%Y/%m/%d",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),bv("%d-%m-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),bv("%d-%m-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),bv("%d.%m.%Y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),bv("%m.%d.%y",(function(t,e){if(!e)return!1;var n=t.split(".").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),bv("%m-%d-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),bv("%m-%d-%y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),bv("%Y-%m-%d",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),bv("%Y-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12})),bv("%Y%m",(function(t,e){if(!e)return!1;var n=parseFloat(t.slice(0,4)),r=parseFloat(t.slice(4));return n>1e3&&r>0&&r<=12})),bv("%d %b %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),bv("%d %B %Y",(function(t,e){if(!e)return!1;var n=t.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),bv("%d %b %y"),bv("%-d %b ’%y"),bv("%d %B %y"),bv("%d-%b-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),bv("%d-%B-%Y",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),bv("%d-%b-%y"),bv("%d-%B-%y"),bv("%m/%Y",(function(t,e){if(!e)return!1;var n=t.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),bv("%m/%y"),bv("%b %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),bv("%B %Y",(function(t,e){return!!e&&t.split(" ").map(parseFloat)[1]>=1e3})),bv("%b-%y"),bv("%b %y"),bv("%B %y"),bv("%b '%y"),bv("%b ’%y"),bv("%B %-d %Y"),bv("%d %b",(function(t,e){return!!e||!!yv(mv["%d %b"])(t)})),bv("%d %B"),bv("%b %d",(function(t,e){return!!e||!!yv(mv["%b %d"])(t)})),bv("%B %d"),bv("%d-%m",(function(t,e){if(!e)return!1;var n=t.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),bv("%m-%d"),bv("%d/%m"),bv("%m/%d"),bv("%b %d %Y"),bv("%b %d %Y, %-I.%M%p"),bv("%Y",(function(t,e){if(!e)return!1;var n=parseFloat(t);return n>1499&&n<2200})),bv("%B"),bv("%b"),bv("%X"),bv("%I:%M %p"),bv("%-I.%M%p"),bv("%H:%M",(function(t,e){if(!e)return!1;var n=t.split(":").map(parseFloat);return n[0]>=0&&n[0]<24})),bv("%H:%M:%S"),bv("%M:%S"),bv("%-I%p"),bv("Q%q %Y",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length})),bv("%Y Q%q",(function(t,e){return!!e&&6===t.replace(/\s/g,"").length}))]);var wv={test:gv((function(t){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:gv((function(t){return parseFloat(t.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},xv={test:gv((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:gv((function(t){return parseFloat(t.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},kv={test:gv((function(t){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:gv((function(t){return parseFloat(t)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},Mv={test:gv((function(t){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:gv((function(t){return parseFloat(t.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},Av={test:gv((function(t){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:gv((function(t){return parseFloat(t.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Tv={test:gv((function(t){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(t.trim())})),parse:gv((function(t){return parseFloat(t.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},Nv=Object.freeze([wv,xv,Mv,Av,kv,Tv]);Nv.forEach((function(t){t.type="number",t.format=function(t){var e,n,r=Tu({decimal:t.decimal_mark,thousands:t.thousand_separator,grouping:[3],currency:["",""]});return function(t,i){return null===t?"":(i||(i=",.2f"),i!==n&&(n=i,e=r.format(n)),e(t))}}(t),Object.freeze(t)}));var Cv,Sv=Object.freeze({test:function(t){return"string"==typeof t||pv(t)},parse:function(t){return"string"==typeof t?t:pv(t)},format:function(t){if("string"==typeof t)return t},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),zv=Object.freeze({datetime:vv,number:Nv}),$v=Object.freeze(["datetime","number","string"]),Ev=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),Dv=Object.freeze(Object.keys(Ev));function Fv(t,e){return t.index-e.index}function Uv(t,e){return e.n_success-t.n_success||Fv(t,e)}function Hv(t){return(""+t).trim()}function jv(t){return void 0===t?function(t){return Hv(t)}:"function"==typeof t?function(e,n){return Hv(t(e,n))}:function(e){return Hv(e[""+t])}}function Ov(t){t?Array.isArray(t)||(t=[t]):t=$v;var e=t.reduce((function(t,e){var n=zv[e];return n&&Array.prototype.push.apply(t,n),t}),[]),n=-1!==t.indexOf("string"),r=Dv.reduce((function(t,e){return t[e]=Ev[e],t}),{}),i=function(t,i){i=jv(i);var o=t.map(i).filter(Boolean);if(!o.length)return n?[Sv]:[];var a=Math.min(r.n_max,o.length),u=Math.floor(a*r.failure_fraction),l=r.n_failing_values,c=r.sort?Uv:Fv,s=e.slice().reduce((function(t,e,n){for(var r=s=0,i=[],c=!1,s=0;s<a;s++){var f=o[s];if(!e.test(f)&&(++r>u?c=!0:-1===i.indexOf(f)&&(i.push(f),i.length>l&&(c=!0)),c))break}return c||t.push({interp:e,n_success:a-r,index:n}),t}),[]).sort(c).map((function(t){return t.interp}));return n&&s.push(Sv),s};return Dv.forEach((function(t){var e;i[(e=t,e.replace(/_(\w)/g,(function(t,e){return e.toUpperCase()})))]=function(e){return void 0===e?r[t]:(r[t]=e,i)}})),i}let Lv,qv;function Pv(){qv={...Lv};e.legend_filtered.length>0&&(qv.events=qv.events.filter((t=>!(e.legend_filtered.indexOf(t.category)>-1))).map(((t,e)=>({...t,filtered_row_index:e}))))}function Yv(t){let e=t=>""+t;const n=hb.data.metadata;if(!n)return e;const r=n[t];return r?"string"==r.type?e:function(t){const e=Ov.getInterpretation(t);if(!e)throw new Error(`format_id ${t} not recognised`);return function(){return e.format(...arguments)}}(r.output_format_id):e}function Bv(t){if(t){var n=(t.length>0&&void 0!==t[0]?t:[]).map((t=>({label:t,color:ub.getColor(t)})));cb.data(n).filtered(e.legend_filtered).on("click",(function(t){var r=e.legend_filtered.indexOf(t.label),i=e.legend_filtered.length+1==n.length;if(r<0&&i)return null;r<0?e.legend_filtered.push(t.label):e.legend_filtered.splice(r,1),Pv(),Hx()})).update(),lb.update()}}function Rv(t,e){var n;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(t)?(3==(n=t.substring(1).split("")).length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]),`rgba(${[(n="0x"+n.join(""))>>16&255,n>>8&255,255&n].join(",")}, ${void 0===e?1:e})`):(console.warn("Bad Hex"),null)}function Iv(t){return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))}function Wv(t){return t.actual_row_index}function Vv(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Xv(t){return+t}Ov.DATETIME_IDS=Object.freeze(vv.map((function(t){return t.id}))),Ov.NUMBER_IDS=Object.freeze(Nv.map((function(t){return t.id}))),Ov.STRING_IDS=Object.freeze([Sv.id]),Ov.getInterpretation=(Cv=vv.concat(Nv,Sv).reduce((function(t,e){return t[e.id]=e,t}),{}),function(t){return Cv[t]}),Ov._createAccessorFunction=jv;var Zv=[0,1];function Gv(t){return t}function Qv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Jv(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=Qv(i,r),o=n(a,o)):(r=Qv(r,i),o=n(o,a)),function(t){return o(r(t))}}function Kv(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=Qv(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Sn(t,e,1,r)-1;return o[n](i[n](e))}}function tw(){var t,e,n,r,i,o,a=Zv,u=Zv,l=Pa,c=Gv;function s(){var t,e,n,l=Math.min(a.length,u.length);return c!==Gv&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?Kv:Jv,i=o=null,f}function f(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),u,l)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(u,a.map(t),Ha)))(n)))},f.domain=function(t){return arguments.length?(a=Array.from(t,Xv),s()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),s()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),l=Ya,s()},f.clamp=function(t){return arguments.length?(c=!!t||Gv,s()):c!==Gv},f.interpolate=function(t){return arguments.length?(l=t,s()):l},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,s()}}function ew(t,e,n,r){var i,o=function(t,e,n){n=+n;const r=(e=+e)<(t=+t),i=r?Fn(e,t,n):Fn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}(t,e,n);switch((r=_u(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Cu(o,a))||(r.precision=i),ku(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Su(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Nu(o))||(r.precision=i-2*("%"===r.type))}return xu(r)}function nw(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){if(!((n=+n)>0))return[];if((t=+t)==(e=+e))return[t];const r=e<t,[i,o,a]=r?Dn(e,t,n):Dn(t,e,n);if(!(o>=i))return[];const u=o-i+1,l=new Array(u);if(r)if(a<0)for(let t=0;t<u;++t)l[t]=(o-t)/-a;else for(let t=0;t<u;++t)l[t]=(o-t)*a;else if(a<0)for(let t=0;t<u;++t)l[t]=(i+t)/-a;else for(let t=0;t<u;++t)l[t]=(i+t)*a;return l}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return ew(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,l=o[a],c=o[u],s=10;for(c<l&&(i=l,l=c,c=i,i=a,a=u,u=i);s-- >0;){if((i=Fn(l,c,n))===r)return o[a]=l,o[u]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function rw(){var t=tw()(Gv,Gv);return t.copy=function(){return e=t,rw().domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown());var e},Vv.apply(t,arguments),nw(t)}function iw(t){switch(t){case"start":return"start";case"end":return"right";default:return t}}function ow(t){const e=t.offsetHeight<t.scrollHeight,n=t.querySelector(".content_inner"),r=n.offsetWidth,i=n.scrollWidth;return e||r<i}function aw(t,n){let r=e.content_border_color_custom||e.layout.font_color,i=e.content_border_opacity,o=e.content_border_width,a="custom"==e.content_border_color?r:n;e.individual_borders&&(r=e[`content_border_${t}_color_custom`]||e.layout.font_color,a="custom"==e[`content_border_${t}_color`]?r:n,o=e[`content_border_${t}_width`],i=e[`content_border_${t}_opacity`]);return`${o}px solid ${Rv(a,i)}`}function uw(t,n){let r=e["content_"+t+"_alignment"];const i=e["content_"+t+"_color_custom"]||e.layout.font_color;return[`font-size: ${"custom"==e["content_"+t+"_size"]?e["content_"+t+"_size_custom"]:e["content_"+t+"_size"]}rem;`,`font-weight: ${e["content_"+t+"_weight"]};`,`color: ${"custom"==e["content_"+t+"_color"]?i:n};`,`line-height: ${e["content_"+t+"_line_height"]}rem;`,`justify-content: ${"center"===r?r:"flex-"+r};`,`text-align: ${iw(e["content_"+t+"_alignment"])};`,`margin-top: ${"custom"==e["content_"+t+"_space_above"]?e["content_"+t+"_space_above_custom"]:e["content_"+t+"_space_above"]}rem;`].join(" ")}function lw(t){const n="float"==e.image_display?parseFloat(e.image_float_position):parseFloat(e.image_inline_position),r="inline"==e.image_display||"float"==e.image_display,i=t.image&&"content"==e.image_location&&r,o=i&&"float"===e.image_display,a=t.image?`url(${t.image})`:"none",u=`\n\t\t.content-container a {\n\t\t\ttext-decoration: none;\n\t\t\tpointer-events: auto;\n\t\t\tfont-weight: ${e.link_weight};\n\t\t\tcolor: ${e.link_color};\n\t\t\tborder-bottom: ${e.link_underline?1:0}px solid ${e.link_color}\n\t\t}`,l=`<p class="tl-content__title" style="${uw("title",t.color)}">${t.title}</p>`,c=t.subtitle?`<p class="tl-content__subtitle" style="${uw("subtitle",t.color)}">${t.subtitle}</p>`:"",s=t.text?`<p class="tl-content__text" style="${uw("text",t.color)}"><span>${t.text}</span></p>`:"",f="rtl"===e.layout.read_direction&&"horizontal"===gx,d=e.image_margin,h=`${"inline"==e.image_display&&n>1?d:0}rem`,p=`${"float"==e.image_display&&n<2?d:0}rem`,g=`${"inline"==e.image_display&&n<3?d:0}rem`,_=`${"float"==e.image_display&&n>1?d:0}rem`,m=[`width: ${e.image_width}rem;`,`height: ${e.image_width*e.image_aspect}rem;`,`margin-top: ${h};`,`margin-right: ${f?_:p};`,`margin-bottom: ${g};`,`margin-left: ${f?p:_};`,`opacity: ${e.image_opacity};`,`background-size: ${"zoom"==e.image_content_sizing?e.image_content_zoom+"%":e.image_content_sizing};`],y=`\n\t\t<div class="image-container" style="${[`width: ${"inline"==e.image_display?"100%":"auto"};`,`order: ${n};`,`justify-content: ${"center"===e.image_alignment?e.image_alignment:"flex-"+e.image_alignment};`].join(" ")}">\n\t\t\t<div class="image" style="background-image: url(${t.image}); ${m.join(" ")}"></div>\n\t\t</div>\n\t\t`,b="custom"==e.content_banner_depth?e.content_banner_depth_custom:e.content_banner_depth,v=`<div class="content_banner" style="${[`height: ${"banner"==e.image_display&&"content"==e.image_location&&t.image?b:0}rem;`,`background-image: ${a};`,`opacity: ${e.image_opacity};`,`background-size: ${"zoom"==e.image_content_sizing?e.image_content_zoom+"%":e.image_content_sizing};`,"background-repeat: no-repeat;","background-position: center;"].join(" ")}"></div>`,w=`<div class="content_background_overlay" style="${["width: 100%;","height: 100%;",`opacity: ${1-e.image_opacity};`,`background-color: ${e.content_background_color?e.content_background_color:e.layout.background_color}`].join(" ")}"></div>`;return`\n\t\t${"content"==e.image_location&&"background"==e.image_display?w:""}\n\t\t${v}\n\t\t<div class="content_inner" style="padding: ${e.content_padding}rem; border-top: ${aw("top",t.color)};">\n\t\t\t${i?y:""}\n\t\t\t<style>\n\t\t\t\t${u}\n\t\t\t</style>\n\t\t\t<div style="display: flex; flex: 1 1; flex-flow: row wrap; align-content: flex-start; align-self: start; justify-content: flex-start; order: 1;">\n\t\t\t\t${l}\n\t\t\t\t${c}\n\t\t\t\t${o?s:""}\n\t\t\t\t</div>\n\t\t\t${o?"":s}\n\t\t</div>\n\t\t\t`}function cw(t,e,n){let r=yx?t.content_offset:0;if("horizontal"!==gx)return`${n(Dx(t))+r}px`;return`${e%2==0?_w.top:_w.center+(pw.width+gw.marker_connectors)/2+_w.top}px`}function sw(t,e,n){let r=yx?t.content_offset:0;if("horizontal"===gx)return`${n(Dx(t))+r}px`;return`${e%2==0?_w.left:_w.center+_w.left+gw.track/2}px`}let fw={},dw={},hw={},pw={},gw={},_w={},mw=0;function yw(t,e){qv.events.forEach(((n,r)=>{n[t]=e[r]}))}function bw(t){const n="horizontal"==gx,r=ab.remToPx(1),i=Ax.node().getBoundingClientRect(),o=sb.plot_width,a=sb.plot_height,u=n?a:o,l=qv.events.length;fw={width:ab.getPrimaryWidth(),height:ab.getPrimaryHeight(),top:i.top,left:i.left},pw={radius:r*e.marker_size,diameter:r*e.marker_size*2,border:r*e.marker_border_width,width:r*(e.marker_border_width+e.marker_size)*2};const c=r*e.connector_space;gw={marker_connectors:2*c,track:pw.width+2*c,content:u-(pw.width+2*c)};const s=n?"height":"width",f=gw.content/2,d=n?"width":"height",h=function(t,n,r,i,o){const a=(u=t,l=r,Ax.select(".content-container").append("div").classed("content_placeholder",!0).style(u,`${l}px`).style("opacity","0").style("padding",`${e.content_padding}rem`));var u,l;let c=0,s=0,f=0,d=0,h=[],p=[],g=0;const _=a.node(),m=`offset${Iv(n)}`,y=1,b=100;return qv.events.forEach(((t,r)=>{a.style(n,y*i+"px").html(lw(t));let u=0,l=_[m];for(;ow(_)&&++u<b;)l=_[m]+i,a.style(n,`${l}px`);const g=r===o-1,v=r===o-2,w=i*e.content_space_between;if(h.push(l),p.push(l+w),g)f=Math.max(s,c);else if(r%2?s+=l+w:c+=l+w,!v){const t=Math.max(...p);d=t*(o/2-.5)}})),g=yx?f:d,a.remove(),{without_space:h,with_space:p,total_size:g}}(s,d,f,r,l),p=h.without_space.length?h.without_space[l-1]:0;let g,_=Math.max(h.total_size,fw[d]-p),m=0;if(yx&&t){const e=200,n=fw[d]/3,r=mx?e:n,i=t.domain().sort(((t,e)=>t-e)),o=[0,_];g=rw().domain(i).range(o);let a=Array(l).fill(-r);a=vw(a,h.with_space,r,g);let u=a.every((t=>t<r));const c=100;let s=0;for(;yx&&!u&&s<100;){m+=c;const t=[0,_+m];g.range(t),a=vw(a,h.with_space,r,g),u=a.every((t=>t<r)),s++}a=function(t,e,n){return qv.events.forEach(((r,i)=>{const o=qv.events.length-(i+1),a=t[o],u=e[o],l=n(Dx(qv.events[o]))+u,c=qv.events[o+2]?qv.events[o+2]:null,s=void 0!==t[o+2]?t[o+2]:1/0,f=c?n(Dx(c)):1/0,d=Math.max(0,f+s-(l+a)),h=a<0;t[o]=h?d+(u+a)>u?0:a+d:a})),t}(a,h.with_space,g),yw("content_offset",a)}yw(`offset_${d}`,h.without_space),yw(`offset_${s}`,Array(l).fill(f));const y=yx?_+m:_,b=qv.events.reduce(((t,e,n)=>{let r=0;return r+=g?g(Dx(e)):y/(l-1)*n,r+=e.content_offset,r+=e[`offset_${d}`],Math.max(t,r-y)}),0),v="background"in hb.data.column_names,w=pw.width/2+y+(b-pw.width/2),x=v&&!mx,k=fw[d]/2-pw.width/2,M=x?k:0,A=b>k,T=b-pw.width,N=x?Math.max(T,k):T;mw=v?0:(fw[d]-pw.width)/2,dw={width:n&&t?w:fw.width,height:!n&&t?w:fw.height,margin:{start:M,end:N},overflow_scroll:A?fw[d]/2:null};const C={top:n?sb.margins.top:0,right:n?0:sb.margins.right,bottom:n?sb.margins.bottom:0,left:n?0:sb.margins.left};hw={width:n&&t?y:fw.width,height:!n&&t?y:fw.height,margins:C},_w={top:sb.y_top,left:sb.x_left,center:n?sb.plot_height/2:sb.plot_width/2},sb.y_top,fw.top,sb.x_left,fw.left}function vw(t,e,n,r){return qv.events.forEach(((i,o)=>{const a=t[o],u=r(Dx(i));if(o<2)u+a<0&&(t[o]=-u);else{const i=qv.events[o-2]||null,l=t[o-2]||0,c=e[o-2]||0,s=r(Dx(i));let f=(i?s+c:a)+l-u;f<0&&(f=Math.max(-n,f)),t[o]=f}})),t}var ww=t=>()=>t;function xw(t){return 1==(t=+t)?kw:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ww(isNaN(e)?n:e)}}function kw(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ww(isNaN(t)?e:t)}var Mw=function t(e){var n=xw(e);function r(t,e){var r=n((t=Ot(t)).r,(e=Ot(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=kw(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Aw(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function Tw(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Dw(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Nw(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Cw(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Sw(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=Dw(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var zw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$w=new RegExp(zw.source,"g");function Ew(t,e){var n,r,i,o=zw.lastIndex=$w.lastIndex=0,a=-1,u=[],l=[];for(t+="",e+="";(n=zw.exec(t))&&(r=$w.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,l.push({i:a,x:Cw(n,r)})),o=$w.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)u[(n=l[r]).i]=n.x(t);return u.join("")})}function Dw(t,e){var n,r=typeof e;return null==e||"boolean"===r?ww(e):("number"===r?Cw:"string"===r?(n=Ft(e))?(e=n,Mw):Ew:e instanceof Ft?Mw:e instanceof Date?Nw:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Aw:Array.isArray(e)?Tw:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Sw:Cw)(t,e)}const Fw='<?xml version="1.0" encoding="utf-8"?><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"><path d="M256,8c137,0,248,111,248,248S393,504,256,504S8,393,8,256S119,8,256,8z M227.1,151.6l75.5,72.4H120c-13.3,0-24,10.7-24,24v16c0,13.3,10.7,24,24,24h182.6l-75.5,72.4c-9.7,9.3-9.9,24.8-0.4,34.3l11,10.9c9.4,9.4,24.6,9.4,33.9,0L404.3,273c9.4-9.4,9.4-24.6,0-33.9L271.6,106.3c-9.4-9.4-24.6-9.4-33.9,0l-11,10.9C217.2,126.8,217.4,142.3,227.1,151.6z"/></svg>';function Uw(t){if(mx)return wx.classed("show",!1),void vx.classed("show",!1);const n=dw.margin,r="horizontal"===gx&&"rtl"===e.layout.read_direction,i="horizontal"===gx?"width":"height",o=bx.node()[`client${Iv(i)}`]+n.start-fw[i],a=r?-o<0&&t>-o:o>0&&t<o,u=r?t<-n.end:t>n.start;wx.classed("show",r?a:u),vx.classed("show",r?u:a)}function Hw(t,n){const r=function(){let t={};const n=`url(${e.navigation_icon_custom})`,r="custom"==e.navigation_icon_type?n:"none",i=[`width: ${e.navigation_icon_size}rem;`,`height: ${e.navigation_icon_size}rem;`,`background-image: ${r};`,`opacity: ${e.navigation_icon_opacity};`,`fill: ${e.navigation_icon_color||e.layout.font_color};`];t.icon=i.join(" ");const o=e.navigation_gradient_color||e.layout.background_color;return t.gradient=`rgba(255, 255, 255, 0), ${Rv(o,e.navigation_gradient_opacity)}`,t}(),i="horizontal"===gx,o=i?fw.width:fw.height,a=i?0:null,u=i?null:0,l=i?0:null,c=i?null:0,s=i?90:180,f=i?270:0,d=i?`${e.navigation_gradient_width}rem`:"100%",h=i?"100%":`${e.navigation_gradient_width}rem`,p="custom"==e.navigation_icon_type?"":Fw;wx.style("background",`linear-gradient(${f}deg, ${r.gradient})`).style("width",d).style("height",h).style("top",0).style("left",0).html(`<div class="btn-nav btn-nav--prev" style="${r.icon}">${p}</div>`).on("click",(()=>{const e=Tx.node()[n];Bw(Rw(!0,o,e,t),n,t)})),vx.style("background",`linear-gradient(${s}deg, ${r.gradient})`).style("width",d).style("height",h).style("top",a).style("right",l).style("bottom",c).style("left",u).html(`<div class="btn-nav btn-nav--next" style="${r.icon}">${p}</div>`).on("click",(()=>{const e=Tx.node()[n];Bw(Rw(!1,o,e,t),n,t)}))}const jw=Ow("(prefers-reduced-motion: reduce)");function Ow(t){if("function"!=typeof window.matchMedia)return()=>!1;const e=window.matchMedia(t);let n=e.matches;return e.addEventListener("change",(t=>{n=t.matches}),!1),function(){return n}}function Lw(){Tx.node().scrollTop=0,Tx.node().scrollLeft=0}function qw(t){null!=t&&(e.current_point=t)}function Pw(t,n){const r="horizontal"===gx&&"rtl"===e.layout.read_direction,i=qv.events.map((t=>{const e=n(Dx(t));return r?-Math.max(...n.range())+e:e}));let o=0;for(let e=0;e<i.length;e++)Math.abs(t-i[e])<Math.abs(t-i[o])&&(o=e);return o}function Yw(t,e){const n=Pw(t+mw,e);return qv.events[n].actual_row_index}function Bw(t,n,r){let i=Tx.node();const o="horizontal"===gx&&"rtl"===e.layout.read_direction?-Math.max(...r.range())+t:t,a=jw()?0:1e3*e.duration;Tx.transition().duration(a).tween(n,(function(){let t=Dw(i[n],o);return Ux(Pw(i[n]+mw,r)),function(e){i[n]=Math.ceil(t(e))}})).on("end",(function(){}))}function Rw(t,n,r,i){const o="horizontal"===gx&&"rtl"===e.layout.read_direction,a=Math.max(...i.range()),u=t?-1:1,l=dw.overflow_scroll,c=o?r+a:r,s=c+mw;if(l){const e=i(Dx(qv.events[qv.events.length-1])),n=Math.ceil(e-mw);if(c>=n&&!t)return s+l;if(c>n&&t)return Math.max(s-l,n)}let f;if("event"===e.navigation_step_type){const t=Math.ceil(e.navigation_event_number);f=Yw(r,i)+u*t}else{f=Yw(r+u*(n*e.navigation_screen_proportion),i)}f==e.current_point&&(f+=u),f=Math.min(Math.max(0,f),qv.events.length-1);return i(Dx(qv.events[f]))-mw}function Iw(t,e,n){let r=(t.time_end&&yx?n(t.time_end)-n(t.time_start):0)+pw.diameter;return"horizontal"==gx?"width"==e?r:pw.diameter:"height"==e?r:pw.diameter}function Ww(t,e,n){let r=yx?n(t.time_start)-pw.radius:n(t.filtered_row_index)-pw.radius,i=_w.center-pw.radius;return"horizontal"==gx?"x"==e?r:i+hw.margins.top:"y"==e?r:i+hw.margins.left}function Vw(t,e,n){return{x:t*(1-n)/2,y:e*(1-n)/2}}Ow("(prefers-color-scheme: dark)");let Xw=[],Zw=[],Gw=0;function Qw(t,e){if(t>e[0]&&t<e[1])return!0}function Jw(t){qv.events.forEach((function(e,n){const r=n%2==0,i=yx?e.content_offset:0,o=t(Dx(e))+i,a=t(Dx(e));let u=Zw.filter((function(t,e){const n=e%2==0===r,i=Qw(o,t.extent)||Qw(a,t.extent);return n&&i}));if(0==u.length)return;let l=u.map((t=>t.index));l.length&&(i>0?l.push(n):l.unshift(n));let c=function(t){let e=!1,n=null,r=[];return Xw.forEach((function(i,o){for(let a=0;a<i.length;a++)if(t.includes(i[a])){e=!0,n=o,r=t.filter((function(t){return-1==i.indexOf(t)}));break}})),e&&(Xw[n]=Xw[n].concat(r)),e}(l);c||Xw.push(l),u.length>Gw&&(Gw=u.length)}))}function Kw(t,e,n,r){const i="horizontal"==gx,o=gw.marker_connectors/2,a=i?_w.center+_w.top:_w.center+_w.left,u=yx?t.content_offset:0,l=r(Dx(t))+u,c=r(Dx(t)),s=function(t){let e=Xw.filter((e=>e.includes(t)));if(e.length<1)return 0;e=e[0];let n=e.indexOf(t);return gw.marker_connectors/2/(Gw+2)*((n-(e.length-1-n))/2)}(e),f=(pw.width+o)/2,d=f+s,h=n?-d:d,p=f+(o/2-s)+(n?gw.content/2:0),g=[[c,a+0],[c,a+h],[l,a+h],[l,a+(n?-p:p)]],_=i?g:g.map((t=>t.reverse()));let m="";return m+=`M ${_[0].join(" ")}`,m+=`L ${_[1].join(" ")}`,m+=`L ${_[2].join(" ")}`,m+=`L ${_[3].join(" ")}`,m}function tx(t){return function(){return t}}const ex=Math.PI,nx=2*ex,rx=1e-6,ix=nx-rx;function ox(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class ax{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?ox:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ox;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,i,o){this._append`C${+t},${+e},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(t,e,n,r,i){if(t=+t,e=+e,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,u=n-t,l=r-e,c=o-t,s=a-e,f=c*c+s*s;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>rx)if(Math.abs(s*u-l*c)>rx&&i){let d=n-o,h=r-a,p=u*u+l*l,g=d*d+h*h,_=Math.sqrt(p),m=Math.sqrt(f),y=i*Math.tan((ex-Math.acos((p+f-g)/(2*_*m)))/2),b=y/m,v=y/_;Math.abs(b-1)>rx&&this._append`L${t+b*c},${e+b*s}`,this._append`A${i},${i},0,0,${+(s*d>c*h)},${this._x1=t+v*u},${this._y1=e+v*l}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,i,o){if(t=+t,e=+e,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),u=n*Math.sin(r),l=t+a,c=e+u,s=1^o,f=o?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>rx||Math.abs(this._y1-c)>rx)&&this._append`L${l},${c}`,n&&(f<0&&(f=f%nx+nx),f>ix?this._append`A${n},${n},0,1,${s},${t-a},${e-u}A${n},${n},0,1,${s},${this._x1=l},${this._y1=c}`:f>rx&&this._append`A${n},${n},0,${+(f>=ex)},${s},${this._x1=t+n*Math.cos(i)},${this._y1=e+n*Math.sin(i)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ux(t){this._context=t}function lx(t){return new ux(t)}function cx(t){return t[0]}function sx(t){return t[1]}function fx(t,e){var n=tx(!0),r=null,i=lx,o=null,a=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new ax(e)}(u);function u(u){var l,c,s,f=(u=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(u)).length,d=!1;for(null==r&&(o=i(s=a())),l=0;l<=f;++l)!(l<f&&n(c=u[l],l,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(c,l,u),+e(c,l,u));if(s)return o=null,s+""||null}return t="function"==typeof t?t:void 0===t?cx:tx(t),e="function"==typeof e?e:void 0===e?sx:tx(e),u.x=function(e){return arguments.length?(t="function"==typeof e?e:tx(+e),u):t},u.y=function(t){return arguments.length?(e="function"==typeof t?t:tx(+t),u):e},u.defined=function(t){return arguments.length?(n="function"==typeof t?t:tx(!!t),u):n},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u}let dx,hx,px,gx,_x,mx,yx;ux.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};let bx,vx,wx,xx,kx,Mx,Ax,Tx,Nx,Cx,Sx,zx,$x,Ex=!0;function Dx(t){return t?yx?t.time_start:t.filtered_row_index:0}function Fx(){const t="horizontal"===gx;let n=function(){const t="horizontal"===gx,e=qv.events.map((t=>t.value)),n=qv.events.map((t=>Dx(t))),r=t?qv.date_time_display:t=>""+t,i=t?t=>""+t:qv.date_time_display,o=t?n:e,a=t?e:n,u=!t||!yx,l=!!t||!yx,c=t?{keep_gridlines:!0}:{},s=t?{}:{keep_gridlines:!0},f=t?{left:0,right:0}:{top:0,bottom:0};return sb.clip(!1).xAutoTitle("").yAutoTitle("").xFormat(r).yFormat(i).xData(o).yData(a).width(ab.getPrimaryWidth()).height(ab.getPrimaryHeight()).yFlipAxis(!t).xHide(u,c).yHide(l,s).y2Hide(!0).animationDuration(_x).update({margins:f,skip_rendering:!0}),sb}();bw(t?n.xScale():n.yScale()),n=function(t){return sb.width(t.width).height(t.height).update({margins:t.margins,skip_rendering:!1}),pt(".fl-data-foreground").attr("clip-path","none"),sb}(hw),function(t){Tx.attr("class",`timeline-container timeline-container--${gx} timeline-container--${e.events_scale_type}`);const n="horizontal"==gx,r=n?0:t.margin.start,i=n?t.margin.end:0,o=n?0:t.margin.end,a=n?t.margin.start:0;Nx.style("margin-right",`${i}px`).style("margin-bottom",`${o}px`).transition().duration(_x).style("margin-top",`${r}px`).style("margin-left",`${a}px`),bx.style("min-width",null).style("height",`${t.height}px`).style("min-width",`${t.width}px`).style("margin","0px")}(dw);const r=t?n.xScale():n.yScale(),i=t?"scrollLeft":"scrollTop";Hw(r,i),function(t){const e=pw.width/2,n="horizontal"==gx?`0px ${e}px`:`${e}px 0px`;$x.attr("width",t.width).attr("height",t.height).style("margin",n)}(hw),Bv(),function(t){(function(t){let n="zoom"==e.image_sizing?e.image_zoom/100:1,r=Mx.selectAll(".marker-group").data(qv.events,Wv),i=r.enter().append("g").attr("class","marker-group");i.attr("transform",(e=>`translate(${Ww(e,"x",t)}, ${Ww(e,"y",t)})`)).attr("opacity",1),i.append("rect").attr("class","marker-background").attr("id",((t,e)=>`marker-background-${e}`)).attr("opacity",1).attr("width",(e=>Iw(e,"width",t))).attr("height",(e=>Iw(e,"height",t))).attr("rx",pw.radius).attr("ry",pw.radius),i.append("clipPath").attr("id",((t,e)=>`clip-${e}`)).append("use").attr("href",((t,e)=>`#marker-background-${e}`)),i.append("image").attr("clip-path",((t,e)=>`url(#clip-${e})`)).attr("width",(e=>Iw(e,"width",t)*n)).attr("height",(e=>Iw(e,"height",t)*n)).attr("opacity",e.image_opacity).attr("x",(e=>Vw(Iw(e,"width",t),Iw(e,"height",t),n).x)).attr("y",(e=>Vw(Iw(e,"width",t),Iw(e,"height",t),n).y)),i.append("rect").attr("class","marker-border").attr("opacity",1).attr("width",(e=>Iw(e,"width",t))).attr("height",(e=>Iw(e,"height",t))).attr("rx",pw.radius).attr("ry",pw.radius),r.exit().transition().duration(_x).attr("opacity","0").remove();let o=r.merge(i);const a="readable"==ab.getPrimaryScreenReadability();o.transition().duration(_x).attr("transform",(e=>`translate(${Ww(e,"x",t)}, ${Ww(e,"y",t)})`));let u="xMidYMid";"zoom"==e.image_sizing&&(u="xMidYMid slice"),"cover"==e.image_sizing&&(u="none"),o.each((function(r){let i=pt(this),o=i.select(".marker-background"),l=i.select(".marker-border"),c=i.select("image"),s=Iw(r,"width",t),f=Iw(r,"height",t),d=Vw(s,f,n);const h=e.marker_border_color_custom||e.layout.font_color,p="custom"==e.marker_border_color?h:r.color;i.attr("tabindex",a?"0":null).attr("role","button").attr("aria-label",(t=>t.title+", "+t.time_start_display)).on("keydown",a?function(e,n){if("Enter"==e.key){qw(n.actual_row_index);const e="horizontal"==gx?"scrollLeft":"scrollTop";Bw(t(Dx(n)),e,t)}}:null).on("click",(function(e,n){qw(n.actual_row_index);const r="horizontal"==gx?"scrollLeft":"scrollTop";Bw(t(Dx(n)),r,t)})),l.attr("fill","none").attr("stroke-width",pw.border).transition().duration(_x).attr("rx",pw.radius).attr("ry",pw.radius).attr("width",s).attr("height",f).attr("stroke",p);const g=e.marker_background_color_custom||e.layout.background_color,_="custom"==e.marker_background_color?g:r.color;o.transition().duration(_x).attr("rx",pw.radius).attr("ry",pw.radius).attr("width",s).attr("height",f).attr("fill",_),c.attr("href","marker"==e.image_location?r.image:"").attr("preserveAspectRatio",u).transition().duration(_x).attr("x",d.x).attr("y",d.y).attr("opacity","marker"==e.image_location&&r.image?e.image_opacity:0).attr("width",s*n).attr("height",f*n)}))})(t),function(t){let n=xx.selectAll(".marker-connector").data(qv.events,Wv),r=n.enter().append("path").attr("class","marker-connector");r.attr("fill","none"),Zw=qv.events.map((function(e,n){const r=yx?e.content_offset:0;return{index:n,extent:[t(Dx(e))+r,t(Dx(e))].sort(((t,e)=>t-e))}})),Xw=[],Jw(t),n.exit().remove(),n.merge(r).transition().duration(_x).attr("stroke-width",ab.remToPx(e.connector_size)+"px").attr("stroke",e.connector_color||e.layout.font_color).attr("opacity",e.connector_opacity).attr("d",((e,n)=>Kw(e,n,n%2==0,t)))}(t),function(t){const n=pt(".content-container").selectAll(".content").data(qv.events,Wv),r=n.enter().append("div").attr("class","content");r.style("position","absolute").style("left",((e,n)=>sw(e,n,t))).style("top",((e,n)=>cw(e,n,t)));const i=n.merge(r);n.exit().transition().duration(_x).style("opacity","0").remove();const o="horizontal"==gx||e.content_consistent_size,a="horizontal"!==gx||e.content_consistent_size;i.attr("id",((t,e)=>"content-"+e)).style("max-width","horizontal"!==gx?gw.content/2+"px":null).style("width",(t=>o?`${t.offset_width}px`:"auto")).style("max-height","horizontal"==gx?gw.content/2+"px":null).style("height",(t=>a?`${t.offset_height}px`:"auto")).style("background-color",e.content_background_color?e.content_background_color:e.layout.background_color).style("background-image",(t=>"content"==e.image_location&&t.image&&"background"==e.image_display?`url(${t.image})`:"none")).style("background-size",`${"zoom"==e.image_content_sizing?e.image_content_zoom+"%":e.image_content_sizing}`).style("border-right",(t=>aw("right",t.color))).style("border-bottom",(t=>aw("bottom",t.color))).style("border-left",(t=>aw("left",t.color))).style("border-radius",e.content_border_radius+"px").style("color",e.content_text_color).style("opacity",1).html(((t,e)=>lw(t))).transition().duration(_x).style("left",((e,n)=>sw(e,n,t))).style("top",((e,n)=>cw(e,n,t)))}(t),function(t){const n="horizontal"==gx?_w.center+_w.top:_w.center+_w.left;let r=fx().curve(lx).x((e=>"horizontal"==gx?t(Dx(e)):n)).y((e=>"horizontal"==gx?n:t(Dx(e))));kx.attr("opacity",((t,n)=>n?e.line_shadow_opacity:1)).attr("stroke-width",ab.remToPx(e.line_width)+"px").attr("stroke-linecap",e.line_cap).attr("stroke",e.line_color||e.layout.font_color).attr("fill","none").transition().duration(_x).attr("d",r(qv.events))}(t)}(r);const o=qv.events.filter((t=>t.actual_row_index===e.current_point));if(o.length){Bw(r(Dx(o[0])),i,r)}!function(){if(Flourish.fixed_height)return void ab.setHeight(null);const t="horizontal"==gx?ab.getDefaultPrimaryHeight():dw.height;"auto"==e.height_mode&&ab.setHeight(t);"standard"==e.height_mode&&ab.setHeight(ab.getDefaultPrimaryHeight());if("aspect"==e.height_mode){const t="custom"==e.facet_aspect?e.facet_aspect_custom:Number(e.facet_aspect),n="custom"==e.facet_aspect_mobile?e.facet_aspect_mobile_custom:Number(e.facet_aspect_mobile),r=window.innerWidth,i=r>e.facet_aspect_breakpoint?t:n;ab.setHeight(r/i)}}(),function(t,n){let r,i,o=!1;const a="scrollTop"==n;Tx.on("scroll",(function(){Uw(this[n]),Ux(Pw(this[n]+mw,t))})).on("mousewheel",(function(){if(a)return;const r="rtl"===e.layout.read_direction,i=r?-(this.scrollWidth-this.offsetWidth):this.scrollWidth-this.offsetWidth;(r?this.scrollLeft+event.deltaX>0||this.scrollLeft+event.deltaX<i:this.scrollLeft+event.deltaX<0||this.scrollLeft+event.deltaX>i)&&(event.preventDefault(),this.scrollLeft=r?Math.min(0,Math.max(i,this.scrollLeft+event.deltaX)):Math.max(0,Math.min(i,this.scrollLeft+event.deltaX))),Ux(Pw(this[n]+mw,t))})).on("mousedown",(function(t){t.preventDefault(),o=!a||"auto"!==e.height_mode||Flourish.fixed_height,r=gt(t,this)[a?1:0],i=this[n]})).on("mouseup",(function(){o=!1})).on("mousemove",(function(e){if(o){let o=gt(e,this)[a?1:0],u=r-o;this[n]=i+u,Ux(Pw(this[n]+mw,t))}}))}(r,i),Uw(Tx.node()[i])}function Ux(t){const n=qv.events[void 0!==t?t:e.current_point],r="background"in hb.data.column_names;let i="none";n&&r&&!mx&&(i=`url(${n.background})`),Tx.style("background-image",i)}function Hx(){_x=Ex||jw()?0:1e3*e.duration,gx=e.widescreen_orientation,px=e.events_scale_type,yx="timescale"===px;const t=new Set;hb.data.forEach((e=>t.add(e.category||"")));const n=Array.from(t.keys());ub.updateColorScale(n),function(){Lv={events:[]};let t=!0;const e=Yv("time_start"),n=Yv("title"),r=Yv("subtitle");hb.data.forEach((function(i,o){const a=i.time_start||"",u=i.time_end||"";a||(t=!1),Lv.events.push({...i,actual_row_index:o,filtered_row_index:o,time_start:a,time_start_display:e(a)||"",title:n(i.title)||e(a)||"",subtitle:r(i.subtitle||""),time_end:u,color:ub.getColor(i.category||""),value:null,image:i.image||null,background:i.background||null,content_offset:0})})),yx&&Lv.events.sort(((t,e)=>t.time_start-e.time_start)),Lv.date_time_display=e,Lv.column_names=hb.data.column_names,Lv.date_time=t,Pv()}(),yx&&!qv.date_time&&(yx=!1),Bv(n),ab.update(),Ex||(dx=gx!==hx),mx="vertical"==gx&&"auto"==e.height_mode&&!Flourish.fixed_height,mx&&(Lw(),qw(0)),dx&&Lw(),Fx(),function(){let t="auto",n=0;mx||(t="zoom"==e.background_sizing?`${e.background_zoom}%`:e.background_sizing,n=1-e.background_opacity,Ux()),Cx.style("background-color",Rv(e.layout.background_color,n)),zx.attr("stroke",e.layout.background_color).attr("stroke-width",2*ab.remToPx(e.background_gradient_size)).attr("opacity",e.background_gradient_opacity).attr("fill","none").attr("filter","url(#blur-filter)").attr("width",fw.width).attr("height",fw.height),Sx.attr("stdDeviation",ab.remToPx(e.background_gradient_blur)),Tx.style("background-size",t).style("background-repeat","no-repeat").style("background-position","center")}(),hx=gx,Ex=!1}return t.data=hb,t.draw=function(){Ax=pt(ab.getSection("primary")),Tx=Ax.select(".timeline-container"),Tx.style("width","100%").style("overflow-x","auto").style("overflow-y","hidden"),Cx=Tx.append("svg").attr("class","timeline-background"),Sx=Cx.append("filter").attr("id","blur-filter").append("feGaussianBlur"),zx=Cx.append("rect").attr("class","timeline-background-rect"),Nx=Ax.select(".timeline-inner"),Nx.style("display","inline-block").style("position","relative"),$x=Nx.select("svg"),$x.append("defs");const t=pt(".fl-data-foreground");xx=t.append("g").attr("class","marker-connectors"),kx=t.append("g").attr("class","timeline-path").append("path").attr("d",""),Mx=t.append("g").attr("class","markers"),bx=Nx.append("div").classed("content-container",!0).style("position","absolute").style("top",0).style("left",0),vx=Tx.append("div").attr("class","nav nav--next gradient").style("height","100%").style("position","absolute"),wx=Tx.append("div").attr("class","nav nav--prev gradient").style("height","100%").style("position","absolute"),window.onresize=function(){Hx()},ab.awaitFonts(Hx)},t.state=e,t.update=Hx,t}({});
//# sourceMappingURL=template.js.map
</script><script>!function(){"use strict";var e=!1;function t(t){if(e&&window.top!==window.self){var n=window;"srcdoc"===n.location.pathname&&(n=n.parent);var o,i=(o={},window._Flourish_template_id&&(o.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(o.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(o.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(o.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(o.story_id=window.Flourish.app.story.id,o.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(o.slide_index=window.Flourish.app.current_slide.index+1),o),r={sender:"Flourish",method:"customerAnalytics"};for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);n.parent.postMessage(JSON.stringify(r),"*")}}function n(e){if("function"!=typeof e)throw new Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(e)}function o(){e=!0;[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach((function(e){document.body.addEventListener(e.event_name,(function(){t({action:e.action_name})}),e.use_capture)}))}
/*! @license DOMPurify 3.1.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.4/LICENSE */const{entries:i,setPrototypeOf:r,isFrozen:a,getPrototypeOf:l,getOwnPropertyDescriptor:s}=Object;let{freeze:c,seal:u,create:d}=Object,{apply:p,construct:m}="undefined"!=typeof Reflect&&Reflect;c||(c=function(e){return e}),u||(u=function(e){return e}),p||(p=function(e,t,n){return e.apply(t,n)}),m||(m=function(e,t){return new e(...t)});const f=C(Array.prototype.forEach),h=C(Array.prototype.pop),g=C(Array.prototype.push),y=C(String.prototype.toLowerCase),_=C(String.prototype.toString),w=C(String.prototype.match),v=C(String.prototype.replace),T=C(String.prototype.indexOf),A=C(String.prototype.trim),E=C(Object.prototype.hasOwnProperty),b=C(RegExp.prototype.test),S=(N=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return m(N,t)});var N;function x(e){return"number"==typeof e&&isNaN(e)}function C(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return p(e,t,o)}}function R(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;r&&r(e,null);let o=t.length;for(;o--;){let i=t[o];if("string"==typeof i){const e=n(i);e!==i&&(a(t)||(t[o]=e),i=e)}e[i]=!0}return e}function O(e){for(let t=0;t<e.length;t++){E(e,t)||(e[t]=null)}return e}function L(e){const t=d(null);for(const[n,o]of i(e)){E(e,n)&&(Array.isArray(o)?t[n]=O(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=L(o):t[n]=o)}return t}function k(e,t){for(;null!==e;){const n=s(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=l(e)}return function(){return null}}const F=c(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),D=c(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=c(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I=c(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=c(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P=c(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=c(["#text"]),z=c(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),W=c(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),B=c(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),G=c(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=u(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=u(/<%[\w\W]*|[\w\W]*%>/gm),Y=u(/\${[\w\W]*}/gm),$=u(/^data-[\-\w.\u00B7-\uFFFF]/),X=u(/^aria-[\-\w]+$/),J=u(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=u(/^(?:\w+script|data):/i),K=u(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Z=u(/^html$/i),Q=u(/^[a-z][.\w]*(-[.\w]+)+$/i);var ee=Object.freeze({__proto__:null,MUSTACHE_EXPR:j,ERB_EXPR:q,TMPLIT_EXPR:Y,DATA_ATTR:$,ARIA_ATTR:X,IS_ALLOWED_URI:J,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:K,DOCTYPE_NAME:Z,CUSTOM_ELEMENT:Q});const te=1,ne=3,oe=7,ie=8,re=9,ae=function(){return"undefined"==typeof window?null:window},le=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+i+" could not be created."),null}};var se,ce,ue=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae();const n=t=>e(t);if(n.version="3.1.4",n.removed=[],!t||!t.document||t.document.nodeType!==re)return n.isSupported=!1,n;let{document:o}=t;const r=o,a=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:s,Node:u,Element:p,NodeFilter:m,NamedNodeMap:N=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:C,DOMParser:O,trustedTypes:j}=t,q=p.prototype,Y=k(q,"cloneNode"),$=k(q,"nextSibling"),X=k(q,"childNodes"),V=k(q,"parentNode");if("function"==typeof s){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let K,Q="";const{implementation:se,createNodeIterator:ce,createDocumentFragment:ue,getElementsByTagName:de}=o,{importNode:pe}=r;let me={};n.isSupported="function"==typeof i&&"function"==typeof V&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:fe,ERB_EXPR:he,TMPLIT_EXPR:ge,DATA_ATTR:ye,ARIA_ATTR:_e,IS_SCRIPT_OR_DATA:we,ATTR_WHITESPACE:ve,CUSTOM_ELEMENT:Te}=ee;let{IS_ALLOWED_URI:Ae}=ee,Ee=null;const be=R({},[...F,...D,...M,...U,...H]);let Se=null;const Ne=R({},[...z,...W,...B,...G]);let xe=Object.seal(d(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ce=null,Re=null,Oe=!0,Le=!0,ke=!1,Fe=!0,De=!1,Me=!0,Ie=!1,Ue=!1,Pe=!1,He=!1,ze=!1,We=!1,Be=!0,Ge=!1;const je="user-content-";let qe=!0,Ye=!1,$e={},Xe=null;const Je=R({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const Ke=R({},["audio","video","img","source","image","track"]);let Ze=null;const Qe=R({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),et="http://www.w3.org/1998/Math/MathML",tt="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let ot=nt,it=!1,rt=null;const at=R({},[et,tt,nt],_);let lt=null;const st=["application/xhtml+xml","text/html"],ct="text/html";let ut=null,dt=null;const pt=255,mt=o.createElement("form"),ft=function(e){return e instanceof RegExp||e instanceof Function},ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!dt||dt!==e){if(e&&"object"==typeof e||(e={}),e=L(e),lt=-1===st.indexOf(e.PARSER_MEDIA_TYPE)?ct:e.PARSER_MEDIA_TYPE,ut="application/xhtml+xml"===lt?_:y,Ee=E(e,"ALLOWED_TAGS")?R({},e.ALLOWED_TAGS,ut):be,Se=E(e,"ALLOWED_ATTR")?R({},e.ALLOWED_ATTR,ut):Ne,rt=E(e,"ALLOWED_NAMESPACES")?R({},e.ALLOWED_NAMESPACES,_):at,Ze=E(e,"ADD_URI_SAFE_ATTR")?R(L(Qe),e.ADD_URI_SAFE_ATTR,ut):Qe,Ve=E(e,"ADD_DATA_URI_TAGS")?R(L(Ke),e.ADD_DATA_URI_TAGS,ut):Ke,Xe=E(e,"FORBID_CONTENTS")?R({},e.FORBID_CONTENTS,ut):Je,Ce=E(e,"FORBID_TAGS")?R({},e.FORBID_TAGS,ut):{},Re=E(e,"FORBID_ATTR")?R({},e.FORBID_ATTR,ut):{},$e=!!E(e,"USE_PROFILES")&&e.USE_PROFILES,Oe=!1!==e.ALLOW_ARIA_ATTR,Le=!1!==e.ALLOW_DATA_ATTR,ke=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Fe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,De=e.SAFE_FOR_TEMPLATES||!1,Me=!1!==e.SAFE_FOR_XML,Ie=e.WHOLE_DOCUMENT||!1,He=e.RETURN_DOM||!1,ze=e.RETURN_DOM_FRAGMENT||!1,We=e.RETURN_TRUSTED_TYPE||!1,Pe=e.FORCE_BODY||!1,Be=!1!==e.SANITIZE_DOM,Ge=e.SANITIZE_NAMED_PROPS||!1,qe=!1!==e.KEEP_CONTENT,Ye=e.IN_PLACE||!1,Ae=e.ALLOWED_URI_REGEXP||J,ot=e.NAMESPACE||nt,xe=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(xe.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ft(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(xe.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(xe.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Le=!1),ze&&(He=!0),$e&&(Ee=R({},H),Se=[],!0===$e.html&&(R(Ee,F),R(Se,z)),!0===$e.svg&&(R(Ee,D),R(Se,W),R(Se,G)),!0===$e.svgFilters&&(R(Ee,M),R(Se,W),R(Se,G)),!0===$e.mathMl&&(R(Ee,U),R(Se,B),R(Se,G))),e.ADD_TAGS&&(Ee===be&&(Ee=L(Ee)),R(Ee,e.ADD_TAGS,ut)),e.ADD_ATTR&&(Se===Ne&&(Se=L(Se)),R(Se,e.ADD_ATTR,ut)),e.ADD_URI_SAFE_ATTR&&R(Ze,e.ADD_URI_SAFE_ATTR,ut),e.FORBID_CONTENTS&&(Xe===Je&&(Xe=L(Xe)),R(Xe,e.FORBID_CONTENTS,ut)),qe&&(Ee["#text"]=!0),Ie&&R(Ee,["html","head","body"]),Ee.table&&(R(Ee,["tbody"]),delete Ce.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw S('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');K=e.TRUSTED_TYPES_POLICY,Q=K.createHTML("")}else void 0===K&&(K=le(j,a)),null!==K&&"string"==typeof Q&&(Q=K.createHTML(""));c&&c(e),dt=e}},gt=R({},["mi","mo","mn","ms","mtext"]),yt=R({},["foreignobject","annotation-xml"]),_t=R({},["title","style","font","a","script"]),wt=R({},[...D,...M,...I]),vt=R({},[...U,...P]),Tt=function(e){let t=V(e);t&&t.tagName||(t={namespaceURI:ot,tagName:"template"});const n=y(e.tagName),o=y(t.tagName);return!!rt[e.namespaceURI]&&(e.namespaceURI===tt?t.namespaceURI===nt?"svg"===n:t.namespaceURI===et?"svg"===n&&("annotation-xml"===o||gt[o]):Boolean(wt[n]):e.namespaceURI===et?t.namespaceURI===nt?"math"===n:t.namespaceURI===tt?"math"===n&&yt[o]:Boolean(vt[n]):e.namespaceURI===nt?!(t.namespaceURI===tt&&!yt[o])&&(!(t.namespaceURI===et&&!gt[o])&&(!vt[n]&&(_t[n]||!wt[n]))):!("application/xhtml+xml"!==lt||!rt[e.namespaceURI]))},At=function(e){g(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},Et=function(e,t){try{g(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Se[e])if(He||ze)try{At(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){let t=null,n=null;if(Pe)e="<remove></remove>"+e;else{const t=w(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===lt&&ot===nt&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=K?K.createHTML(e):e;if(ot===nt)try{t=(new O).parseFromString(i,lt)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(ot,"template",null);try{t.documentElement.innerHTML=it?Q:i}catch(e){}}const r=t.body||t.documentElement;return e&&n&&r.insertBefore(o.createTextNode(n),r.childNodes[0]||null),ot===nt?de.call(t,Ie?"html":"body")[0]:Ie?t.documentElement:r},St=function(e){return ce.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},Nt=function(e){return e instanceof C&&(void 0!==e.__depth&&"number"!=typeof e.__depth||void 0!==e.__removalCount&&"number"!=typeof e.__removalCount||"string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof N)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},xt=function(e){return"function"==typeof u&&e instanceof u},Ct=function(e,t,o){me[e]&&f(me[e],(e=>{e.call(n,t,o,dt)}))},Rt=function(e){let t=null;if(Ct("beforeSanitizeElements",e,null),Nt(e))return At(e),!0;const o=ut(e.nodeName);if(Ct("uponSanitizeElement",e,{tagName:o,allowedTags:Ee}),e.hasChildNodes()&&!xt(e.firstElementChild)&&b(/<[/\w]/g,e.innerHTML)&&b(/<[/\w]/g,e.textContent))return At(e),!0;if(e.nodeType===oe)return At(e),!0;if(Me&&e.nodeType===ie&&b(/<[/\w]/g,e.data))return At(e),!0;if(!Ee[o]||Ce[o]){if(!Ce[o]&&Lt(o)){if(xe.tagNameCheck instanceof RegExp&&b(xe.tagNameCheck,o))return!1;if(xe.tagNameCheck instanceof Function&&xe.tagNameCheck(o))return!1}if(qe&&!Xe[o]){const t=V(e)||e.parentNode,n=X(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o){const i=Y(n[o],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,$(e))}}}return At(e),!0}return e instanceof p&&!Tt(e)?(At(e),!0):"noscript"!==o&&"noembed"!==o&&"noframes"!==o||!b(/<\/no(script|embed|frames)/i,e.innerHTML)?(De&&e.nodeType===ne&&(t=e.textContent,f([fe,he,ge],(e=>{t=v(t,e," ")})),e.textContent!==t&&(g(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ct("afterSanitizeElements",e,null),!1):(At(e),!0)},Ot=function(e,t,n){if(Be&&("id"===t||"name"===t)&&(n in o||n in mt||"__depth"===n||"__removalCount"===n))return!1;if(Le&&!Re[t]&&b(ye,t));else if(Oe&&b(_e,t));else if(!Se[t]||Re[t]){if(!(Lt(e)&&(xe.tagNameCheck instanceof RegExp&&b(xe.tagNameCheck,e)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(e))&&(xe.attributeNameCheck instanceof RegExp&&b(xe.attributeNameCheck,t)||xe.attributeNameCheck instanceof Function&&xe.attributeNameCheck(t))||"is"===t&&xe.allowCustomizedBuiltInElements&&(xe.tagNameCheck instanceof RegExp&&b(xe.tagNameCheck,n)||xe.tagNameCheck instanceof Function&&xe.tagNameCheck(n))))return!1}else if(Ze[t]);else if(b(Ae,v(n,ve,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==T(n,"data:")||!Ve[e]){if(ke&&!b(we,v(n,ve,"")));else if(n)return!1}else;return!0},Lt=function(e){return"annotation-xml"!==e&&w(e,Te)},kt=function(e){Ct("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const o={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se};let i=t.length;for(;i--;){const r=t[i],{name:a,namespaceURI:l,value:s}=r,c=ut(a);let u="value"===a?s:A(s);if(o.attrName=c,o.attrValue=u,o.keepAttr=!0,o.forceKeepAttr=void 0,Ct("uponSanitizeAttribute",e,o),u=o.attrValue,o.forceKeepAttr)continue;if(Et(a,e),!o.keepAttr)continue;if(!Fe&&b(/\/>/i,u)){Et(a,e);continue}if(Me&&b(/((--!?|])>)|<\/(style|title)/i,u)){Et(a,e);continue}De&&f([fe,he,ge],(e=>{u=v(u,e," ")}));const d=ut(e.nodeName);if(Ot(d,c,u)){if(!Ge||"id"!==c&&"name"!==c||(Et(a,e),u=je+u),K&&"object"==typeof j&&"function"==typeof j.getAttributeType)if(l);else switch(j.getAttributeType(d,c)){case"TrustedHTML":u=K.createHTML(u);break;case"TrustedScriptURL":u=K.createScriptURL(u)}try{l?e.setAttributeNS(l,a,u):e.setAttribute(a,u),Nt(e)?At(e):h(n.removed)}catch(e){}}}Ct("afterSanitizeAttributes",e,null)},Ft=function e(t){let n=null;const o=St(t);for(Ct("beforeSanitizeShadowDOM",t,null);n=o.nextNode();){if(Ct("uponSanitizeShadowNode",n,null),Rt(n))continue;const t=V(n);n.nodeType===te&&(t&&t.__depth?n.__depth=(n.__removalCount||0)+t.__depth+1:n.__depth=1),(n.__depth>=pt||n.__depth<0||x(n.__depth))&&At(n),n.content instanceof l&&(n.content.__depth=n.__depth,e(n.content)),kt(n)}Ct("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null,i=null,a=null,s=null;if(it=!e,it&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xt(e)){if("function"!=typeof e.toString)throw S("toString is not a function");if("string"!=typeof(e=e.toString()))throw S("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Ue||ht(t),n.removed=[],"string"==typeof e&&(Ye=!1),Ye){if(e.nodeName){const t=ut(e.nodeName);if(!Ee[t]||Ce[t])throw S("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)o=bt("\x3c!----\x3e"),i=o.ownerDocument.importNode(e,!0),i.nodeType===te&&"BODY"===i.nodeName||"HTML"===i.nodeName?o=i:o.appendChild(i);else{if(!He&&!De&&!Ie&&-1===e.indexOf("<"))return K&&We?K.createHTML(e):e;if(o=bt(e),!o)return He?null:We?Q:""}o&&Pe&&At(o.firstChild);const c=St(Ye?e:o);for(;a=c.nextNode();){if(Rt(a))continue;const e=V(a);a.nodeType===te&&(e&&e.__depth?a.__depth=(a.__removalCount||0)+e.__depth+1:a.__depth=1),(a.__depth>=pt||a.__depth<0||x(a.__depth))&&At(a),a.content instanceof l&&(a.content.__depth=a.__depth,Ft(a.content)),kt(a)}if(Ye)return e;if(He){if(ze)for(s=ue.call(o.ownerDocument);o.firstChild;)s.appendChild(o.firstChild);else s=o;return(Se.shadowroot||Se.shadowrootmode)&&(s=pe.call(r,s,!0)),s}let d=Ie?o.outerHTML:o.innerHTML;return Ie&&Ee["!doctype"]&&o.ownerDocument&&o.ownerDocument.doctype&&o.ownerDocument.doctype.name&&b(Z,o.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+o.ownerDocument.doctype.name+">\n"+d),De&&f([fe,he,ge],(e=>{d=v(d,e," ")})),K&&We?K.createHTML(d):d},n.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ht(e),Ue=!0},n.clearConfig=function(){dt=null,Ue=!1},n.isValidAttribute=function(e,t,n){dt||ht({});const o=ut(e),i=ut(t);return Ot(o,i,n)},n.addHook=function(e,t){"function"==typeof t&&(me[e]=me[e]||[],g(me[e],t))},n.removeHook=function(e){if(me[e])return h(me[e])},n.removeHooks=function(e){me[e]&&(me[e]=[])},n.removeAllHooks=function(){me={}},n}();function de(){if(null==se){var e=function(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,n,o){for(;o=n.exec(e);)t[decodeURIComponent(o[1])]=decodeURIComponent(o[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}();se="referrer"in e?/^https:\/\/medium.com\//.test(e.referrer):!("auto"in e)}return se}function pe(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function me(e){if(e&&window.top!==window.self){var t=window;"srcdoc"==t.location.pathname&&(t=t.parent);var n={sender:"Flourish",method:"scrolly",captions:e.captions};t.parent.postMessage(JSON.stringify(n),"*")}}function fe(e,t){if(window.top!==window.self){var n=window;if("srcdoc"==n.location.pathname&&(n=n.parent),ce)return e=parseInt(e,10),void n.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var o={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:n.location.toString()};if(t)for(var i in t)o[i]=t[i];n.parent.postMessage(JSON.stringify(o),"*")}}function he(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function ge(e){return"string"==typeof e||e instanceof String}function ye(e){return"warn"!==e.method?(console.warn("BUG: validateWarnMessage called for method"+e.method),!1):!(null!=e.message&&!ge(e.message))&&!(null!=e.explanation&&!ge(e.explanation))}function _e(e){return"resize"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!ge(e.src)&&(!!ge(e.context)&&!!("number"==typeof(t=e.height)?!isNaN(t)&&t>=0:ge(t)&&/\d/.test(t)&&/^[0-9]*(\.[0-9]*)?(cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%)?$/i.test(t)));var t}function we(e){throw new Error("Validation for setSetting is not implemented yet; see issue #4328")}function ve(e){return"scrolly"!==e.method?(console.warn("BUG: validateScrolly called for method"+e.method),!1):!!Array.isArray(e.captions)}function Te(e){return"customerAnalytics"===e.method||(console.warn("BUG: validateCustomerAnalyticsMessage called for method"+e.method),!1)}function Ae(e){return"request-upload"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!ge(e.name)&&!(null!=e.accept&&!ge(e.accept))}function Ee(e,t,n){var o=function(e){for(var t={warn:ye,resize:_e,setSetting:we,customerAnalytics:Te,"request-upload":Ae,scrolly:ve},n={},o=0;o<e.length;o++){var i=e[o];if(!t[i])throw new Error("No validator found for method "+i);n[i]=t[i]}return n}(t);window.addEventListener("message",(function(t){var i=function(){if(t.origin==document.location.origin)return!0;if(n){const e=t.origin.toLowerCase();if(n=n.toLowerCase(),e.endsWith("//"+n))return!0;if(e.endsWith("."+n))return!0}return!!t.origin.match(/\/\/localhost:\d+$|\/\/(?:public|app)\.flourish.devlocal$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$|\/\/flourish-user-templates\.com$/)}();if(null!=t.source&&i){var r;try{r="object"==typeof t.data?t.data:JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===r.sender)if(r.method)if(Object.prototype.hasOwnProperty.call(o,r.method))if(o[r.method](r)){for(var a=document.querySelectorAll("iframe"),l=0;l<a.length;l++)if(a[l].contentWindow==t.source||a[l].contentWindow==t.source.parent)return void e(r,a[l]);console.warn("could not find frame",r)}else console.warn("Validation failed for the message",r);else console.warn("No validator implemented for message",r);else console.warn("The 'method' property was missing from message",r)}})),he()&&(window.addEventListener("resize",be),be())}function be(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var n=e[t];if(!n.getAttribute("data-width")){var o=n.querySelector("iframe");if(o){var i=window.getComputedStyle(n),r=n.offsetWidth-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight);o.style.width=r+"px"}}}}function Se(e,t){var n=e.parentNode;if(n.classList.contains("fl-scrolly-wrapper"))console.warn("createScrolly is being called more than once per story. This should not happen.");else{n.classList.add("fl-scrolly-wrapper"),n.style.position="relative",n.style.paddingBottom="1px",n.style.transform="translate3d(0, 0, 0)",e.style.position="sticky";var o=n.getAttribute("data-height")||null;o||(o="80vh",e.style.height=o),e.style.top="calc(50vh - "+o+"/2)";var i=n.querySelector(".flourish-credit");i&&(i.style.position="sticky",i.style.top="calc(50vh + "+o+"/2)"),t.forEach((function(e,t){var o="string"==typeof e&&""!=e.trim(),i=document.createElement("div");i.setAttribute("data-slide",t),i.classList.add("fl-scrolly-caption"),i.style.position="relative",i.style.transform="translate3d(0,0,0)",i.style.textAlign="center",i.style.maxWidth="500px",i.style.height="auto",i.style.marginTop="0",i.style.marginBottom=o?"100vh":"50vh",i.style.marginLeft="auto",i.style.marginRight="auto";var r=document.createElement("div");r.innerHTML=ue.sanitize(e,{ADD_ATTR:["target"]}),r.style.visibility=o?"":"hidden",r.style.display="inline-block",r.style.paddingTop="1.25em",r.style.paddingRight="1.25em",r.style.paddingBottom="1.25em",r.style.paddingLeft="1.25em",r.style.background="rgba(255,255,255,0.9)",r.style.boxShadow="0px 0px 10px rgba(0,0,0,0.2)",r.style.borderRadius="10px",r.style.textAlign="center",r.style.maxWidth="100%",r.style.margin="0 20px",r.style.overflowX="hidden",i.appendChild(r),n.appendChild(i)})),function(e){for(var t=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var n=e.querySelector("iframe");n&&(n.src=n.src.replace(/#slide-.*/,"")+"#slide-"+t.target.getAttribute("data-slide"))}}))}),{rootMargin:"0px 0px -0% 0px"}),n=e.querySelectorAll(".fl-scrolly-caption"),o=0;o<n.length;o++)t.observe(n[o]);e.querySelectorAll(".fl-scrolly-caption img").forEach((function(e){e.style.maxWidth="100%"}))}(n)}}function Ne(e,t,n,o,i){var r=document.createElement("iframe");if(r.setAttribute("scrolling","no"),r.setAttribute("frameborder","0"),r.setAttribute("title","Interactive or visual content"),r.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(r),r.offsetParent||"fixed"===getComputedStyle(r).position)xe(e,t,r,n,o,i);else{var a={embed_url:e,container:t,iframe:r,width:n,height:o,play_on_load:i};if(window._flourish_poll_items?window._flourish_poll_items.push(a):window._flourish_poll_items=[a],window._flourish_poll_items.length>1)return r;var l=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(xe(e.embed_url,e.container,e.iframe,e.width,e.height,e.play_on_load),!1)})),window._flourish_poll_items.length||clearInterval(l)}),500)}return r}function xe(e,t,n,o,i,r){var a;return o&&"number"==typeof o?(a=o,o+="px"):o&&o.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(a=parseFloat(o)),i&&"number"==typeof i&&(i+="px"),o?n.style.width=o:he()?n.style.width=t.offsetWidth+"px":n.style.width="100%",!!i||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",i=pe(a||n.offsetWidth)+"px"),i&&("%"===i.charAt(i.length-1)&&(i=parseFloat(i)/100*t.parentNode.offsetHeight+"px"),n.style.height=i),n.setAttribute("src",e+(r?"#play-on-load":"")),n}function Ce(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function Re(e,t){for(var n in t)Ce(e[n])&&Ce(t[n])?Re(e[n],t[n]):e[n]=t[n];return e}!function(){var e,i=window.top===window.self,r=i?null:(ce="#amp=1"==window.location.hash,{createEmbedIframe:Ne,isFixedHeight:de,getHeightForBreakpoint:pe,startEventListeners:Ee,notifyParentWindow:fe,initScrolly:me,createScrolly:Se,isSafari:he,initCustomerAnalytics:o,addAnalyticsListener:n,sendCustomerAnalyticsMessage:t}),a=!0;function l(){var t;Flourish.fixed_height||(null!=e?t=e:a&&(t=r.getHeightForBreakpoint()),t!==window.innerHeight&&r.notifyParentWindow(t))}function s(){-1!==window.location.search.indexOf("enable_customer_analytics=1")&&Flourish.enableCustomerAnalytics(),l(),window.addEventListener("resize",l)}Flourish.warn=function(e){if("string"==typeof e&&(e={message:e}),i||"editor"!==Flourish.environment)console.warn(e.message);else{var t={sender:"Flourish",method:"warn",message:e.message,explanation:e.explanation};window.parent.postMessage(JSON.stringify(t),"*")}},Flourish.uploadImage=function(e){if(i||"story_editor"!==Flourish.environment)throw"Invalid upload request";var t={sender:"Flourish",method:"request-upload",name:e.name,accept:e.accept};window.parent.postMessage(JSON.stringify(t),"*")},Flourish.setSetting=function(e,t){if("editor"===Flourish.environment||"sdk"===Flourish.environment){var n={sender:"Flourish",method:"setSetting",name:e,value:t};window.parent.postMessage(JSON.stringify(n),"*")}else if("story_editor"===Flourish.environment){var o={};o[e]=t,Re(window.template.state,function(e){var t=Object.create(null);for(var n in e){for(var o=t,i=n.indexOf("."),r=0;i>=0;i=n.indexOf(".",r=i+1)){var a=n.substring(r,i);a in o||(o[a]=Object.create(null)),o=o[a]}o[n.substring(r)]=e[n]}return t}(o))}},Flourish.setHeight=function(t){Flourish.fixed_height||(e=t,a=null==t,l())},Flourish.checkHeight=function(){if(!i){var e=Flourish.__container_height;null!=e?(Flourish.fixed_height=!0,r.notifyParentWindow(e)):r.isFixedHeight()?Flourish.fixed_height=!0:(Flourish.fixed_height=!1,l())}},Flourish.fixed_height=i||r.isFixedHeight(),Flourish.enableCustomerAnalytics=function(){r&&r.initCustomerAnalytics()},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",s):s()}()}();
//# sourceMappingURL=embedded.js.map
</script><script>
			function _Flourish_unflattenInto(dest, src) {
				dest = dest || {};
				for (var k in src) {
					var t = dest;
					for (var i = k.indexOf("."), p = 0; i >= 0; i = k.indexOf(".", p = i+1)) {
						var s = k.substring(p, i);
						if (!(s in t)) t[s] = {};
						t = t[s];
					}
					t[k.substring(p)] = src[k];
				}
				return dest;
			}
			var _Flourish_settings = {"background_gradient_blur":1.4,"background_gradient_opacity":0.3,"background_gradient_size":0,"background_opacity":0.6,"background_sizing":"cover","color.categorical_palette":["#730000","#9654e5","#ff6283"],"connector_color":"#59ab74","connector_opacity":1,"connector_size":0.2,"connector_space":1.9,"content_background_color":"#112745","content_border_bottom_color_custom":"#1d3751","content_border_bottom_opacity":1,"content_border_bottom_width":0,"content_border_color_custom":"#0054a4","content_border_left_color_custom":"#17273d","content_border_left_opacity":1,"content_border_left_width":0,"content_border_radius":0,"content_border_right_color_custom":"#1d3751","content_border_right_opacity":1,"content_border_right_width":0,"content_border_top_color":"custom","content_border_top_color_custom":"#1d3751","content_border_top_width":0,"content_consistent_size":true,"content_padding":0.6,"content_space_between":0.4,"content_subtitle_alignment":"start","content_subtitle_color":"custom","content_subtitle_color_custom":"#ffffff","content_subtitle_line_height":1.6,"content_subtitle_size":"custom","content_subtitle_size_custom":0.7,"content_subtitle_space_above":"custom","content_subtitle_space_above_custom":1.5,"content_subtitle_styling":true,"content_subtitle_weight":"normal","content_text_alignment":"start","content_text_color_custom":"#ffffff","content_text_line_height":1.8,"content_text_size":"custom","content_text_size_custom":0.7,"content_text_space_above":"0","content_text_styling":true,"content_title_alignment":"center","content_title_color_custom":"#6dcc96","content_title_line_height":1.8,"content_title_size":"custom","content_title_size_custom":0.95,"content_title_space_above":"0","content_title_styling":true,"content_title_weight":"bold","events_scale_type":"linear","facet_aspect":"custom","facet_aspect_custom":1.7,"facet_aspect_mobile":"1.5","height_mode":"aspect","image_location":"marker","image_sizing":"cover","individual_borders":false,"layout.background_color":"#09131d","layout.background_color_enabled":true,"layout.background_image_enabled":true,"layout.body_font":{"name":"Varta","url":"https://fonts.googleapis.com/css?family=Varta:400,700"},"layout.border.enabled":false,"layout.border.top.color":"#dcdcdc","layout.border.top.width":1,"layout.font_color":"#ecebee","layout.footer_logo_src":"https://public.flourish.studio/uploads/39773/9e8d636f-fbae-4cc5-97e9-30dbde4835fa.svg","layout.footer_note":"","layout.footer_text_color":"#999999","layout.header_align":"center","layout.header_text":"This timeline highlights major developments in the outbreak of H5N1 in the\u003c/br> United States from 2022 through December 2024. Scroll to explore key moments.","layout.header_text_color":"#c9c9c9","layout.header_text_size":"custom","layout.header_text_size_custom":1.1,"layout.header_text_styling":true,"layout.margin_bottom":1.5,"layout.margin_left":1.5,"layout.margin_right":1.5,"layout.margin_top":1.5,"layout.max_width_target":"none","layout.space_between_sections":"1","layout.subtitle":"","layout.title":"H5N1 KEY EVENTS","layout.title_color":"#ffffff","layout.title_font":{"name":"Share Tech Mono","url":"https://fonts.googleapis.com/css?family=Share+Tech+Mono:400,700"},"layout.title_size":"2","layout.title_styling":true,"layout.title_weight":"bold","legend_categorical.orientation":"horizontal","legend_categorical.show_legend":true,"legend_categorical.swatch_outline":false,"legend_categorical.swatch_width":1,"line_color":"#6dcc96","link_color":"#cfb8ff","link_underline":false,"link_weight":"bold","marker_background_color":"custom","marker_background_color_custom":"#f5fff8","marker_border_color":"custom","marker_border_color_custom":"#5aac74","marker_border_width":0,"marker_size":0.5,"navigation_event_number":2,"navigation_gradient_color":null,"navigation_icon_color":"#7d6895","navigation_icon_size":4.7,"navigation_step_type":"event","widescreen_orientation":"horizontal","x.gridline_color":"#9e9e9e","x.gridline_width":0.075,"x.tick_label_color":"#e0e0e0","x.tick_label_size":1,"x.tick_label_styling":true,"y.axis_visible":false,"y.gridlines_visible":true,"url_state.enabled":true,"layout.footer_logo_enabled":true,"colors.categorical_palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"color.palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"colors.palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"map_categorical_colors.palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"point_categorical_colors.palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"point_colors.categorical_palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"map_colors.categorical_palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"map.points.colors.categorical_palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"],"map.regions.colors.categorical_palette":["#0054A4","#3DD5FF","#080808","#E53E3A","#FFC728","#44C07B","#7D4391","#8B7B5A","#C1577F","#428A7A","#CF5B17","#D8D9DA"]};
			_Flourish_unflattenInto(window.template.state, _Flourish_settings);
	
			var _Flourish_data_column_names = {"data":{"subtitle":"Event","text":"Location","time_start":"time","title":"title"}},
				_Flourish_data_metadata = {"data":{"subtitle":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"text":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"},"time_start":{"type":"datetime","type_id":"datetime$%d/%m/%y","output_format_id":"datetime$%d/%m/%y"},"title":{"type":"string","type_id":"string$arbitrary_string","output_format_id":"string$arbitrary_string"}}},
				_Flourish_data_timestamps = {"data":{"last_updated":new Date(1734365584971)}},
				_Flourish_data = {"data":[{"subtitle":"First H5N1 infection in the United States since 2016, reported in wild birds","text":"\u003c/br>🌎 North Carolina | \u003ca href=\"https://www.cdc.gov/bird-flu/situation-summary/data-map-wild-birds.html\" target=\"_blank\">U.S. CDC\u003c/a>","time_start":new Date(1704067200000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">JAN. 12, 2022\u003c/span>"},{"subtitle":"First human H1N1 case confirmed in a poultry worker","text":"\u003cbr>🌎 Colorado | \u003ca href=\"https://www.who.int/emergencies/disease-outbreak-news/item/2022-DON379\" target=\"_blank\">WHO\u003c/a>","time_start":new Date(1704153600000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">APR. 22, 2022\u003c/span>"},{"subtitle":"First H5N1 case confirmed in dairy cattle","text":"\u003cbr>🌎 Texas | \u003ca href=\"https://texasagriculture.gov/News-Events/Article/9950/COMMISSIONER-MILLER-SAYS-MYSTERY-DAIRY-COW-DISEASE-HAS-BEEN-IDENTIFIED\" target=\"_blank\">Texas Department of Agriculture\u003c/a>","time_start":new Date(1704240000000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">MAR. 25, 2024\u003c/span>"},{"subtitle":"First reported cow-to-human H5N1 transmission","text":"\u003cbr>🌎 Texas | \u003ca href=\"https://www.dshs.texas.gov/news-alerts/dshs-reports-first-human-case-avian-influenza-texas\" target=\"_blank\">Texas Department of State Health Services\u003c/a>\u003c/div>","time_start":new Date(1704326400000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">APR. 1, 2024\u003c/span>"},{"subtitle":"CDC posts interim guidance for people working with or exposed to animals to reduce exposure to H5N1","text":"\u003cbr>🌎 Nationwide | \u003ca href=\"https://www.cdc.gov/bird-flu/prevention/worker-protection-ppe.html\" target=\"_blank\">U.S. CDC\u003c/a>","time_start":new Date(1704412800000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">APR. 26, 2024\u003c/span>"},{"subtitle":"USDA announces a federal order supporting expended testing and mitigation measures on dairy farms affected by H5N1","text":"\u003cbr>🌎 Nationwide | \u003ca href=\"https://www.usda.gov/media/press-releases/2024/05/10/usda-hhs-announce-new-actions-reduce-impact-and-spread-h5n1\" target=\"_blank\">USDA\u003c/a>","time_start":new Date(1704499200000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">MAY. 10, 2024\u003c/span>"},{"subtitle":"First human H5N1 case with no known exposure to animals, raising alarm bells of a potential human-to-human transmission","text":"\u003cbr>🌎 Missouri | \u003ca href=\"https://health.mo.gov/news/newsitem/uuid/0ca9d648-cb9b-4eca-99a8-f9a1c96a01bd/human-h5-bird-flu-case-confirmed-in-missouri\" target=\"_blank\">Missouri Department of Health and Senior Services\u003c/a>","time_start":new Date(1704585600000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">SEP. 6, 2024\u003c/span>"},{"subtitle":"Seven weeks later, testing confirms that human H5N1 cases in Missouri were not a result of human-to-human transmission","text":"\u003cbr>🌎 Missouri | \u003ca href=\"https://www.cdc.gov/bird-flu/spotlights/missouri-h5n1-serology-testing.html#:~:text=None%20of%20the%20results%20of,all%20%22sero%2Dnegative.%22\" target=\"_blank\">U.S. CDC\u003c/a>","time_start":new Date(1704672000000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">OCT. 24, 2024\u003c/span>"},{"subtitle":"USDA reports the first H5N1 infection in a pig (the animal source of the 2009 epidemic)","text":"\u003cbr>🌎 Nationwide | \u003ca href=\"https://www.aphis.usda.gov/news/agency-announcements/federal-state-veterinary-agencies-share-update-hpai-detections-oregon\" target=\"_blank\">APHIA\u003c/a>","time_start":new Date(1704758400000),"title":"\u003cSpan style=\"background-color:#1677A8; color:#FFFFFF;\">OCT. 30, 2024\u003c/span>"}]},
				_Flourish_visualisation_id = 20764517,
				_Flourish_visualisation_version_number = 363,
				_Flourish_template_id = 54736;
			for (var _Flourish_dataset in _Flourish_data) {
					window.template.data[_Flourish_dataset] = _Flourish_data[_Flourish_dataset];
					window.template.data[_Flourish_dataset].column_names = _Flourish_data_column_names[_Flourish_dataset];
					window.template.data[_Flourish_dataset].metadata = _Flourish_data_metadata[_Flourish_dataset];
					window.template.data[_Flourish_dataset].timestamps = _Flourish_data_timestamps[_Flourish_dataset];
			}
	
			
			window.template.draw();
		</script></body></html>